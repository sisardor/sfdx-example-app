(function() {/*
 Notice * This file contains works from many authors under various (but compatible) licenses. Please see legal.txt for more information. **/
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?(this._wrapped=n,void 0):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):
n._=j,j.VERSION="1.5.2";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length)for(var u=0,i=n.length;i>u;u++){if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=
function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,
n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,
e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:O(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,
t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},
j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return arguments.length<2||r?n[j.random(n.length-1)]:j.shuffle(n).slice(0,Math.max(0,t))};var k=function(n){return j.isFunction(n)?
n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=k(t);return j.pluck(j.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={},i=null==r?j.identity:k(r);return A(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};j.groupBy=F(function(n,t,r){(j.has(n,t)?n[t]:n[t]=[]).push(r)}),
j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:k(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==
t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,
t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,n)>=0})})},j.difference=function(n){var t=
c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+
r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&
n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");
return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,
u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=
n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=w||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=
j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t=
{},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==
t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case "[object String]":return n==String(t);case "[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case "[object Date]":case "[object Boolean]":return+n==+t;case "[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==
t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||
j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==
typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=
function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],function(t){return I[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?
r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,
r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+
"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o;}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;
return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(){var h=this,p=h.Backbone,e;e=typeof exports!=="undefined"?exports:h.Backbone={};e.VERSION="0.5.1";var f=h._;if(!f&&typeof require!=="undefined")f=require("underscore")._;var g=h.jQuery||h.Zepto;e.noConflict=function(){h.Backbone=p;return this};e.emulateHTTP=!1;e.emulateJSON=!1;e.Events={bind:function(a,b){var c=this._callbacks||(this._callbacks={});(c[a]||(c[a]=[])).push(b);return this},unbind:function(a,b){var c;if(a){if(c=this._callbacks)if(b){c=c[a];if(!c)return this;for(var d=0,e=c.length;d<
e;d++)if(b===c[d]){c[d]=null;break}}else c[a]=[]}else this._callbacks={};return this},trigger:function(a){var b,c,d,e,f=2;if(!(c=this._callbacks))return this;for(;f--;)if(b=f?a:"all",b=c[b])for(var g=0,h=b.length;g<h;g++)(d=b[g])?(e=f?Array.prototype.slice.call(arguments,1):arguments,d.apply(this,e)):(b.splice(g,1),g--,h--);return this}};e.Model=function(a,b){var c;a||(a={});if(c=this.defaults)f.isFunction(c)&&(c=c()),a=f.extend({},c,a);this.attributes={};this._escapedAttributes={};this.cid=f.uniqueId("c");
this.set(a,{silent:!0});this._changed=!1;this._previousAttributes=f.clone(this.attributes);if(b&&b.collection)this.collection=b.collection;this.initialize(a,b)};f.extend(e.Model.prototype,e.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return f.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;b=this.attributes[a];return this._escapedAttributes[a]=(b==null?"":
""+b).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27").replace(/\//g,"&#x2F;")},has:function(a){return this.attributes[a]!=null},set:function(a,b){b||(b={});if(!a)return this;if(a.attributes)a=a.attributes;var c=this.attributes,d=this._escapedAttributes;if(!b.silent&&this.validate&&!this._performValidation(a,b))return!1;if(this.idAttribute in a)this.id=a[this.idAttribute];var e=this._changing;this._changing=!0;
for(var g in a){var h=a[g];if(!f.isEqual(c[g],h))c[g]=h,delete d[g],this._changed=!0,b.silent||this.trigger("change:"+g,this,h,b)}!e&&!b.silent&&this._changed&&this.change(b);this._changing=!1;return this},unset:function(a,b){if(!(a in this.attributes))return this;b||(b={});var c={};c[a]=void 0;if(!b.silent&&this.validate&&!this._performValidation(c,b))return!1;delete this.attributes[a];delete this._escapedAttributes[a];a==this.idAttribute&&delete this.id;this._changed=!0;b.silent||(this.trigger("change:"+
a,this,void 0,b),this.change(b));return this},clear:function(a){a||(a={});var b,c=this.attributes,d={};for(b in c)d[b]=void 0;if(!a.silent&&this.validate&&!this._performValidation(d,a))return!1;this.attributes={};this._escapedAttributes={};this._changed=!0;if(!a.silent){for(b in c)this.trigger("change:"+b,this,void 0,a);this.change(a)}return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||
e.sync).call(this,"read",this,a)},save:function(a,b){b||(b={});if(a&&!this.set(a,b))return!1;var c=this,d=b.success;b.success=function(a,e,f){if(!c.set(c.parse(a,f),b))return!1;d&&d(c,a,f)};b.error=i(b.error,c,b);var f=this.isNew()?"create":"update";return(this.sync||e.sync).call(this,f,this,b)},destroy:function(a){a||(a={});if(this.isNew())return this.trigger("destroy",this,this.collection,a);var b=this,c=a.success;a.success=function(d){b.trigger("destroy",b,b.collection,a);c&&c(b,d)};a.error=i(a.error,
b,a);return(this.sync||e.sync).call(this,"delete",this,a)},url:function(){var a=k(this.collection)||this.urlRoot||l();if(this.isNew())return a;return a+(a.charAt(a.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(a){this.trigger("change",this,a);this._previousAttributes=f.clone(this.attributes);this._changed=!1},hasChanged:function(a){if(a)return this._previousAttributes[a]!=
this.attributes[a];return this._changed},changedAttributes:function(a){a||(a=this.attributes);var b=this._previousAttributes,c=!1,d;for(d in a)f.isEqual(b[d],a[d])||(c=c||{},c[d]=a[d]);return c},previous:function(a){if(!a||!this._previousAttributes)return null;return this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},_performValidation:function(a,b){var c=this.validate(a);if(c)return b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1;return!0}});
e.Collection=function(a,b){b||(b={});if(b.comparator)this.comparator=b.comparator;f.bindAll(this,"_onModelEvent","_removeReference");this._reset();a&&this.reset(a,{silent:!0});this.initialize.apply(this,arguments)};f.extend(e.Collection.prototype,e.Events,{model:e.Model,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,b){if(f.isArray(a))for(var c=0,d=a.length;c<d;c++)this._add(a[c],b);else this._add(a,b);return this},remove:function(a,b){if(f.isArray(a))for(var c=
0,d=a.length;c<d;c++)this._remove(a[c],b);else this._remove(a,b);return this},get:function(a){if(a==null)return null;return this._byId[a.id!=null?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.models=this.sortBy(this.comparator);a.silent||this.trigger("reset",this,a);return this},pluck:function(a){return f.map(this.models,function(b){return b.get(a)})},
reset:function(a,b){a||(a=[]);b||(b={});this.each(this._removeReference);this._reset();this.add(a,{silent:!0});b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,f,e){b[a.add?"add":"reset"](b.parse(d,e),a);c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||e.sync).call(this,"read",this,a)},create:function(a,b){var c=this;b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var d=b.success;b.success=function(a,e,f){c.add(a,b);
d&&d(a,e,f)};a.save(null,b);return a},parse:function(a){return a},chain:function(){return f(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(a,b){if(a instanceof e.Model){if(!a.collection)a.collection=this}else{var c=a;a=new this.model(c,{collection:this});a.validate&&!a._performValidation(c,b)&&(a=!1)}return a},_add:function(a,b){b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var c=this.getByCid(a)||this.get(a);if(c)throw Error(["Can't add the same model to a set twice",
c.id]);this._byId[a.id]=a;this._byCid[a.cid]=a;this.models.splice(b.at!=null?b.at:this.comparator?this.sortedIndex(a,this.comparator):this.length,0,a);a.bind("all",this._onModelEvent);this.length++;b.silent||a.trigger("add",a,this,b);return a},_remove:function(a,b){b||(b={});a=this.getByCid(a)||this.get(a);if(!a)return null;delete this._byId[a.id];delete this._byCid[a.cid];this.models.splice(this.indexOf(a),1);this.length--;b.silent||a.trigger("remove",a,this,b);this._removeReference(a);return a},
_removeReference:function(a){this==a.collection&&delete a.collection;a.unbind("all",this._onModelEvent)},_onModelEvent:function(a,b,c,d){(a=="add"||a=="remove")&&c!=this||(a=="destroy"&&this._remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b),this.trigger.apply(this,arguments))}});f.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max",
"min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"],function(a){e.Collection.prototype[a]=function(){return f[a].apply(f,[this.models].concat(f.toArray(arguments)))}});e.Router=function(a){a||(a={});if(a.routes)this.routes=a.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var q=/:([\w\d]+)/g,r=/\*([\w\d]+)/g,s=/[-[\]{}()+?.,\\^$|#\s]/g;f.extend(e.Router.prototype,e.Events,{initialize:function(){},route:function(a,b,c){e.history||
(e.history=new e.History);f.isRegExp(a)||(a=this._routeToRegExp(a));e.history.route(a,f.bind(function(d){d=this._extractParameters(a,d);c.apply(this,d);this.trigger.apply(this,["route:"+b].concat(d))},this))},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){if(this.routes){var a=[],b;for(b in this.routes)a.unshift([b,this.routes[b]]);b=0;for(var c=a.length;b<c;b++)this.route(a[b][0],a[b][1],this[a[b][1]])}},_routeToRegExp:function(a){a=a.replace(s,"\\$&").replace(q,"([^/]*)").replace(r,
"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});e.History=function(){this.handlers=[];f.bindAll(this,"checkUrl")};var j=/^#*/,t=/msie [\w.]+/,m=!1;f.extend(e.History.prototype,{interval:50,getFragment:function(a,b){if(a==null)if(this._hasPushState||b){a=window.location.pathname;var c=window.location.search;c&&(a+=c);a.indexOf(this.options.root)==0&&(a=a.substr(this.options.root.length))}else a=window.location.hash;return a.replace(j,"")},start:function(a){if(m)throw Error("Backbone.history has already been started");
this.options=f.extend({},{root:"/"},this.options,a);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);a=this.getFragment();var b=document.documentMode;if(b=t.exec(navigator.userAgent.toLowerCase())&&(!b||b<=7))this.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a);this._hasPushState?g(window).bind("popstate",this.checkUrl):"onhashchange"in window&&!b?
g(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=a;m=!0;a=window.location;b=a.pathname==this.options.root;if(this._wantsPushState&&!this._hasPushState&&!b)this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment);else if(this._wantsPushState&&this._hasPushState&&b&&a.hash)this.fragment=a.hash.replace(j,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment);
return this.loadUrl()},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a==this.fragment&&this.iframe&&(a=this.getFragment(this.iframe.location.hash));if(a==this.fragment||a==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return f.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},
navigate:function(a,b){var c=(a||"").replace(j,"");if(!(this.fragment==c||this.fragment==decodeURIComponent(c))){if(this._hasPushState){var d=window.location;c.indexOf(this.options.root)!=0&&(c=this.options.root+c);this.fragment=c;window.history.pushState({},document.title,d.protocol+"//"+d.host+c)}else if(window.location.hash=this.fragment=c,this.iframe&&c!=this.getFragment(this.iframe.location.hash))this.iframe.document.open().close(),this.iframe.location.hash=c;b&&this.loadUrl(a)}}});e.View=function(a){this.cid=
f.uniqueId("view");this._configure(a||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var u=/^(\S+)\s*(.*)$/,n=["model","collection","el","id","attributes","className","tagName"];f.extend(e.View.prototype,e.Events,{tagName:"div",$:function(a){return g(a,this.el)},initialize:function(){},render:function(){return this},remove:function(){g(this.el).remove();return this},make:function(a,b,c){a=document.createElement(a);b&&g(a).attr(b);c&&g(a).html(c);return a},delegateEvents:function(a){if(a||
(a=this.events))for(var b in g(this.el).unbind(".delegateEvents"+this.cid),a){var c=this[a[b]];if(!c)throw Error('Event "'+a[b]+'" does not exist');var d=b.match(u),e=d[1];d=d[2];c=f.bind(c,this);e+=".delegateEvents"+this.cid;d===""?g(this.el).bind(e,c):g(this.el).delegate(d,e,c)}},_configure:function(a){this.options&&(a=f.extend({},this.options,a));for(var b=0,c=n.length;b<c;b++){var d=n[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(this.el){if(f.isString(this.el))this.el=
g(this.el).get(0)}else{var a=this.attributes||{};if(this.id)a.id=this.id;if(this.className)a["class"]=this.className;this.el=this.make(this.tagName,a)}}});e.Model.extend=e.Collection.extend=e.Router.extend=e.View.extend=function(a,b){var c=v(this,a,b);c.extend=this.extend;return c};var w={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(a,b,c){var d=w[a];c=f.extend({type:d,dataType:"json",processData:!1},c);if(!c.url)c.url=k(b)||l();if(!c.data&&b&&(a=="create"||a=="update"))c.contentType=
"application/json",c.data=JSON.stringify(b.toJSON());if(e.emulateJSON)c.contentType="application/x-www-form-urlencoded",c.processData=!0,c.data=c.data?{model:c.data}:{};if(e.emulateHTTP&&(d==="PUT"||d==="DELETE")){if(e.emulateJSON)c.data._method=d;c.type="POST";c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)}}return g.ajax(c)};var o=function(){},v=function(a,b,c){var d;d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return a.apply(this,arguments)};f.extend(d,
a);o.prototype=a.prototype;d.prototype=new o;b&&f.extend(d.prototype,b);c&&f.extend(d,c);d.prototype.constructor=d;d.__super__=a.prototype;return d},k=function(a){if(!a||!a.url)return null;return f.isFunction(a.url)?a.url():a.url},l=function(){throw Error('A "url" property or function must be specified');},i=function(a,b,c){return function(d){a?a(b,d,c):b.trigger("error",b,d,c)}}}).call(this);var fakeworker=function(global){function extend(dest,src){for(var i in src)dest[i]=src[i]}var userAgent=navigator.userAgent.toLowerCase();var browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};function httpSuccess(xhr){try{return!xhr.status&&location.protocol=="file:"||xhr.status>=200&&
xhr.status<300||xhr.status==304||xhr.status==1223||browser.safari&&xhr.status==undefined}catch(e){}return false}function __syncXhrGet(url,fn){var xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;xhr.open("GET",url,false);xhr.send("");if(httpSuccess(xhr))fn(xhr);else throw new Error("Could not load resource("+url+") result="+xhr.status+":"+xhr.statusText);}function parseUri(str){var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;
while(i--)uri[o.key[i]]=m[i]||"";uri[o.q.name]={};uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){if($1)uri[o.q.name][$1]=$2});return uri}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function absolutePath(path){var e=document.createElement("span");e.innerHTML='<a href="'+path+'" />';return e.firstChild.href}function FakeMessageEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}
FakeMessageEvent.prototype={initMessageEvent:function(type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.initMessageEventNS("",type,canBubble,cancelable,data,origin,lastEventId,source,ports)},initMessageEventNS:function(namespaceURI,type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.namespaceURI=namespaceURI;this.type=type;this.canBubble=canBubble;this.cancelable=cancelable;this.data=data;this.origin=origin;this.lastEventId=lastEventId;this.source=source;this.ports=
ports}};function FakeErrorEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}FakeErrorEvent.prototype={initErrorEvent:function(type,canBubble,cancelable,message,filename,lineno){this.initErrorEventNS("",type,canBubble,cancelable,message,filename,lineno)},initErrorEventNS:function(namespaceURI,type,canBubble,cancelable,message,filename,lineno){this.namespaceURI=namespaceURI;this.type=
type;this.canBubble=canBubble;this.cancelable=cancelable;this.message=message;this.filename=filename;this.lineno=lineno}};var nativeWorker=global["Worker"];var FakeWorker=function(url){var self=this;this._listenerNamespaces={};this._eventQueues={};__syncXhrGet(url,function(xhr){try{self._workerContext=new FakeWorkerContext(url,xhr.responseText,self)}catch(e){throw e;}})};FakeWorker.prototype={isFake:true,addEventListener:function(type,listener,useCapture){this.addEventListenerNS("",type,listener,
useCapture)},addEventListenerNS:function(namespaceURI,type,listener,useCapture){var namespace=this._listenerNamespaces[namespaceURI];if(!namespace)this._listenerNamespaces[namespaceURI]=namespace={};var listeners=namespace[type];if(!listeners)namespace[type]=listeners=[];listeners.push(listener)},removeEventListener:function(type,listener,useCapture){this.removeEventListener("",type,listener,useCapture)},removeEventListenerNS:function(namespaceURI,eventName,fn,useCapture){var namespace=this._listenerNamespaces[namespaceURI];
if(namespace){var listeners=namespace[type];if(listeners)for(var i=0;i<listeners.length;i++)if(listeners[i]===listener)delete listeners[i]}},dispatchEvent:function(event){if(typeof this["on"+event.type]=="function")this["on"+event.type].call(this,event);var namespace=this._listenerNamespaces[event.namespaceURI];if(namespace){var listeners=namespace[event.type];if(listeners)for(var i=0;i<listeners.length;i++)listeners[i].call(this,event)}return true},postMessage:function(msg){var self=this;var workerContext=
this._workerContext;if(typeof workerContext.onmessage=="function"){var event=new FakeMessageEvent(self);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){try{workerContext.onmessage.call(workerContext,event)}catch(e){var errorEvent=new FakeErrorEvent(self);var lineno=e.line||e.lineNumber;errorEvent.initErrorEvent("error",false,false,e.message,workerContext.location.filename,lineno);self.dispatchEvent(errorEvent);throw e;}},0)}},terminate:function(){this._workerContext.close()}};
function FakeWorkerLocation(url){var absolute=absolutePath(url);var parsed=parseUri(absolute);this.href=absolute;this.protocol=parsed.protocol+":";this.host=parsed.port?parsed.host+":"+parsed.port:parsed.host;this.hostname=parsed.host;this.port=parsed.port;this.pathname=parsed.path;this.search=parsed.query?"?"+parsed.query:"";this.hash=parsed.anchor?"#"+parsed.anchor:"";this.filename=parsed.file}FakeWorkerLocation.prototype={toString:function(){return this.href}};function FakeWorkerContext(url,source,
worker){var postMessage=this.postMessage=function(msg){var event=new FakeMessageEvent(worker);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){worker.dispatchEvent(event)},0)};var setTimeout=this.setTimeout=global.setTimeout;var clearTimeout=this.clearTimeout=global.clearTimeout;var setInterval=this.setInterval=global.setInterval;var clearInterval=this.clearInterval=global.clearInterval;var XMLHttpRequest=this.XMLHttpRequest=global.XMLHttpRequest;var openDatabase=
this.openDatabase=global.openDatabase;var openDatabaseSync=this.openDatabaseSync=global.openDatabaseSync;var WebSocket=this.WebSocket=global.WebSocket;var EventSource=this.EventSource=global.EventSource;var MessageChannel=this.MessageChannel=global.MessageChannel;var Worker=this.Worker=FakeWorker;var location=this.location=new FakeWorkerLocation(url);var close=this.close=function(){this.closing=true};var navigator=this.navigator=global.navigator;var self=this.self=this;var importScripts=this.importScripts=
function(){for(var i=0;i<arguments.length;i++)__syncXhrGet(arguments[i],function(xhr){eval(xhr.responseText)})};eval(source);try{if(typeof onmessage=="function")this.onmessage=onmessage}catch(e){}}var ret={nativeWorker:nativeWorker,install:function(){global["Worker"]=FakeWorker},uninstall:function(){global["Worker"]=nativeWorker}};if(typeof Worker==="undefined"||browser.opera)ret.install();return ret}(this);(function(exports){exports.utils=exports.utils||{};if(!String.fromCodePoint)(function(){var defineProperty=function(){var result;try{var object={};var $defineProperty=Object.defineProperty;result=$defineProperty(object,object,object)&&$defineProperty}catch(error){}return result}();var stringFromCharCode=String.fromCharCode;var floor=Math.floor;var fromCodePoint=function(){var MAX_SIZE=16384;var codeUnits=[];var highSurrogate;var lowSurrogate;var index=-1;var length=arguments.length;if(!length)return"";
var result="";while(++index<length){var codePoint=Number(arguments[index]);if(!isFinite(codePoint)||codePoint<0||codePoint>1114111||floor(codePoint)!==codePoint)throw RangeError("Invalid code point: "+codePoint);if(codePoint<=65535)codeUnits.push(codePoint);else{codePoint-=65536;highSurrogate=(codePoint>>10)+55296;lowSurrogate=codePoint%1024+56320;codeUnits.push(highSurrogate,lowSurrogate)}if(index+1===length||codeUnits.length>MAX_SIZE){result+=stringFromCharCode.apply(null,codeUnits);codeUnits.length=
0}}return result};if(defineProperty)defineProperty(String,"fromCodePoint",{"value":fromCodePoint,"configurable":true,"writable":true});else String.fromCodePoint=fromCodePoint})();if(!Element.prototype.scrollIntoViewIfNeeded)Element.prototype.scrollIntoViewIfNeeded=function(centerIfNeeded){function withinBounds(value,min,max,extent){if(centerIfNeeded===false||max<=value+extent&&value<=min+extent)return Math.min(max,Math.max(min,value));return(min+max)/2}function makeArea(left,top,width,height){return{"left":left,
"top":top,"width":width,"height":height,"right":left+width,"bottom":top+height,"translate":function(x,y){return makeArea(x+left,y+top,width,height)},"relativeFromTo":function(lhs,rhs){var newLeft=left,newTop=top;lhs=lhs.offsetParent;rhs=rhs.offsetParent;if(lhs===rhs)return area;for(;lhs;lhs=lhs.offsetParent){newLeft+=lhs.offsetLeft+lhs.clientLeft;newTop+=lhs.offsetTop+lhs.clientTop}for(;rhs;rhs=rhs.offsetParent){newLeft-=rhs.offsetLeft+rhs.clientLeft;newTop-=rhs.offsetTop+rhs.clientTop}return makeArea(newLeft,
newTop,width,height)}}}var parent,elem=this,area=makeArea(this.offsetLeft,this.offsetTop,this.offsetWidth,this.offsetHeight);while((parent=elem.parentNode)instanceof HTMLElement){var clientLeft=parent.offsetLeft+parent.clientLeft;var clientTop=parent.offsetTop+parent.clientTop;area=area.relativeFromTo(elem,parent).translate(-clientLeft,-clientTop);parent.scrollLeft=withinBounds(parent.scrollLeft,area.right-parent.clientWidth,area.left,parent.clientWidth);parent.scrollTop=withinBounds(parent.scrollTop,
area.bottom-parent.clientHeight,area.top,parent.clientHeight);area=area.translate(clientLeft-parent.scrollLeft,clientTop-parent.scrollTop);elem=parent}};if(window.NodeList&&!NodeList.prototype.forEach)NodeList.prototype.forEach=function(callback,thisArg){thisArg=thisArg||window;for(var i=0;i<this.length;i++)callback.call(thisArg,this[i],i,this)};exports.console=exports.console||{log:function(){},warn:function(){},error:function(){},assert:function(){}};if(!String.prototype.startsWith)String.prototype.startsWith=
function(search,pos){return this.substr(!pos||pos<0?0:+pos,search.length)===search};if(!String.prototype.endsWith)String.prototype.endsWith=function(search,thisLen){if(thisLen===undefined||thisLen>this.length)thisLen=this.length;return this.substring(thisLen-search.length,thisLen)===search};console.assert=function(condition,message){if(!condition)if(exports._trnDebugMode)throw new Error("Assertion failed: "+message);else console.warn("Assertion failed: "+message)};exports.$log=exports.$out=function(){Array.prototype.forEach.call(arguments,
function(e){console.log(e)})};var ie=function(){var ua=navigator.userAgent.toLowerCase();var match=/(msie) ([\w.]+)/.exec(ua)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(ua);return match?parseInt(match[2],10):match}();exports.utils.ie=ie;exports.utils.windowsApp=false;exports.utils.isEdge=!!navigator.userAgent.match(/Edge/i);exports.utils.isMobileDevice=function(){return!!(!ie&&(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||
navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Touch/i)||navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/Silk/i)))}();exports.busyLoop=function(step,finished,sync){var start=Date.now();function nextSlice(){while(step())if(Date.now()-start>100&&!sync){start=Date.now();setTimeout(nextSlice,0);return}finished()}nextSlice()};exports.utils.mouseUpEventBug=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/i);exports.utils.isChrome=function(){var opera=window.navigator.userAgent.match(/OPR/);
var maxthon=window.navigator.userAgent.match(/Maxthon/);var edge=window.navigator.userAgent.match(/Edge/);return window.navigator.userAgent.match(/Chrome\/(.*?) /)&&!opera&&!maxthon&&!edge}();var chromeVersion=function(){var match=window.navigator.userAgent.match(/Chrome\/(.*?) /);return match?parseInt(match[1],10):match}();exports.utils.chromeHasSubzero=exports.utils.isChrome&&chromeVersion>=56;exports.utils.isSafari=window.navigator.userAgent.match(/Safari/)&&!exports.utils.isChrome&&!exports.utils.isEdge;
exports.utils.isFirefox=window.navigator.userAgent.match(/Firefox/);exports.utils.disableFormCharacterProcessing=window.navigator.userAgent.indexOf("Android")>-1;var multiplierOverride;var getCanvasMultiplier=function(){return function(){if(!_.isUndefined(multiplierOverride))return multiplierOverride;return Math.min(window.devicePixelRatio,2)||1}}();exports.utils.getCanvasMultiplier=getCanvasMultiplier;exports.utils.setCanvasMultiplier=function(value){multiplierOverride=value};exports.utils.unsetCanvasMultiplier=
function(){multiplierOverride=undefined};exports.utils.canvasFontMultiplier=function(){var canvas=document.createElement("canvas");var ctx=canvas.getContext("2d");var testSize=20;ctx.font=testSize+"px f0";return parseFloat(ctx.font)/testSize}();if(window.CanvasPixelArray)window.CanvasPixelArray.prototype.set=function(arr){var l=this.length,i=0;for(;i<l;i+=4){this[i]=arr[i];this[i+1]=arr[i+1];this[i+2]=arr[i+2];this[i+3]=255}};if(!window.Uint8ClampedArray)window.Uint8ClampedArray=window.Uint8Array;
var canvasClipBug=function(){function basicClipIssue(){var canvas=document.createElement("canvas");canvas.style.width="1px";canvas.style.height="1px";var ctx=canvas.getContext("2d");ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,1,1);ctx.beginPath();ctx.rect(0,0,1,1);ctx.clip();ctx.fillStyle="#000000";ctx.fillRect(0,0,1,1);var val=ctx.getImageData(0,0,1,1).data[0];return val===255}function nonIntegerValueIssue(){var canvas=document.createElement("canvas");canvas.style.width="5px";canvas.style.height="5px";
var ctx=canvas.getContext("2d");ctx.rect(0,0,4.5,4.5);ctx.clip();ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,5,5);ctx.clearRect(0,0,5,5);var val=ctx.getImageData(1,1,1,1).data[3];return val!==0}return basicClipIssue()||nonIntegerValueIssue()}();exports.utils.canvasClipBug=canvasClipBug;var typedArrayApply=function(){if(exports.Uint8Array)try{var testArray=new exports.Uint8Array(new ArrayBuffer(1));String.fromCharCode.apply(null,testArray);return true}catch(e){return false}else return false}();exports.utils.typedArrayApply=
typedArrayApply;exports.utils.hasObjectURL=!!(exports.URL&&exports.URL.createObjectURL);if(!Document.prototype.createAttributeNS)Document.prototype.createAttributeNS=function(namespaceURI,qualifiedName){var dummy=this.createElement("dummy");dummy.setAttributeNS(namespaceURI,qualifiedName,"");var attr=dummy.attributes[0];dummy.removeAttributeNode(attr);return attr};if(!Element.prototype.setAttributeNodeNS)Element.prototype.setAttributeNodeNS=Element.prototype.setAttributeNode;exports.utils.xmlSerializerNamespaceSupported=
function(){var body=document.createElementNS("http://www.w3.org/1999/xhtml","body");var attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:spec");attr.nodeValue="2.0.2";body.setAttributeNodeNS(attr);attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion");attr.nodeValue="Acrobat:10.1.3";body.setAttributeNodeNS(attr);var serializer=new XMLSerializer;var annotstr=serializer.serializeToString(body);function passTest(actual){return actual.indexOf(' xmlns="http://www.w3.org/1999/xhtml"')>
0&&actual.indexOf(' xfa:spec="2.0.2"')>0&&actual.indexOf(' xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/"')>0&&actual.indexOf(' xfa:APIVersion="Acrobat:10.1.3"')>0}var result=passTest(annotstr);var $body=$("<body>").attr({"xmlns":"http://www.w3.org/1999/xhtml","xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});annotstr=serializer.serializeToString($body[0]);exports.utils.xmlSerializerJQueryNamespaceSupported=passTest(annotstr);return result}();
window.matchMedia||(window.matchMedia=function(){var styleMedia=window.styleMedia||window.media;if(!styleMedia){var style=document.createElement("style"),script=document.getElementsByTagName("script")[0],info=null;style.type="text/css";style.id="matchmediajs-test";script.parentNode.insertBefore(style,script);info="getComputedStyle"in window&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function(media){var text="@media "+media+"{ #matchmediajs-test { width: 1px; } }";
if(style.styleSheet)style.styleSheet.cssText=text;else style.textContent=text;return info.width==="1px"}}}return function(media){return{matches:styleMedia.matchMedium(media||"all"),media:media||"all"}}}());(function(){if(window.matchMedia&&window.matchMedia("all").addListener)return false;var localMatchMedia=window.matchMedia,hasMediaQueries=localMatchMedia("only all").matches,isListening=false,timeoutID=0,queries=[],handleChange=function(){clearTimeout(timeoutID);timeoutID=setTimeout(function(){for(var i=
0,il=queries.length;i<il;i++){var mql=queries[i].mql,listeners=queries[i].listeners||[],matches=localMatchMedia(mql.media).matches;if(matches!==mql.matches){mql.matches=matches;for(var j=0,jl=listeners.length;j<jl;j++)listeners[j].call(window,mql)}}},30)};window.matchMedia=function(media){var mql=localMatchMedia(media),listeners=[],index=0;mql.addListener=function(listener){if(!hasMediaQueries)return;if(!isListening){isListening=true;window.addEventListener("resize",handleChange,true)}if(index===
0)index=queries.push({mql:mql,listeners:listeners});listeners.push(listener)};mql.removeListener=function(listener){for(var i=0,il=listeners.length;i<il;i++)if(listeners[i]===listener)listeners.splice(i,1)};return mql}})();exports.utils.specialBlendSupportedTest=function(){var canvas=document.createElement("canvas");canvas.width=1;canvas.height=1;var ctx=canvas.getContext("2d");ctx.fillStyle="#000";ctx.fillRect(0,0,1,1);ctx.globalCompositeOperation="multiply";ctx.fillStyle="#fff";ctx.fillRect(0,0,
1,1);var result=ctx.getImageData(0,0,1,1).data[0]===0;exports.utils.specialBlendSupported=result;return result}();exports.utils.supportsImageDataConstructor=function(){try{new ImageData(1,1);return true}catch(e){return false}}();var vendors=["webkit","moz"];for(var i=0;i<vendors.length&&!window.requestAnimationFrame;++i){var vp=vendors[i];window.requestAnimationFrame=window[vp+"RequestAnimationFrame"];window.cancelAnimationFrame=window[vp+"CancelAnimationFrame"]||window[vp+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||
!window.requestAnimationFrame||!window.cancelAnimationFrame){var lastTime=0;window.requestAnimationFrame=function(callback){var now=Date.now();var nextTime=Math.max(lastTime+16,now);return setTimeout(function(){callback(lastTime=nextTime)},nextTime-now)};window.cancelAnimationFrame=clearTimeout}exports.utils.hasClass=function(element,cls){return(" "+element.className+" ").indexOf(" "+cls+" ")>-1};exports.utils.eventHandler={on:function(){this.applyWithArgs($(this).on,arguments);return this},off:function(){this.applyWithArgs($(this).off,
arguments);return this},trigger:function(){this.applyWithArgs($(this).triggerHandler,arguments);return this},applyWithArgs:function(func,args){func.apply($(this),Array.prototype.slice.call(args))},one:function(){this.applyWithArgs($(this).one,arguments);return this}};exports.utils.isEditableElement=function(ele){return ele.is("input:text")||ele.is("textarea")};if(!exports.server)exports.server={log:function(){},error:function(){},capture:function(){}};var arrprint=function(array,msg){var str="[";
for(var i=0;i<array.length;i++){str+=array[i];if(i>=array.length-1)break;str+=", "}str+="]";if(!_.isUndefined(msg))str+=" "+msg;console.log(str)};exports.utils.arrprint=arrprint;var logvar=function(varname,variable){if(_.isArray(varname)&&_.isArray(variable)&&varname.length===variable.length){var varlist="";for(var i=0;i<varname.length;i++)varlist=varlist+varname[i]+": "+variable[i]+" ";console.log(varlist)}else console.log(varname+": "+variable)};exports.utils.logvar=logvar;var fCmp=function(f1,
f2){var eps=1E-6;return Math.abs(f1-f2)<eps};exports.utils.fCmp=fCmp;var documentReady=function(callback){if(document.readyState==="complete")callback();else if(document.addEventListener)exports.addEventListener("load",function(){callback()},false);else if(document.attachEvent)exports.attachEvent("onload",function(){callback()})};exports.utils.documentReady=documentReady;exports.runEval=function(str,c,t){c.clo=undefined;t.clo=undefined;eval(str);str=null};if(typeof Object.defineProperties==="undefined"){Object.defineProperty=
function(prototype,name,property){if(property.get)prototype.__defineGetter__(name,property.get);if(property.set)prototype.__defineSetter__(name,property.set)};Object.defineProperties=function(prototype,properties){for(var name in properties)if(properties.hasOwnProperty(name)){var property=properties[name];Object.defineProperty(prototype,name,property)}}}var canvasProto=CanvasRenderingContext2D.prototype;Object.defineProperties(canvasProto,{w:{set:function(val){this.lineWidth=val}},c:{set:function(val){this.lineCap=
val}},s:{set:function(val){this.strokeStyle=val}},f:{set:function(val){this.fillStyle=val}},a:{set:function(val){this.globalAlpha=val}},n:{set:function(val){this.font=val}},i:{set:function(val){this.miterLimit=val}},j:{set:function(val){this.lineJoin=val}},g:{set:function(val){this.globalCompositeOperation=val}}});_(canvasProto).extend({S:function(){if(typeof this.saves==="undefined")this.saves=0;this.saves++;this.save()},r:function(){this.saves--;this.restore()},t:canvasProto.transform,T:canvasProto.translate,
ro:canvasProto.rotate,L:canvasProto.createLinearGradient,R:canvasProto.createRadialGradient,P:canvasProto.createPattern,b:canvasProto.beginPath,z:canvasProto.closePath,F:canvasProto.fill,X:canvasProto.stroke,C:canvasProto.clip,M:canvasProto.moveTo,m:canvasProto.measureText,l:canvasProto.lineTo,q:canvasProto.quadraticCurveTo,B:canvasProto.bezierCurveTo,x:canvasProto.fillText,fillTextCustom:function(text,x,y){},xc:function(text,x,y){},tm:function(mapping){},cgb:function(){},cge:function(){},xw:function(text,
x,y,skipLast){this.fillText(text,x,y)},xcw:function(text,x,y,skipLast){},I:function(img){if(typeof img!=="undefined")this.drawImage.apply(this,arguments)},Z:canvasProto.setTransform,d:canvasProto.getImageData,D:canvasProto.putImageData,e:canvasProto.scale,cr:function(x,y,w,h){this.beginPath();this.rect(x,y,w,h);this.clip()},createCanvas:function(){return document.createElement("canvas")}});Object.defineProperty(TextMetrics.prototype,"W",{get:function(){return this.width}});var CanvasGradientPrototype;
if(typeof exports.CanvasGradient==="undefined")CanvasGradientPrototype=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,0,0).__proto__;else CanvasGradientPrototype=CanvasGradient.prototype;_(CanvasGradientPrototype).extend({A:CanvasGradientPrototype.addColorStop});exports.utils.isRectIntersecting=function(rect1,rect2){if(rect1.x1<=rect2.x2&&rect1.x2>=rect2.x1&&rect1.y1<=rect2.y2&&rect1.y2>=rect2.y1)return true;return false};exports.utils.containsRect=function(rect1,rect2){if(rect1.x1<=
rect2.x1&&rect1.x2>=rect2.x2&&rect1.y1<=rect2.y1&&rect1.y2>=rect2.y2)return true;return false};exports.utils.getRectIntersection=function(rect1,rect2){var rect={x1:0,y1:0,x2:0,y2:0};if(exports.utils.isRectIntersecting(rect1,rect2)===true){rect.x1=Math.max(rect1.x1,rect2.x1);rect.y1=Math.max(rect1.y1,rect2.y1);rect.x2=Math.min(rect1.x2,rect2.x2);rect.y2=Math.min(rect1.y2,rect2.y2)}return rect};exports.utils.normalizeRect=function(pt1,pt2){var x1=pt1.x;var x2=pt2.x;var y1=pt1.y;var y2=pt2.y;if(pt1.x>
pt2.x){x2=pt1.x;x1=pt2.x}if(pt1.y>pt2.y){y2=pt1.y;y1=pt2.y}return{x1:x1,y1:y1,x2:x2,y2:y2}};exports.utils.getRotationOffsets=function(rotation,w,h){var dx=0,dy=0;rotation=Number(rotation);switch(rotation){case 90:dy=w;break;case 180:dx=w;dy=h;break;case 270:dx=h;break}return{dx:dx,dy:dy}};exports.json2xml=function(o,tab){var toXml=function(v,name,ind){var xml="";if(v instanceof Array)for(var i=0,n=v.length;i<n;i++)xml+=ind+toXml(v[i],name,ind+"\t")+"\n";else if(typeof v==="object"){var hasChild=false;
xml+=ind+"<"+name;for(var m in v)if(m.charAt(0)=="@")xml+=" "+m.substr(1)+'="'+v[m].toString()+'"';else hasChild=true;xml+=hasChild?">":"/>";if(hasChild){for(var m in v)if(m=="#text")xml+=v[m];else if(m=="#cdata")xml+="<![CDATA["+v[m]+"]]\x3e";else if(m.charAt(0)!="@")xml+=toXml(v[m],m,ind+"\t");xml+=(xml.charAt(xml.length-1)=="\n"?ind:"")+"</"+name+">"}}else xml+=ind+"<"+name+">"+v.toString()+"</"+name+">";return xml},xml="";for(var m in o)xml+=toXml(o[m],m,"");return tab?xml.replace(/\t/g,tab):
xml.replace(/\t|\n/g,"")};exports.roundToPrecision=function(number,precision){var factor=Math.pow(10,precision);var tempNumber=number*factor;var roundedTempNumber=Math.round(tempNumber);return roundedTempNumber/factor};if(!Array.prototype.fill)Object.defineProperty(Array.prototype,"fill",{value:function(value){if(this==null)throw new TypeError("this is null or not defined");var O=Object(this);var len=O.length>>>0;var start=arguments[1];var relativeStart=start>>0;var k=relativeStart<0?Math.max(len+
relativeStart,0):Math.min(relativeStart,len);var end=arguments[2];var relativeEnd=end===undefined?len:end>>0;var final=relativeEnd<0?Math.max(len+relativeEnd,0):Math.min(relativeEnd,len);while(k<final){O[k]=value;k++}return O}});exports.joinPaths=function(){var lhs,rhs;var arr=[];arr[arguments.length-1]=null;var i=0;if(arguments.length>0){rhs=arguments[i].endsWith("/")?arguments[i].length-1:arguments[i].length;arr[i]=arguments[i].substring(0,rhs)}for(i=1;i<arguments.length-1;++i){lhs=arguments[i].startsWith("/")?
1:0;rhs=arguments[i].endsWith("/")?arguments[i].length-1:arguments[i].length;arr[i]=arguments[i].substring(lhs,rhs)}if(arguments.length>1){lhs=arguments[i].startsWith("/")?1:0;arr[i]=arguments[i].substring(lhs,arguments[i].length)}return arr.join("/")};exports.utils.utf8_decode=function(utftext){var string="";var i=0;var c1=0,c2=0,c3=0;while(i<utftext.length){c1=utftext.charCodeAt(i);if(c1<128){string+=String.fromCharCode(c1);i++}else if(c1>191&&c1<224){c2=utftext.charCodeAt(i+1);string+=String.fromCharCode((c1&
31)<<6|c2&63);i+=2}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=String.fromCharCode((c1&15)<<12|(c2&63)<<6|c3&63);i+=3}}return string}})(window);function XMLWriter(a,b){if(a)this.encoding=a;if(b)this.version=b}
(function(){XMLWriter.prototype={encoding:"ISO-8859-1",version:"1.0",formatting:"indented",indentChar:"\t",indentation:1,newLine:"\n",writeStartDocument:function(a){this.close();this.stack=[];this.standalone=a},writeEndDocument:function(){this.active=this.root;this.stack=[]},writeDocType:function(a){this.doctype=a},writeStartElement:function(c,d){if(d)c=d+":"+c;var a=this,b=a.active,e={n:c,a:{},c:[]};if(b){b.c.push(e);this.stack.push(b)}else a.root=e;a.active=e},writeEndElement:function(){this.active=
this.stack.pop()||this.root},writeAttributeString:function(a,b){if(this.active)this.active.a[a]=b},writeString:function(a){if(this.active)this.active.c.push(a)},writeElementString:function(a,b,c){this.writeStartElement(a,c);this.writeString(b);this.writeEndElement()},writeCDATA:function(a){this.writeString("<![CDATA["+a+"]]\x3e")},writeComment:function(a){this.writeString("\x3c!-- "+a+" --\x3e")},flush:function(){var a=this,b="",c="",d=a.indentation,e=a.formatting.toLowerCase()=="indented",f='<?xml version="'+
a.version+'" encoding="'+a.encoding+'"';if(a.stack&&a.stack[0])a.writeEndDocument();if(a.standalone!==undefined)f+=' standalone="'+!!a.standalone+'"';f+=" ?>";f=[f];if(a.doctype&&a.root)f.push("<!DOCTYPE "+a.root.n+" "+a.doctype+">");if(e)while(d--)b+=a.indentChar;if(a.root)k(a.root,c,b,f);return f.join(e?a.newLine:"")},close:function(){var a=this;if(a.root)j(a.root);a.active=a.root=a.stack=null},getDocument:function(){return(new DOMParser).parseFromString(this.flush(),"text/xml")}};function j(a){var l=
a.c.length;while(l--)if(typeof a.c[l]=="object")j(a.c[l]);a.n=a.a=a.c=null}function k(a,b,c,d){var e=b+"<"+a.n,f=a.c.length,g,h,i=0;for(g in a.a)e+=" "+g+'="'+a.a[g]+'"';e+=f?">":" />";d.push(e);if(f){do{h=a.c[i++];if(typeof h=="string")if(f==1)return d.push(d.pop()+h+"</"+a.n+">");else d.push(b+c+h);else if(typeof h=="object")k(h,b+c,c,d)}while(i<f);d.push(b+"</"+a.n+">")}}})();var idbModules={};
(function(idbModules){function callback(fn,context,event,func){event.target=context;typeof context[fn]==="function"&&context[fn].apply(context,[event]);typeof func==="function"&&func()}function throwDOMException(name,message,error){var e=new DOMException.constructor(0,message);e.name=name;e.message=message;e.stack=arguments.callee.caller;idbModules.DEBUG&&console.log(name,message,error,e);throw e;}var StringList=function(){this.length=0;this._items=[]};StringList.prototype={contains:function(str){return-1!==this._items.indexOf(str)},
item:function(key){return this._items[key]},indexOf:function(str){return this._items.indexOf(str)},push:function(item){this._items.push(item);this.length+=1},splice:function(){this._items.splice.apply(this._items,arguments);this.length=this._items.length}};idbModules.util={"throwDOMException":throwDOMException,"callback":callback,"quote":function(arg){return"'"+arg+"'"},"StringList":StringList}})(idbModules);
(function(idbModules){var Sca=function(){return{"encode":function(val){return JSON.stringify(val)},"decode":function(val){return JSON.parse(val)}}}();idbModules.Sca=Sca})(idbModules);
(function(idbModules){var collations=["","number","string","boolean","object","undefined"];var getGenericEncoder=function(){return{"encode":function(key){return collations.indexOf(typeof key)+"-"+JSON.stringify(key)},"decode":function(key){if(typeof key==="undefined")return undefined;else return JSON.parse(key.substring(2))}}};var types={"number":getGenericEncoder("number"),"boolean":getGenericEncoder(),"object":getGenericEncoder(),"string":{"encode":function(key){return collations.indexOf("string")+
"-"+key},"decode":function(key){return""+key.substring(2)}},"undefined":{"encode":function(key){return collations.indexOf("undefined")+"-undefined"},"decode":function(key){return undefined}}};var Key=function(){return{encode:function(key){return types[typeof key].encode(key)},decode:function(key){return types[collations[key.substring(0,1)]].decode(key)}}}();idbModules.Key=Key})(idbModules);
(function(idbModules,undefined){var Event=function(type,debug){return{"type":type,debug:debug,bubbles:false,cancelable:false,eventPhase:0,timeStamp:new Date}};idbModules.Event=Event})(idbModules);
(function(idbModules){var IDBRequest=function(){this.onsuccess=this.onerror=this.result=this.error=this.source=this.transaction=null;this.readyState="pending"};var IDBOpenRequest=function(){this.onblocked=this.onupgradeneeded=null};IDBOpenRequest.prototype=IDBRequest;idbModules.IDBRequest=IDBRequest;idbModules.IDBOpenRequest=IDBOpenRequest})(idbModules);
(function(idbModules,undefined){var IDBKeyRange=function(lower,upper,lowerOpen,upperOpen){this.lower=lower;this.upper=upper;this.lowerOpen=lowerOpen;this.upperOpen=upperOpen};IDBKeyRange.only=function(value){return new IDBKeyRange(value,value,true,true)};IDBKeyRange.lowerBound=function(value,open){return new IDBKeyRange(value,undefined,open,undefined)};IDBKeyRange.upperBound=function(value){return new IDBKeyRange(undefined,value,undefined,open)};IDBKeyRange.bound=function(lower,upper,lowerOpen,upperOpen){return new IDBKeyRange(lower,
upper,lowerOpen,upperOpen)};idbModules.IDBKeyRange=IDBKeyRange})(idbModules);
(function(idbModules,undefined){function IDBCursor(range,direction,idbObjectStore,cursorRequest,keyColumnName,valueColumnName){this.__range=range;this.source=this.__idbObjectStore=idbObjectStore;this.__req=cursorRequest;this.key=undefined;this.direction=direction;this.__keyColumnName=keyColumnName;this.__valueColumnName=valueColumnName;if(!this.source.transaction.__active)idbModules.util.throwDOMException("TransactionInactiveError - The transaction this IDBObjectStore belongs to is not active.");this.__offset=
-1;this.__lastKeyContinued=undefined;this["continue"]()}IDBCursor.prototype.__find=function(key,tx,success,error){var me=this;var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)];var sqlValues=[];sql.push("WHERE ",me.__keyColumnName," NOT NULL");if(me.__range&&(me.__range.lower||me.__range.upper)){sql.push("AND");if(me.__range.lower){sql.push(me.__keyColumnName+(me.__range.lowerOpen?" >=":" >")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.lower))}me.__range.lower&&me.__range.upper&&
sql.push("AND");if(me.__range.upper){sql.push(me.__keyColumnName+(me.__range.upperOpen?" <= ":" < ")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.upper))}}if(typeof key!=="undefined"){me.__lastKeyContinued=key;me.__offset=0}if(me.__lastKeyContinued!==undefined){sql.push("AND "+me.__keyColumnName+" >= ?");sqlValues.push(idbModules.Key.encode(me.__lastKeyContinued))}sql.push("ORDER BY ",me.__keyColumnName);sql.push("LIMIT 1 OFFSET "+me.__offset);idbModules.DEBUG&&console.log(sql.join(" "),
sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){if(data.rows.length===1){var key=idbModules.Key.decode(data.rows.item(0)[me.__keyColumnName]);var val=me.__valueColumnName==="value"?idbModules.Sca.decode(data.rows.item(0)[me.__valueColumnName]):idbModules.Key.decode(data.rows.item(0)[me.__valueColumnName]);success(key,val)}else{idbModules.DEBUG&&console.log("Reached end of cursors");success(undefined,undefined)}},function(tx,data){idbModules.DEBUG&&console.log("Could not execute Cursor.continue");
error(data)})};IDBCursor.prototype["continue"]=function(key){var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__offset++;me.__find(key,tx,function(key,val){me.key=key;me.value=val;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.advance=function(count){if(count<=0)idbModules.util.throwDOMException("Type Error - Count is invalid - 0 or negative",count);var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,
args,success,error){me.__offset+=count;me.__find(undefined,tx,function(key,value){me.key=key;me.value=value;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.update=function(valueToUpdate){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+" SET value = ? WHERE key = ?";idbModules.DEBUG&&
console.log(sql,valueToUpdate,key);tx.executeSql(sql,[idbModules.Sca.encode(valueToUpdate),idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(key);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};IDBCursor.prototype["delete"]=function(){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="DELETE FROM  "+idbModules.util.quote(me.__idbObjectStore.name)+
" WHERE key = ?";idbModules.DEBUG&&console.log(sql,key);tx.executeSql(sql,[idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(undefined);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};idbModules.IDBCursor=IDBCursor})(idbModules);
(function(idbModules,undefined){function IDBIndex(indexName,idbObjectStore){this.indexName=indexName;this.__idbObjectStore=this.source=idbObjectStore}IDBIndex.prototype.__createIndex=function(indexName,keyPath,optionalParameters){var me=this;var transaction=me.__idbObjectStore.transaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){me.__idbObjectStore.__getStoreProps(tx,function(){function error(){idbModules.util.throwDOMException(0,"Could not create new index",arguments)}
if(transaction.mode!==2)idbModules.util.throwDOMException(0,"Invalid State error, not a version transaction",me.transaction);var idxList=JSON.parse(me.__idbObjectStore.__storeProps.indexList);if(typeof idxList[indexName]!=="undefined")idbModules.util.throwDOMException(0,"Index already exists on store",idxList);var columnName=indexName;idxList[indexName]={"columnName":columnName,"keyPath":keyPath,"optionalParams":optionalParameters};me.__idbObjectStore.__storeProps.indexList=JSON.stringify(idxList);
var sql=["ALTER TABLE",idbModules.util.quote(me.__idbObjectStore.name),"ADD",columnName,"BLOB"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.__idbObjectStore.name),[],function(tx,data){(function initIndexForRow(i){if(i<data.rows.length)try{var value=idbModules.Sca.decode(data.rows.item(i).value);var indexKey=eval("value['"+keyPath+"']");tx.executeSql("UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+
" set "+columnName+" = ? where key = ?",[idbModules.Key.encode(indexKey),data.rows.item(i).key],function(tx,data){initIndexForRow(i+1)},error)}catch(e){initIndexForRow(i+1)}else{idbModules.DEBUG&&console.log("Updating the indexes in table",me.__idbObjectStore.__storeProps);tx.executeSql("UPDATE __sys__ set indexList = ? where name = ?",[me.__idbObjectStore.__storeProps.indexList,me.__idbObjectStore.name],function(){me.__idbObjectStore.__setReadyState("createIndex",true);success(me)},error)}})(0)},
error)},error)},"createObjectStore")})};IDBIndex.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"value");return cursorRequest};IDBIndex.prototype.openKeyCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"key");return cursorRequest};IDBIndex.prototype.__fetchIndexData=
function(key,opType){var me=this;return me.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)," WHERE",me.indexName,"NOT NULL"];var sqlValues=[];if(typeof key!=="undefined"){sql.push("AND",me.indexName," = ?");sqlValues.push(idbModules.Key.encode(key))}idbModules.DEBUG&&console.log("Trying to fetch data for Index",sql.join(" "),sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){var d;
if(typeof opType==="count")d=data.rows.length;else if(data.rows.length===0)d=undefined;else if(opType==="key")d=idbModules.Key.decode(data.rows.item(0).key);else d=idbModules.Sca.decode(data.rows.item(0).value);success(d)},error)})};IDBIndex.prototype.get=function(key){return this.__fetchIndexData(key,"value")};IDBIndex.prototype.getKey=function(key){return this.__fetchIndexData(key,"key")};IDBIndex.prototype.count=function(key){return this.__fetchIndexData(key,"count")};idbModules.IDBIndex=IDBIndex})(idbModules);
(function(idbModules){var IDBObjectStore=function(name,idbTransaction,ready){this.name=name;this.transaction=idbTransaction;this.__ready={};this.__setReadyState("createObjectStore",typeof ready==="undefined"?true:ready);this.indexNames=new idbModules.util.StringList};IDBObjectStore.prototype.__setReadyState=function(key,val){this.__ready[key]=val};IDBObjectStore.prototype.__waitForReady=function(callback,key){var ready=true;if(typeof key!=="undefined")ready=typeof this.__ready[key]==="undefined"?
true:this.__ready[key];else for(var x in this.__ready)if(!this.__ready[x])ready=false;if(ready)callback();else{idbModules.DEBUG&&console.log("Waiting for to be ready",key);var me=this;window.setTimeout(function(){me.__waitForReady(callback,key)},100)}};IDBObjectStore.prototype.__getStoreProps=function(tx,callback,waitOnProperty){var me=this;this.__waitForReady(function(){if(me.__storeProps){idbModules.DEBUG&&console.log("Store properties - cached",me.__storeProps);callback(me.__storeProps)}else tx.executeSql("SELECT * FROM __sys__ where name = ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback();else{me.__storeProps={"name":data.rows.item(0).name,"indexList":data.rows.item(0).indexList,"autoInc":data.rows.item(0).autoInc,"keyPath":data.rows.item(0).keyPath};idbModules.DEBUG&&console.log("Store properties",me.__storeProps);callback(me.__storeProps)}},function(){callback()})},waitOnProperty)};IDBObjectStore.prototype.__deriveKey=function(tx,value,key,callback){function getNextAutoIncKey(){tx.executeSql("SELECT * FROM sqlite_sequence where name like ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback(0);else callback(data.rows.item(0).seq)},function(tx,error){idbModules.util.throwDOMException(0,"Data Error - Could not get the auto increment value for key",error)})}var me=this;me.__getStoreProps(tx,function(props){if(!props)idbModules.util.throwDOMException(0,"Data Error - Could not locate defination for this table",props);if(props.keyPath){if(typeof key!=="undefined")idbModules.util.throwDOMException(0,"Data Error - The object store uses in-line keys and the key parameter was provided",
props);if(value)try{var primaryKey=eval("value['"+props.keyPath+"']");if(!primaryKey)if(props.autoInc==="true")getNextAutoIncKey();else idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath");else callback(primaryKey)}catch(e){idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath",e)}else idbModules.util.throwDOMException(0,"Data Error - KeyPath was specified, but value was not")}else if(typeof key!=="undefined")callback(key);else if(props.autoInc===
"false")idbModules.util.throwDOMException(0,"Data Error - The object store uses out-of-line keys and has no key generator and the key parameter was not provided. ",props);else getNextAutoIncKey()})};IDBObjectStore.prototype.__insertData=function(tx,value,primaryKey,success,error){var paramMap={};if(typeof primaryKey!=="undefined")paramMap.key=idbModules.Key.encode(primaryKey);var indexes=JSON.parse(this.__storeProps.indexList);for(var key in indexes)try{paramMap[indexes[key].columnName]=idbModules.Key.encode(eval("value['"+
indexes[key].keyPath+"']"))}catch(e){error(e)}var sqlStart=["INSERT INTO ",idbModules.util.quote(this.name),"("];var sqlEnd=[" VALUES ("];var sqlValues=[];for(key in paramMap){sqlStart.push(key+",");sqlEnd.push("?,");sqlValues.push(paramMap[key])}sqlStart.push("value )");sqlEnd.push("?)");sqlValues.push(idbModules.Sca.encode(value));var sql=sqlStart.join(" ")+sqlEnd.join(" ");idbModules.DEBUG&&console.log("SQL for adding",sql,sqlValues);tx.executeSql(sql,sqlValues,function(tx,data){success(primaryKey)},
function(tx,err){error(err)})};IDBObjectStore.prototype.add=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){me.__insertData(tx,value,primaryKey,success,error)})})};IDBObjectStore.prototype.put=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){var sql="DELETE FROM "+idbModules.util.quote(me.name)+
" where key = ?";tx.executeSql(sql,[idbModules.Key.encode(primaryKey)],function(tx,data){idbModules.DEBUG&&console.log("Did the row with the",primaryKey,"exist? ",data.rowsAffected);me.__insertData(tx,value,primaryKey,success,error)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.get=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",
me.name,primaryKey);tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Fetched data",data);try{if(0===data.rows.length)return success();success(idbModules.Sca.decode(data.rows.item(0).value))}catch(e){idbModules.DEBUG&&console.log(e);success(undefined)}},function(tx,err){error(err)})})})};IDBObjectStore.prototype["delete"]=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,
success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",me.name,primaryKey);tx.executeSql("DELETE FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Deleted from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.clear=function(){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){tx.executeSql("DELETE FROM "+
idbModules.util.quote(me.name),[],function(tx,data){idbModules.DEBUG&&console.log("Cleared all records from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.count=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var sql="SELECT * FROM "+idbModules.util.quote(me.name)+(typeof key!=="undefined"?" WHERE key = ?":"");var sqlValues=[];typeof key!=="undefined"&&sqlValues.push(idbModules.Key.encode(key));
tx.executeSql(sql,sqlValues,function(tx,data){success(data.rows.length)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this,cursorRequest,"key","value");return cursorRequest};IDBObjectStore.prototype.index=function(indexName){var index=new idbModules.IDBIndex(indexName,this);return index};IDBObjectStore.prototype.createIndex=function(indexName,keyPath,
optionalParameters){var me=this;optionalParameters=optionalParameters||{};me.__setReadyState("createIndex",false);var result=new idbModules.IDBIndex(indexName,me);me.__waitForReady(function(){result.__createIndex(indexName,keyPath,optionalParameters)},"createObjectStore");me.indexNames.push(indexName);return result};IDBObjectStore.prototype.deleteIndex=function(indexName){var result=new idbModules.IDBIndex(indexName,this,false);result.__deleteIndex(indexName);return result};idbModules.IDBObjectStore=
IDBObjectStore})(idbModules);
(function(idbModules){var READ=0;var READ_WRITE=1;var VERSION_TRANSACTION=2;var IDBTransaction=function(storeNames,mode,db){if(typeof mode==="number"){this.mode=mode;mode!==2&&idbModules.DEBUG&&console.log("Mode should be a string, but was specified as ",mode)}else if(typeof mode==="string")switch(mode){case "readonly":this.mode=READ_WRITE;break;case "readwrite":this.mode=READ;break;default:this.mode=READ;break}this.storeNames=typeof storeNames==="string"?[storeNames]:storeNames;for(var i=0;i<this.storeNames.length;i++)if(!db.objectStoreNames.contains(this.storeNames[i]))idbModules.util.throwDOMException(0,
"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",this.storeNames[i]);this.__active=true;this.__running=false;this.__requests=[];this.__aborted=false;this.db=db;this.error=null;this.onabort=this.onerror=this.oncomplete=null;var me=this};IDBTransaction.prototype.__executeRequests=function(){if(this.__running&&this.mode!==VERSION_TRANSACTION){idbModules.DEBUG&&console.log("Looks like the request set is already running",
this.mode);return}this.__running=true;var me=this;window.setTimeout(function(){if(me.mode!==2&&!me.__active)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",me.__active);me.db.__db.transaction(function(tx){me.__tx=tx;var q=null,i=0;function success(result,req){if(req)q.req=req;q.req.readyState="done";q.req.result=result;delete q.req.error;var e=idbModules.Event("success");idbModules.util.callback("onsuccess",q.req,
e);i++;executeRequest()}function error(errorVal){q.req.readyState="done";q.req.error="DOMError";var e=idbModules.Event("error",arguments);idbModules.util.callback("onerror",q.req,e);i++;executeRequest()}try{function executeRequest(){if(i>=me.__requests.length){me.__active=false;me.__requests=[];return}q=me.__requests[i];q.op(tx,q.args,success,error)}executeRequest()}catch(e){idbModules.DEBUG&&console.log("An exception occured in transaction",arguments);typeof me.onerror==="function"&&me.onerror()}},
function(){idbModules.DEBUG&&console.log("An error in transaction",arguments);typeof me.onerror==="function"&&me.onerror()},function(){idbModules.DEBUG&&console.log("Transaction completed",arguments);typeof me.oncomplete==="function"&&me.oncomplete()})},1)};IDBTransaction.prototype.__addToTransactionQueue=function(callback,args){if(!this.__active&&this.mode!==VERSION_TRANSACTION)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished.",
this.__mode);var request=new idbModules.IDBRequest;request.source=this.db;this.__requests.push({"op":callback,"args":args,"req":request});this.__executeRequests();return request};IDBTransaction.prototype.objectStore=function(objectStoreName){return new idbModules.IDBObjectStore(objectStoreName,this)};IDBTransaction.prototype.abort=function(){!this.__active&&idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",this.__active)};
IDBTransaction.prototype.READ_ONLY=0;IDBTransaction.prototype.READ_WRITE=1;IDBTransaction.prototype.VERSION_CHANGE=2;idbModules.IDBTransaction=IDBTransaction})(idbModules);
(function(idbModules){var IDBDatabase=function(db,name,version,storeProperties){this.__db=db;this.version=version;this.__storeProperties=storeProperties;this.objectStoreNames=new idbModules.util.StringList;for(var i=0;i<storeProperties.rows.length;i++)this.objectStoreNames.push(storeProperties.rows.item(i).name);this.name=name;this.onabort=this.onerror=this.onversionchange=null};IDBDatabase.prototype.createObjectStore=function(storeName,createOptions){var me=this;createOptions=createOptions||{};createOptions.keyPath=
createOptions.keyPath||null;var result=new idbModules.IDBObjectStore(storeName,me.__versionTransaction,false);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){function error(){idbModules.util.throwDOMException(0,"Could not create new object store",arguments)}if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);var sql=["CREATE TABLE",idbModules.util.quote(storeName),"(key BLOB",createOptions.autoIncrement?
", inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?)",[storeName,createOptions.keyPath,createOptions.autoIncrement?true:false,"{}"],function(){result.__setReadyState("createObjectStore",true);success(result)},error)},error)});me.objectStoreNames.push(storeName);return result};IDBDatabase.prototype.deleteObjectStore=function(storeName){var error=
function(){idbModules.util.throwDOMException(0,"Could not delete ObjectStore",arguments)};var me=this;!me.objectStoreNames.contains(storeName)&&error("Object Store does not exist");me.objectStoreNames.splice(me.objectStoreNames.indexOf(storeName),1);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);me.__db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__ where name = ?",
[storeName],function(tx,data){if(data.rows.length>0)tx.executeSql("DROP TABLE "+idbModules.util.quote(storeName),[],function(){tx.executeSql("DELETE FROM __sys__ WHERE name = ?",[storeName],function(){},error)},error)})})})};IDBDatabase.prototype.close=function(){};IDBDatabase.prototype.transaction=function(storeNames,mode){var transaction=new idbModules.IDBTransaction(storeNames,mode||1,this);return transaction};idbModules.IDBDatabase=IDBDatabase})(idbModules);
(function(idbModules){var DEFAULT_DB_SIZE=4*1024*1024;if(!window.openDatabase)return;try{var sysdb=window.openDatabase("__sysdb__",1,"System Database",DEFAULT_DB_SIZE)}catch(err){window.openDatabase=undefined;return}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions",[],function(t,data){},function(){sysdb.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);",[],function(){},function(){idbModules.util.throwDOMException("Could not create table __sysdb__ to save DB versions")})})})},
function(){idbModules.DEBUG&&console.log("Error in sysdb transaction - when selecting from dbVersions",arguments)});var shimIndexedDB={open:function(name,version){try{window.openDatabase("__test__",1,"Test Database",26*1024*1024)}catch(err){return}var req=new idbModules.IDBOpenRequest;var calledDbCreateError=false;function dbCreateError(){if(calledDbCreateError)return;var e=idbModules.Event("error",arguments);req.readyState="done";req.error="DOMError";idbModules.util.callback("onerror",req,e);calledDbCreateError=
true}function openDB(oldVersion){var db=window.openDatabase(name,1,name,DEFAULT_DB_SIZE);req.readyState="done";if(typeof version==="undefined")version=oldVersion||1;if(version<=0||oldVersion>version)idbModules.util.throwDOMException(0,"An attempt was made to open a database using a lower version than the existing version.",version);db.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)",[],function(){tx.executeSql("SELECT * FROM __sys__",
[],function(tx,data){var e=idbModules.Event("success");req.source=req.result=new idbModules.IDBDatabase(db,name,version,data);if(oldVersion<version)sysdb.transaction(function(systx){systx.executeSql("UPDATE dbVersions set version = ? where name = ?",[version,name],function(){var e=idbModules.Event("upgradeneeded");e.oldVersion=oldVersion;e.newVersion=version;req.transaction=req.result.__versionTransaction=new idbModules.IDBTransaction([],2,req.source);idbModules.util.callback("onupgradeneeded",req,
e,function(){var e=idbModules.Event("success");idbModules.util.callback("onsuccess",req,e)})},dbCreateError)},dbCreateError);else idbModules.util.callback("onsuccess",req,e)},dbCreateError)},dbCreateError)},dbCreateError)}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0)tx.executeSql("INSERT INTO dbVersions VALUES (?,?)",[name,version||1],function(){openDB(0)},dbCreateError);else openDB(data.rows.item(0).version)},
dbCreateError)},dbCreateError);return req},"deleteDatabase":function(name){var req=new idbModules.IDBOpenRequest;var calledDBError=false;function dbError(msg){if(calledDBError)return;req.readyState="done";req.error="DOMError";var e=idbModules.Event("error");e.message=msg;e.debug=arguments;idbModules.util.callback("onerror",req,e);calledDBError=true}var version=null;function deleteFromDbVersions(){sysdb.transaction(function(systx){systx.executeSql("DELETE FROM dbVersions where name = ? ",[name],function(){req.result=
undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e)},dbError)},dbError)}sysdb.transaction(function(systx){systx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0){req.result=undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e);return}version=data.rows.item(0).version;var db=window.openDatabase(name,
1,name,DEFAULT_DB_SIZE);db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__",[],function(tx,data){var tables=data.rows;(function deleteTables(i){if(i>=tables.length)tx.executeSql("DROP TABLE __sys__",[],function(){deleteFromDbVersions()},dbError);else tx.executeSql("DROP TABLE "+idbModules.util.quote(tables.item(i).name),[],function(){deleteTables(i+1)},function(){deleteTables(i+1)})})(0)},function(e){deleteFromDbVersions()})},dbError)})},dbError);return req},"cmp":function(key1,key2){return idbModules.Key.encode(key1)>
idbModules.Key.encode(key2)?1:key1===key2?0:-1}};idbModules.shimIndexedDB=shimIndexedDB})(idbModules);
(function(window,idbModules){if(typeof window.openDatabase!=="undefined"){window.shimIndexedDB=idbModules.shimIndexedDB;if(window.shimIndexedDB){window.shimIndexedDB.__useShim=function(){window._indexedDB=idbModules.shimIndexedDB;window._IDBDatabase=idbModules.IDBDatabase;window._IDBTransaction=idbModules.IDBTransaction;window._IDBCursor=idbModules.IDBCursor;window._IDBKeyRange=idbModules.IDBKeyRange};window.shimIndexedDB.__debug=function(val){idbModules.DEBUG=val}}}try{window.indexedDB=window.indexedDB||
window.webkitIndexedDB||window.mozIndexedDB||window.oIndexedDB||window.msIndexedDB;if((typeof window.indexedDB==="undefined"||window.indexedDB===null)&&typeof window.openDatabase!=="undefined")window.shimIndexedDB.__useShim();else if(typeof window.openDatabase!=="undefined"){window.IDBDatabase=window.IDBDatabase||window.webkitIDBDatabase;window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction;window.IDBCursor=window.IDBCursor||window.webkitIDBCursor;window.IDBKeyRange=window.IDBKeyRange||
window.webkitIDBKeyRange;if(!window.IDBTransaction)window.IDBTransaction={};window.IDBTransaction.READ_ONLY=window.IDBTransaction.READ_ONLY||"readonly";window.IDBTransaction.READ_WRITE=window.IDBTransaction.READ_WRITE||"readwrite"}}catch(error){console.warn("No access to IndexedDB")}})(window,idbModules);(function(global){global.createPromiseCapability=function(){var promiseCapability={};var promise=new Promise(function(resolve,reject){promiseCapability.resolve=resolve;promiseCapability.reject=reject});promiseCapability.promise=promise;return promiseCapability};var NativePromise=global["Promise"];var nativePromiseSupported=NativePromise&&"resolve"in NativePromise&&"reject"in NativePromise&&"all"in NativePromise&&"race"in NativePromise&&function(){var resolve;new NativePromise(function(r){resolve=
r});return typeof resolve==="function"}();if(typeof exports!=="undefined"&&exports){exports.Promise=nativePromiseSupported?NativePromise:Promise;exports.Polyfill=Promise}else if(typeof define=="function"&&define.amd)define(function(){return nativePromiseSupported?NativePromise:Promise});else if(!nativePromiseSupported)global["Promise"]=Promise;var PENDING="pending";var SEALED="sealed";var FULFILLED="fulfilled";var REJECTED="rejected";var NOOP=function(){};function isArray(value){return Object.prototype.toString.call(value)===
"[object Array]"}var asyncSetTimer=typeof setImmediate!=="undefined"?setImmediate:setTimeout;var asyncQueue=[];var asyncTimer;function asyncFlush(){for(var i=0;i<asyncQueue.length;i++)asyncQueue[i][0](asyncQueue[i][1]);asyncQueue=[];asyncTimer=false}function asyncCall(callback,arg){asyncQueue.push([callback,arg]);if(!asyncTimer){asyncTimer=true;asyncSetTimer(asyncFlush,0)}}function invokeResolver(resolver,promise){function resolvePromise(value){resolve(promise,value)}function rejectPromise(reason){reject(promise,
reason)}try{resolver(resolvePromise,rejectPromise)}catch(e){rejectPromise(e)}}function invokeCallback(subscriber){var owner=subscriber.owner;var settled=owner.state_;var value=owner.data_;var callback=subscriber[settled];var promise=subscriber.then;if(typeof callback==="function"){settled=FULFILLED;try{value=callback(value)}catch(e){reject(promise,e)}}if(!handleThenable(promise,value)){if(settled===FULFILLED)resolve(promise,value);if(settled===REJECTED)reject(promise,value)}}function handleThenable(promise,
value){var resolved;try{if(promise===value)throw new TypeError("A promises callback cannot return that same promise.");if(value&&(typeof value==="function"||typeof value==="object")){var then=value.then;if(typeof then==="function"){then.call(value,function(val){if(!resolved){resolved=true;if(value!==val)resolve(promise,val);else fulfill(promise,val)}},function(reason){if(!resolved){resolved=true;reject(promise,reason)}});return true}}}catch(e){if(!resolved)reject(promise,e);return true}return false}
function resolve(promise,value){if(promise===value||!handleThenable(promise,value))fulfill(promise,value)}function fulfill(promise,value){if(promise.state_===PENDING){promise.state_=SEALED;promise.data_=value;asyncCall(publishFulfillment,promise)}}function reject(promise,reason){if(promise.state_===PENDING){promise.state_=SEALED;promise.data_=reason;asyncCall(publishRejection,promise)}}function publish(promise){var callbacks=promise.then_;promise.then_=undefined;for(var i=0;i<callbacks.length;i++)invokeCallback(callbacks[i])}
function publishFulfillment(promise){promise.state_=FULFILLED;publish(promise)}function publishRejection(promise){promise.state_=REJECTED;publish(promise)}function Promise(resolver){if(typeof resolver!=="function")throw new TypeError("Promise constructor takes a function argument");if(this instanceof Promise===false)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[];invokeResolver(resolver,this)}
Promise.prototype={constructor:Promise,state_:PENDING,then_:null,data_:undefined,then:function(onFulfillment,onRejection){var subscriber={owner:this,then:new this.constructor(NOOP),fulfilled:onFulfillment,rejected:onRejection};if(this.state_===FULFILLED||this.state_===REJECTED)asyncCall(invokeCallback,subscriber);else this.then_.push(subscriber);return subscriber.then},"catch":function(onRejection){return this.then(null,onRejection)}};Promise.all=function(promises){var Class=this;if(!isArray(promises))throw new TypeError("You must pass an array to Promise.all().");
return new Class(function(resolve,reject){var results=[];var remaining=0;function resolver(index){remaining++;return function(value){results[index]=value;if(!--remaining)resolve(results)}}for(var i=0,promise;i<promises.length;i++){promise=promises[i];if(promise&&typeof promise.then==="function")promise.then(resolver(i),reject);else results[i]=promise}if(!remaining)resolve(results)})};Promise.race=function(promises){var Class=this;if(!isArray(promises))throw new TypeError("You must pass an array to Promise.race().");
return new Class(function(resolve,reject){for(var i=0,promise;i<promises.length;i++){promise=promises[i];if(promise&&typeof promise.then==="function")promise.then(resolve,reject);else resolve(promise)}})};Promise.resolve=function(value){var Class=this;if(value&&typeof value==="object"&&value.constructor===Class)return value;return new Class(function(resolve){resolve(value)})};Promise.reject=function(reason){var Class=this;return new Class(function(resolve,reject){reject(reason)})}})(typeof window!=
"undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this);/*
 Advanced Encryption Standard (AES) Cipher-Block Chaining implementation.|This implementation is based on the public domain library 'jscrypto' which|was written by:|Emily Stark (estark@stanford.edu)|Mike Hamburg (mhamburg@stanford.edu)|Dan Boneh (dabo@cs.stanford.edu)|Parts of this code are based on the OpenSSL implementation of AES:|http://www.openssl.org|@author Dave Longley|Copyright (c) 2010-2012 Digital Bazaar, Inc.*/
(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.aes={}}else if(typeof module!=="undefined"&&module.exports){var forge={util:require("./util")};module.exports=forge.aes={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.aes={}}var init=false;var Nb=4;var sbox;var isbox;var rcon;var mix;var imix;var initialize=function(){init=true;rcon=[0,1,2,4,8,16,32,64,128,27,54];var xtime=new Array(256);for(var i=0;i<128;++i){xtime[i]=i<<1;xtime[i+
128]=i+128<<1^283}sbox=new Array(256);isbox=new Array(256);mix=new Array(4);imix=new Array(4);for(var i=0;i<4;++i){mix[i]=new Array(256);imix[i]=new Array(256)}var e=0,ei=0,e2,e4,e8,sx,sx2,me,ime;for(var i=0;i<256;++i){sx=ei^ei<<1^ei<<2^ei<<3^ei<<4;sx=sx>>8^sx&255^99;sbox[e]=sx;isbox[sx]=e;sx2=xtime[sx];e2=xtime[e];e4=xtime[e2];e8=xtime[e4];me=sx2<<24^sx<<16^sx<<8^(sx^sx2);ime=(e2^e4^e8)<<24^(e^e8)<<16^(e^e4^e8)<<8^(e^e2^e8);for(var n=0;n<4;++n){mix[n][e]=me;imix[n][sx]=ime;me=me<<24|me>>>8;ime=ime<<
24|ime>>>8}if(e===0)e=ei=1;else{e=e2^xtime[xtime[xtime[e2^e8]]];ei^=xtime[xtime[ei]]}}};var expandKey=function(key,decrypt){var w=key.slice(0);var temp,iNk=1;var Nk=w.length;var Nr1=Nk+6+1;var end=Nb*Nr1;for(var i=Nk;i<end;++i){temp=w[i-1];if(i%Nk===0){temp=sbox[temp>>>16&255]<<24^sbox[temp>>>8&255]<<16^sbox[temp&255]<<8^sbox[temp>>>24]^rcon[iNk]<<24;iNk++}else if(Nk>6&&i%Nk==4)temp=sbox[temp>>>24]<<24^sbox[temp>>>16&255]<<16^sbox[temp>>>8&255]<<8^sbox[temp&255];w[i]=w[i-Nk]^temp}if(decrypt){var tmp;
var m0=imix[0];var m1=imix[1];var m2=imix[2];var m3=imix[3];var wnew=w.slice(0);var end=w.length;for(var i=0,wi=end-Nb;i<end;i+=Nb,wi-=Nb)if(i===0||i===end-Nb){wnew[i]=w[wi];wnew[i+1]=w[wi+3];wnew[i+2]=w[wi+2];wnew[i+3]=w[wi+1]}else for(var n=0;n<Nb;++n){tmp=w[wi+n];wnew[i+(3&-n)]=m0[sbox[tmp>>>24]]^m1[sbox[tmp>>>16&255]]^m2[sbox[tmp>>>8&255]]^m3[sbox[tmp&255]]}w=wnew}return w};var _updateBlock=function(w,input,output,decrypt){var Nr=w.length/4-1;var m0,m1,m2,m3,sub;if(decrypt){m0=imix[0];m1=imix[1];
m2=imix[2];m3=imix[3];sub=isbox}else{m0=mix[0];m1=mix[1];m2=mix[2];m3=mix[3];sub=sbox}var a,b,c,d,a2,b2,c2;a=input[0]^w[0];b=input[decrypt?3:1]^w[1];c=input[2]^w[2];d=input[decrypt?1:3]^w[3];var i=3;for(var round=1;round<Nr;++round){a2=m0[a>>>24]^m1[b>>>16&255]^m2[c>>>8&255]^m3[d&255]^w[++i];b2=m0[b>>>24]^m1[c>>>16&255]^m2[d>>>8&255]^m3[a&255]^w[++i];c2=m0[c>>>24]^m1[d>>>16&255]^m2[a>>>8&255]^m3[b&255]^w[++i];d=m0[d>>>24]^m1[a>>>16&255]^m2[b>>>8&255]^m3[c&255]^w[++i];a=a2;b=b2;c=c2}output[0]=sub[a>>>
24]<<24^sub[b>>>16&255]<<16^sub[c>>>8&255]<<8^sub[d&255]^w[++i];output[decrypt?3:1]=sub[b>>>24]<<24^sub[c>>>16&255]<<16^sub[d>>>8&255]<<8^sub[a&255]^w[++i];output[2]=sub[c>>>24]<<24^sub[d>>>16&255]<<16^sub[a>>>8&255]<<8^sub[b&255]^w[++i];output[decrypt?1:3]=sub[d>>>24]<<24^sub[a>>>16&255]<<16^sub[b>>>8&255]<<8^sub[c&255]^w[++i]};var _createCipher=function(key,iv,output,decrypt){var cipher=null;if(!init)initialize();if(key.constructor==String&&(key.length==16||key.length==24||key.length==32))key=forge.util.createBuffer(key);
else if(key.constructor==Array&&(key.length==16||key.length==24||key.length==32)){var tmp=key;var key=forge.util.createBuffer();for(var i=0;i<tmp.length;++i)key.putByte(tmp[i])}if(key.constructor!=Array){var tmp=key;key=[];var len=tmp.length();if(len==16||len==24||len==32){len=len>>>2;for(var i=0;i<len;++i)key.push(tmp.getInt32())}}if(key.constructor==Array&&(key.length==4||key.length==6||key.length==8)){var _w=expandKey(key,decrypt);var _blockSize=Nb<<2;var _input;var _output;var _inBlock;var _outBlock;
var _prev;var _finish;cipher={output:null};cipher.update=function(input){if(!_finish)_input.putBuffer(input);var threshold=decrypt&&!_finish?_blockSize<<1:_blockSize;while(_input.length()>=threshold){if(decrypt)for(var i=0;i<Nb;++i)_inBlock[i]=_input.getInt32();else for(var i=0;i<Nb;++i)_inBlock[i]=_prev[i]^_input.getInt32();_updateBlock(_w,_inBlock,_outBlock,decrypt);if(decrypt){for(var i=0;i<Nb;++i)_output.putInt32(_prev[i]^_outBlock[i]);_prev=_inBlock.slice(0)}else{for(var i=0;i<Nb;++i)_output.putInt32(_outBlock[i]);
_prev=_outBlock}}};cipher.finish=function(pad){var rval=true;if(!decrypt)if(pad)rval=pad(_blockSize,_input,decrypt);else{var padding=_input.length()==_blockSize?_blockSize:_blockSize-_input.length();_input.fillWithByte(padding,padding)}if(rval){_finish=true;cipher.update()}if(decrypt){rval=_input.length()===0;if(rval)if(pad)rval=pad(_blockSize,_output,decrypt);else{var len=_output.length();var count=_output.at(len-1);if(count>Nb<<2)rval=false;else _output.truncate(count)}}return rval};cipher.start=
function(iv,output){iv=iv||_prev.slice(0);if(iv.constructor==String&&iv.length==16)iv=forge.util.createBuffer(iv);else if(iv.constructor==Array&&iv.length==16){var tmp=iv;var iv=forge.util.createBuffer();for(var i=0;i<16;++i)iv.putByte(tmp[i])}if(iv.constructor!=Array){var tmp=iv;iv=new Array(4);iv[0]=tmp.getInt32();iv[1]=tmp.getInt32();iv[2]=tmp.getInt32();iv[3]=tmp.getInt32()}_input=forge.util.createBuffer();_output=output||forge.util.createBuffer();_prev=iv.slice(0);_inBlock=new Array(Nb);_outBlock=
new Array(Nb);_finish=false;cipher.output=_output};if(iv!==null)cipher.start(iv,output)}return cipher};forge.aes.startEncrypting=function(key,iv,output){return _createCipher(key,iv,output,false)};forge.aes.createEncryptionCipher=function(key){return _createCipher(key,null,null,false)};forge.aes.startDecrypting=function(key,iv,output){return _createCipher(key,iv,output,true)};forge.aes.createDecryptionCipher=function(key){return _createCipher(key,null,null,true)};forge.aes._expandKey=function(key,
decrypt){if(!init)initialize();return expandKey(key,decrypt)};forge.aes._updateBlock=_updateBlock})();(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.util={}}else if(typeof module!=="undefined"&&module.exports){var forge={};module.exports=forge.util={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.util={}}var util=forge.util;util.ByteBuffer=function(b){this.data=b||"";this.read=0};util.ByteBuffer.prototype.length=function(){return this.data.length-this.read};util.ByteBuffer.prototype.isEmpty=function(){return this.data.length-
this.read===0};util.ByteBuffer.prototype.putByte=function(b){this.data+=String.fromCharCode(b)};util.ByteBuffer.prototype.fillWithByte=function(b,n){b=String.fromCharCode(b);var d=this.data;while(n>0){if(n&1)d+=b;n>>>=1;if(n>0)b+=b}this.data=d};util.ByteBuffer.prototype.putBytes=function(bytes){this.data+=bytes};util.ByteBuffer.prototype.putString=function(str){this.data+=util.encodeUtf8(str)};util.ByteBuffer.prototype.putInt16=function(i){this.data+=String.fromCharCode(i>>8&255)+String.fromCharCode(i&
255)};util.ByteBuffer.prototype.putInt24=function(i){this.data+=String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt32=function(i){this.data+=String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt16Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)};util.ByteBuffer.prototype.putInt24Le=function(i){this.data+=
String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)};util.ByteBuffer.prototype.putInt32Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>24&255)};util.ByteBuffer.prototype.putInt=function(i,n){do{n-=8;this.data+=String.fromCharCode(i>>n&255)}while(n>0)};util.ByteBuffer.prototype.putBuffer=function(buffer){this.data+=buffer.getBytes()};util.ByteBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};
util.ByteBuffer.prototype.getInt16=function(){var rval=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return rval};util.ByteBuffer.prototype.getInt24=function(){var rval=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return rval};util.ByteBuffer.prototype.getInt32=function(){var rval=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<
8^this.data.charCodeAt(this.read+3);this.read+=4;return rval};util.ByteBuffer.prototype.getInt16Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return rval};util.ByteBuffer.prototype.getInt24Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return rval};util.ByteBuffer.prototype.getInt32Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+
1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return rval};util.ByteBuffer.prototype.getInt=function(n){var rval=0;do{rval=(rval<<n)+this.data.charCodeAt(this.read++);n-=8}while(n>0);return rval};util.ByteBuffer.prototype.getBytes=function(count){var rval;if(count){count=Math.min(this.length(),count);rval=this.data.slice(this.read,this.read+count);this.read+=count}else if(count===0)rval="";else{rval=this.read===0?this.data:this.data.slice(this.read);
this.clear()}return rval};util.ByteBuffer.prototype.bytes=function(count){return typeof count==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+count)};util.ByteBuffer.prototype.at=function(i){return this.data.charCodeAt(this.read+i)};util.ByteBuffer.prototype.setAt=function(i,b){this.data=this.data.substr(0,this.read+i)+String.fromCharCode(b)+this.data.substr(this.read+i+1)};util.ByteBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};util.ByteBuffer.prototype.copy=
function(){var c=util.createBuffer(this.data);c.read=this.read;return c};util.ByteBuffer.prototype.compact=function(){if(this.read>0){this.data=this.data.slice(this.read);this.read=0}};util.ByteBuffer.prototype.clear=function(){this.data="";this.read=0};util.ByteBuffer.prototype.truncate=function(count){var len=Math.max(0,this.length()-count);this.data=this.data.substr(this.read,len);this.read=0};util.ByteBuffer.prototype.toHex=function(){var rval="";for(var i=this.read;i<this.data.length;++i){var b=
this.data.charCodeAt(i);if(b<16)rval+="0";rval+=b.toString(16)}return rval};util.ByteBuffer.prototype.toString=function(){return util.decodeUtf8(this.bytes())};util.createBuffer=function(input,encoding){encoding=encoding||"raw";if(input!==undefined&&encoding==="utf8")input=util.encodeUtf8(input);return new util.ByteBuffer(input)};util.fillString=function(c,n){var s="";while(n>0){if(n&1)s+=c;n>>>=1;if(n>0)c+=c}return s};util.xorBytes=function(s1,s2,n){var s3="";var b="";var t="";var i=0;var c=0;for(;n>
0;--n,++i){b=s1.charCodeAt(i)^s2.charCodeAt(i);if(c>=10){s3+=t;t="";c=0}t+=String.fromCharCode(b);++c}s3+=t;return s3};util.hexToBytes=function(hex){var rval="";var i=0;if(hex.length&1==1){i=1;rval+=String.fromCharCode(parseInt(hex[0],16))}for(;i<hex.length;i+=2)rval+=String.fromCharCode(parseInt(hex.substr(i,2),16));return rval};util.bytesToHex=function(bytes){return util.createBuffer(bytes).toHex()};util.int32ToBytes=function(i){return String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+
String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};var _base64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var _base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];util.encode64=function(input,maxline){var line="";var output="";var chr1,chr2,chr3;var i=0;while(i<input.length){chr1=
input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);line+=_base64.charAt(chr1>>2);line+=_base64.charAt((chr1&3)<<4|chr2>>4);if(isNaN(chr2))line+="==";else{line+=_base64.charAt((chr2&15)<<2|chr3>>6);line+=isNaN(chr3)?"=":_base64.charAt(chr3&63)}if(maxline&&line.length>maxline){output+=line.substr(0,maxline)+"\r\n";line=line.substr(maxline)}}output+=line;return output};util.decode64=function(input){input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");var output="";var enc1,enc2,enc3,
enc4;var i=0;while(i<input.length){enc1=_base64Idx[input.charCodeAt(i++)-43];enc2=_base64Idx[input.charCodeAt(i++)-43];enc3=_base64Idx[input.charCodeAt(i++)-43];enc4=_base64Idx[input.charCodeAt(i++)-43];output+=String.fromCharCode(enc1<<2|enc2>>4);if(enc3!==64){output+=String.fromCharCode((enc2&15)<<4|enc3>>2);if(enc4!==64)output+=String.fromCharCode((enc3&3)<<6|enc4)}}return output};util.encodeUtf8=function(str){return unescape(encodeURIComponent(str))};util.decodeUtf8=function(str){return decodeURIComponent(escape(str))};
util.deflate=function(api,bytes,raw){bytes=util.decode64(api.deflate(util.encode64(bytes)).rval);if(raw){var start=2;var flg=bytes.charCodeAt(1);if(flg&32)start=6;bytes=bytes.substring(start,bytes.length-4)}return bytes};util.inflate=function(api,bytes,raw){var rval=api.inflate(util.encode64(bytes)).rval;return rval===null?null:util.decode64(rval)};var _setStorageObject=function(api,id,obj){if(!api)throw{message:"WebStorage not available."};var rval;if(obj===null)rval=api.removeItem(id);else{obj=
util.encode64(JSON.stringify(obj));rval=api.setItem(id,obj)}if(typeof rval!=="undefined"&&rval.rval!==true)throw rval.error;};var _getStorageObject=function(api,id){if(!api)throw{message:"WebStorage not available."};var rval=api.getItem(id);if(api.init)if(rval.rval===null){if(rval.error)throw rval.error;rval=null}else rval=rval.rval;if(rval!==null)rval=JSON.parse(util.decode64(rval));return rval};var _setItem=function(api,id,key,data){var obj=_getStorageObject(api,id);if(obj===null)obj={};obj[key]=
data;_setStorageObject(api,id,obj)};var _getItem=function(api,id,key){var rval=_getStorageObject(api,id);if(rval!==null)rval=key in rval?rval[key]:null;return rval};var _removeItem=function(api,id,key){var obj=_getStorageObject(api,id);if(obj!==null&&key in obj){delete obj[key];var empty=true;for(var prop in tmp){empty=false;break}if(empty)obj=null;_setStorageObject(api,id,obj)}};var _clearItems=function(api,id){_setStorageObject(api,id,null)};var _callStorageFunction=function(func,args,location){var rval=
null;if(typeof location==="undefined")location=["web","flash"];var type;var done=false;var exception=null;for(var idx in location){type=location[idx];try{if(type==="flash"||type==="both")if(args[0]===null)throw{message:"Flash local storage not available."};else{rval=func.apply(this,args);done=type==="flash"}if(type==="web"||type==="both"){args[0]=localStorage;rval=func.apply(this,args);done=true}}catch(ex){exception=ex}if(done)break}if(!done)throw exception;return rval};util.setItem=function(api,
id,key,data,location){_callStorageFunction(_setItem,arguments,location)};util.getItem=function(api,id,key,location){return _callStorageFunction(_getItem,arguments,location)};util.removeItem=function(api,id,key,location){_callStorageFunction(_removeItem,arguments,location)};util.clearItems=function(api,id,location){_callStorageFunction(_clearItems,arguments,location)};util.parseUrl=function(str){var regex=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;regex.lastIndex=0;var m=regex.exec(str);var url=m===
null?null:{full:str,scheme:m[1],host:m[2],port:m[3],path:m[4]};if(url){url.fullHost=url.host;if(url.port)if(url.port!==80&&url.scheme==="http")url.fullHost+=":"+url.port;else{if(url.port!==443&&url.scheme==="https")url.fullHost+=":"+url.port}else if(url.scheme==="http")url.port=80;else if(url.scheme==="https")url.port=443;url.full=url.scheme+"://"+url.fullHost}return url};var _queryVariables=null;util.getQueryVariables=function(query){var parse=function(q){var rval={};var kvpairs=q.split("&");for(var i=
0;i<kvpairs.length;i++){var pos=kvpairs[i].indexOf("=");var key;var val;if(pos>0){key=kvpairs[i].substring(0,pos);val=kvpairs[i].substring(pos+1)}else{key=kvpairs[i];val=null}if(!(key in rval))rval[key]=[];if(val!==null)rval[key].push(unescape(val))}return rval};var rval;if(typeof query==="undefined"){if(_queryVariables===null)if(typeof window==="undefined")_queryVariables={};else _queryVariables=parse(window.location.search.substring(1));rval=_queryVariables}else rval=parse(query);return rval};util.parseFragment=
function(fragment){var fp=fragment;var fq="";var pos=fragment.indexOf("?");if(pos>0){fp=fragment.substring(0,pos);fq=fragment.substring(pos+1)}var path=fp.split("/");if(path.length>0&&path[0]=="")path.shift();var query=fq==""?{}:util.getQueryVariables(fq);return{pathString:fp,queryString:fq,path:path,query:query}};util.makeRequest=function(reqString){var frag=util.parseFragment(reqString);var req={path:frag.pathString,query:frag.queryString,getPath:function(i){return typeof i==="undefined"?frag.path:
frag.path[i]},getQuery:function(k,i){var rval;if(typeof k==="undefined")rval=frag.query;else{rval=frag.query[k];if(rval&&typeof i!=="undefined")rval=rval[i]}return rval},getQueryLast:function(k,_default){var rval;var vals=req.getQuery(k);if(vals)rval=vals[vals.length-1];else rval=_default;return rval}};return req};util.makeLink=function(path,query,fragment){path=jQuery.isArray(path)?path.join("/"):path;var qstr=jQuery.param(query||{});fragment=fragment||"";return path+(qstr.length>0?"?"+qstr:"")+
(fragment.length>0?"#"+fragment:"")};util.setPath=function(object,keys,value){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)object[next]=value;else{var hasNext=next in object;if(!hasNext||hasNext&&typeof object[next]!=="object"||hasNext&&object[next]===null)object[next]={};object=object[next]}}}};util.getPath=function(object,keys,_default){var i=0;var len=keys.length;var hasNext=true;while(hasNext&&i<len&&typeof object==="object"&&
object!==null){var next=keys[i++];hasNext=next in object;if(hasNext)object=object[next]}return hasNext?object:_default};util.deletePath=function(object,keys){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)delete object[next];else{if(!(next in object)||typeof object[next]!=="object"||object[next]===null)break;object=object[next]}}}};util.isEmpty=function(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return false;return true};
util.format=function(format){var re=/%./g;var match;var part;var argi=0;var parts=[];var last=0;while(match=re.exec(format)){part=format.substring(last,re.lastIndex-2);if(part.length>0)parts.push(part);last=re.lastIndex;var code=match[0][1];switch(code){case "s":case "o":if(argi<arguments.length)parts.push(arguments[argi++ +1]);else parts.push("<?>");break;case "%":parts.push("%");break;default:parts.push("<%"+code+"?>")}}parts.push(format.substring(last));return parts.join("")};util.formatNumber=
function(number,decimals,dec_point,thousands_sep){var n=number,c=isNaN(decimals=Math.abs(decimals))?2:decimals;var d=dec_point===undefined?",":dec_point;var t=thousands_sep===undefined?".":thousands_sep,s=n<0?"-":"";var i=parseInt(n=Math.abs(+n||0).toFixed(c),10)+"";var j=i.length>3?i.length%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")};util.formatSize=function(size){if(size>=1073741824)size=util.formatNumber(size/1073741824,
2,".","")+" GiB";else if(size>=1048576)size=util.formatNumber(size/1048576,2,".","")+" MiB";else if(size>=1024)size=util.formatNumber(size/1024,0)+" KiB";else size=util.formatNumber(size,0)+" bytes";return size}})();(function(){function getSqDist(p1,p2){var dx=p1.x-p2.x,dy=p1.y-p2.y;return dx*dx+dy*dy}function getSqSegDist(p,p1,p2){var x=p1.x,y=p1.y,dx=p2.x-x,dy=p2.y-y;if(dx!==0||dy!==0){var t=((p.x-x)*dx+(p.y-y)*dy)/(dx*dx+dy*dy);if(t>1){x=p2.x;y=p2.y}else if(t>0){x+=dx*t;y+=dy*t}}dx=p.x-x;dy=p.y-y;return dx*dx+dy*dy}function simplifyRadialDist(points,sqTolerance){var prevPoint=points[0],newPoints=[prevPoint],point;for(var i=1,len=points.length;i<len;i++){point=points[i];if(getSqDist(point,prevPoint)>sqTolerance){newPoints.push(point);
prevPoint=point}}if(prevPoint!==point)newPoints.push(point);return newPoints}function simplifyDouglasPeucker(points,sqTolerance){var len=points.length,MarkerArray=typeof Uint8Array!=="undefined"?Uint8Array:Array,markers=new MarkerArray(len),first=0,last=len-1,stack=[],newPoints=[],i,maxSqDist,sqDist,index;markers[first]=markers[last]=1;while(last){maxSqDist=0;for(i=first+1;i<last;i++){sqDist=getSqSegDist(points[i],points[first],points[last]);if(sqDist>maxSqDist){index=i;maxSqDist=sqDist}}if(maxSqDist>
sqTolerance){markers[index]=1;stack.push(first,index,index,last)}last=stack.pop();first=stack.pop()}for(i=0;i<len;i++)if(markers[i])newPoints.push(points[i]);return newPoints}function simplify(points,tolerance,highestQuality){if(points.length<=1)return points;var sqTolerance=tolerance!==undefined?tolerance*tolerance:1;points=highestQuality?points:simplifyRadialDist(points,sqTolerance);points=simplifyDouglasPeucker(points,sqTolerance);return points}window.simplify=simplify})();!function(e,t){var n,a,o,i="._tap",c="._tapActive",r="tap",u="clientX clientY screenX screenY pageX pageY".split(" "),s={count:0,event:0},g=function(e,n){var a=n.originalEvent,o=t.Event(a);o.type=e;for(var i=0,c=u.length;c>i;i++)o[u[i]]=n[u[i]];return o},p=function(e){if(e.isTrigger)return!1;var n=s.event,a=Math.abs(e.pageX-n.pageX),o=Math.abs(e.pageY-n.pageY),i=Math.max(a,o);return e.timeStamp-n.timeStamp<t.tap.TIME_DELTA&&i<t.tap.POSITION_DELTA&&(!n.touches||1===s.count)&&T.isTracking},l=function(e){if(!o)return!1;
var n=Math.abs(e.pageX-o.pageX),a=Math.abs(e.pageY-o.pageY),i=Math.max(n,a);return Math.abs(e.timeStamp-o.timeStamp)<750&&i<t.tap.POSITION_DELTA},h=function(e){if(0===e.type.indexOf("touch")){e.touches=e.originalEvent.changedTouches;for(var t=e.touches[0],n=0,a=u.length;a>n;n++)e[u[n]]=t[u[n]]}e.timeStamp=Date.now?Date.now():+new Date},T={isEnabled:!1,isTracking:!1,enable:function(){T.isEnabled||$.event.special.tap||(T.isEnabled=!0,n=t(e.body).on("touchstart"+i,T.onStart).on("mousedown"+i,T.onStart).on("click"+
i,T.onClick))},disable:function(){T.isEnabled&&(T.isEnabled=!1,n.off(i))},onStart:function(e){e.isTrigger||(h(e),(!t.tap.LEFT_BUTTON_ONLY||e.touches||1===e.which)&&(e.touches&&(s.count=e.touches.length),T.isTracking&&T.onCancel(e),(e.touches||!l(e))&&(T.isTracking=!0,s.event=e,e.touches?(o=e,n.on("touchend"+i+c,T.onEnd).on("touchcancel"+i+c,T.onCancel)):n.on("mouseup"+i+c,T.onEnd))))},onEnd:function(e){var n;e.isTrigger||(h(e),p(e)&&(n=g(r,e),a=n,t(s.event.target).trigger(n)),T.onCancel(e))},onCancel:function(e){e&&
"touchcancel"===e.type&&e.preventDefault(),T.isTracking=!1,n.off(c)},onClick:function(e){return!e.isTrigger&&a&&a.isDefaultPrevented()&&a.target===e.target&&a.pageX===e.pageX&&a.pageY===e.pageY&&e.timeStamp-a.timeStamp<750?(a=null,!1):void 0}};t(e).ready(T.enable),t.tap={POSITION_DELTA:10,TIME_DELTA:400,LEFT_BUTTON_ONLY:!0}}(document,jQuery);!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){function a(){return Dc.apply(null,arguments)}function b(a){Dc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,
b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return za(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&
!b.invalidMonth&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(0/0);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=
typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Fc.length>0)for(c in Fc)d=Fc[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(+b._d),Gc===!1&&(Gc=!0,a.updateOffset(this),Gc=!1)}function o(a){return a instanceof n||null!=a&&null!=
a._isAMomentObject}function p(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function q(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&p(a[d])!==p(b[d]))&&g++;return g+f}function r(){}function s(a){return a?a.toLowerCase().replace("_","-"):a}function t(a){for(var b,c,d,e,f=0;f<a.length;){for(e=s(a[f]).split("-"),b=e.length,c=s(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=u(e.slice(0,b).join("-")))return d;
if(c&&c.length>=b&&q(e,c,!0)>=b-1)break;b--}f++}return null}function u(a){var b=null;if(!Hc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ec._abbr,require("./locale/"+a),v(b)}catch(c){}return Hc[a]}function v(a,b){var c;return a&&(c="undefined"==typeof b?x(a):w(a,b),c&&(Ec=c)),Ec._abbr}function w(a,b){return null!==b?(b.abbr=a,Hc[a]||(Hc[a]=new r),Hc[a].set(b),v(a),Hc[a]):(delete Hc[a],null)}function x(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ec;if(!c(a)){if(b=
u(a))return b;a=[a]}return t(a)}function y(a,b){var c=a.toLowerCase();Ic[c]=Ic[c+"s"]=Ic[b]=a}function z(a){return"string"==typeof a?Ic[a]||Ic[a.toLowerCase()]:void 0}function A(a){var b,c,d={};for(c in a)f(a,c)&&(b=z(c),b&&(d[b]=a[c]));return d}function B(b,c){return function(d){return null!=d?(D(this,b,d),a.updateOffset(this,c),this):C(this,b)}}function C(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function D(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function E(a,b){var c;if("object"==
typeof a)for(c in a)this.set(c,a[c]);else if(a=z(a),"function"==typeof this[a])return this[a](b);return this}function F(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function G(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Mc[a]=e),b&&(Mc[b[0]]=function(){return F(e.apply(this,arguments),b[1],b[2])}),c&&(Mc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function H(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,
""):a.replace(/\\/g,"")}function I(a){var b,c,d=a.match(Jc);for(b=0,c=d.length;c>b;b++)Mc[d[b]]?d[b]=Mc[d[b]]:d[b]=H(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function J(a,b){return a.isValid()?(b=K(b,a.localeData()),Lc[b]||(Lc[b]=I(b)),Lc[b](a)):a.localeData().invalidDate()}function K(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Kc.lastIndex=0;d>=0&&Kc.test(a);)a=a.replace(Kc,c),Kc.lastIndex=0,d-=1;return a}function L(a,
b,c){_c[a]="function"==typeof b?b:function(a){return a&&c?c:b}}function M(a,b){return f(_c,a)?_c[a](b._strict,b._locale):new RegExp(N(a))}function N(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function O(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=p(a)}),c=0;c<a.length;c++)ad[a[c]]=d}function P(a,b){O(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,
d,e)})}function Q(a,b,c){null!=b&&f(ad,a)&&ad[a](b,c._a,c,a)}function R(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function S(a){return this._months[a.month()]}function T(a){return this._monthsShort[a.month()]}function U(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=
new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function V(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),R(a.year(),b)),a._d["set"+
(a._isUTC?"UTC":"")+"Month"](b,c),a)}function W(b){return null!=b?(V(this,b),a.updateOffset(this,!0),this):C(this,"Month")}function X(){return R(this.year(),this.month())}function Y(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[cd]<0||c[cd]>11?cd:c[dd]<1||c[dd]>R(c[bd],c[cd])?dd:c[ed]<0||c[ed]>24||24===c[ed]&&(0!==c[fd]||0!==c[gd]||0!==c[hd])?ed:c[fd]<0||c[fd]>59?fd:c[gd]<0||c[gd]>59?gd:c[hd]<0||c[hd]>999?hd:-1,j(a)._overflowDayOfYear&&(bd>b||b>dd)&&(b=dd),j(a).overflow=b),a}function Z(b){a.suppressDeprecationWarnings===
!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function $(a,b){var c=!0,d=a+"\n"+(new Error).stack;return g(function(){return c&&(Z(d),c=!1),b.apply(this,arguments)},b)}function _(a,b){kd[a]||(Z(b),kd[a]=!0)}function aa(a){var b,c,d=a._i,e=ld.exec(d);if(e){for(j(a).iso=!0,b=0,c=md.length;c>b;b++)if(md[b][1].exec(d)){a._f=md[b][0]+(e[6]||" ");break}for(b=0,c=nd.length;c>b;b++)if(nd[b][1].exec(d)){a._f+=nd[b][0];break}d.match(Yc)&&(a._f+="Z"),ta(a)}else a._isValid=
!1}function ba(b){var c=od.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(aa(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ca(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function da(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ea(a){return fa(a)?366:365}function fa(a){return a%4===0&&a%100!==0||a%400===0}function ga(){return fa(this.year())}function ha(a,b,c){var d,
e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Aa(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ia(a){return ha(a,this._week.dow,this._week.doy).week}function ja(){return this._week.dow}function ka(){return this._week.doy}function la(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function ma(a){var b=ha(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function na(a,b,c,d,e){var f,g,h=da(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=
c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:ea(a-1)+g}}function oa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")}function pa(a,b,c){return null!=a?a:null!=b?b:c}function qa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ra(a){var b,c,d,e,f=[];if(!a._d){for(d=qa(a),a._w&&null==a._a[dd]&&null==
a._a[cd]&&sa(a),a._dayOfYear&&(e=pa(a._a[bd],d[bd]),a._dayOfYear>ea(e)&&(j(a)._overflowDayOfYear=!0),c=da(e,0,a._dayOfYear),a._a[cd]=c.getUTCMonth(),a._a[dd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[ed]&&0===a._a[fd]&&0===a._a[gd]&&0===a._a[hd]&&(a._nextDay=!0,a._a[ed]=0),a._d=(a._useUTC?da:ca).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[ed]=24)}}function sa(a){var b,
c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=pa(b.GG,a._a[bd],ha(Aa(),1,4).year),d=pa(b.W,1),e=pa(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=pa(b.gg,a._a[bd],ha(Aa(),f,g).year),d=pa(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=na(c,d,e,g,f),a._a[bd]=h.year,a._dayOfYear=h.dayOfYear}function ta(b){if(b._f===a.ISO_8601)return void aa(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=K(b._f,b._locale).match(Jc)||[],c=0;c<e.length;c++)f=e[c],
d=(h.match(M(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Mc[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),Q(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[ed]<=12&&b._a[ed]>0&&(j(b).bigHour=void 0),b._a[ed]=ua(b._locale,b._a[ed],b._meridiem),ra(b),Y(b)}function ua(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,
c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function va(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(0/0));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],ta(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function wa(a){if(!a._d){var b=A(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ra(a)}}function xa(a){var b,
e=a._i,f=a._f;return a._locale=a._locale||x(a._l),null===e||void 0===f&&""===e?l({nullInput:!0}):("string"==typeof e&&(a._i=e=a._locale.preparse(e)),o(e)?new n(Y(e)):(c(f)?va(a):f?ta(a):d(e)?a._d=e:ya(a),b=new n(Y(a)),b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b))}function ya(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?ba(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ra(b)):"object"==typeof f?wa(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}
function za(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,xa(f)}function Aa(a,b,c,d){return za(a,b,c,d,!1)}function Ba(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Aa();for(d=b[0],e=1;e<b.length;++e)b[e][a](d)&&(d=b[e]);return d}function Ca(){var a=[].slice.call(arguments,0);return Ba("isBefore",a)}function Da(){var a=[].slice.call(arguments,0);return Ba("isAfter",a)}function Ea(a){var b=
A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1E3*j+6E4*i+36E5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=x(),this._bubble()}function Fa(a){return a instanceof Ea}function Ga(a,b){G(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+F(~~(a/60),2)+b+F(~~a%60,2)})}function Ha(a){var b=(a||"").match(Yc)||[],c=b[b.length-1]||[],d=(c+"").match(td)||["-",
0,0],e=+(60*d[1])+p(d[2]);return"+"===d[0]?e:-e}function Ia(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Aa(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Aa(b).local();return c._isUTC?Aa(b).zone(c._offset||0):Aa(b).local()}function Ja(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ka(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ha(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ja(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,
"m"),e!==b&&(!c||this._changeInProgress?$a(this,Va(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ja(this)}function La(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Ma(a){return this.utcOffset(0,a)}function Na(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ja(this),"m")),this}function Oa(){return this._tzm?this.utcOffset(this._tzm):
"string"==typeof this._i&&this.utcOffset(Ha(this._i)),this}function Pa(a){return a=a?Aa(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Qa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ra(){if(this._a){var a=this._isUTC?h(this._a):Aa(this._a);return this.isValid()&&q(this._a,a.toArray())>0}return!1}function Sa(){return!this._isUTC}function Ta(){return this._isUTC}function Ua(){return this._isUTC&&0===this._offset}function Va(a,
b){var c,d,e,g=a,h=null;return Fa(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=ud.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:p(h[dd])*c,h:p(h[ed])*c,m:p(h[fd])*c,s:p(h[gd])*c,ms:p(h[hd])*c}):(h=vd.exec(a))?(c="-"===h[1]?-1:1,g={y:Wa(h[2],c),M:Wa(h[3],c),d:Wa(h[4],c),h:Wa(h[5],c),m:Wa(h[6],c),s:Wa(h[7],c),w:Wa(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=Ya(Aa(g.from),Aa(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ea(g),
Fa(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Wa(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Xa(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Ya(a,b){var c;return b=Ia(b,a),a.isBefore(b)?c=Xa(a,b):(c=Xa(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function Za(a,b){return function(c,d){var e,
f;return null===d||isNaN(+d)||(_(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Va(c,d),$a(this,e,a),this}}function $a(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&D(b,"Date",C(b,"Date")+g*d),h&&V(b,C(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function _a(a){var b=a||Aa(),c=Ia(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>
d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,Aa(b)))}function ab(){return new n(this)}function bb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this>+a):(c=o(a)?+a:+Aa(a),c<+this.clone().startOf(b))}function cb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+a>+this):(c=o(a)?+a:+Aa(a),+this.clone().endOf(b)<c)}function db(a,b,c){return this.isAfter(a,
c)&&this.isBefore(b,c)}function eb(a,b){var c;return b=z(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this===+a):(c=+Aa(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function fb(a){return 0>a?Math.ceil(a):Math.floor(a)}function gb(a,b,c){var d,e,f=Ia(a,this),g=6E4*(f.utcOffset()-this.utcOffset());return b=z(b),"year"===b||"month"===b||"quarter"===b?(e=hb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1E3:"minute"===b?d/6E4:"hour"===b?d/36E5:"day"===
b?(d-g)/864E5:"week"===b?(d-g)/6048E5:d),c?e:fb(e)}function hb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function ib(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function jb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():J(a,
"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):J(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function kb(b){var c=J(this,b||a.defaultFormat);return this.localeData().postformat(c)}function lb(a,b){return this.isValid()?Va({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function mb(a){return this.from(Aa(),a)}function nb(a,b){return this.isValid()?Va({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.to(Aa(),a)}function pb(a){var b;
return void 0===a?this._locale._abbr:(b=x(a),null!=b&&(this._locale=b),this)}function qb(){return this._locale}function rb(a){switch(a=z(a)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function sb(a){return a=
z(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function tb(){return+this._d-6E4*(this._offset||0)}function ub(){return Math.floor(+this/1E3)}function vb(){return this._offset?new Date(+this):this._d}function wb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function xb(){return k(this)}function yb(){return g({},j(this))}function zb(){return j(this).overflow}function Ab(a,b){G(0,[a,a.length],0,
b)}function Bb(a,b,c){return ha(Aa([a,11,31+b-c]),b,c).week}function Cb(a){var b=ha(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Db(a){var b=ha(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Eb(){return Bb(this.year(),1,4)}function Fb(){var a=this.localeData()._week;return Bb(this.year(),a.dow,a.doy)}function Gb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Hb(a,b){if("string"==
typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function Ib(a){return this._weekdays[a.day()]}function Jb(a){return this._weekdaysShort[a.day()]}function Kb(a){return this._weekdaysMin[a.day()]}function Lb(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Aa([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",
""),"i")),this._weekdaysParse[b].test(a))return b}function Mb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Hb(a,this.localeData()),this.add(a-b,"d")):b}function Nb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ob(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Pb(a,b){G(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Qb(a,b){return b._meridiemParse}
function Rb(a){return"p"===(a+"").toLowerCase().charAt(0)}function Sb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Tb(a){G(0,[a,3],0,"millisecond")}function Ub(){return this._isUTC?"UTC":""}function Vb(){return this._isUTC?"Coordinated Universal Time":""}function Wb(a){return Aa(1E3*a)}function Xb(){return Aa.apply(null,arguments).parseZone()}function Yb(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function Zb(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&
(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b}function $b(){return this._invalidDate}function _b(a){return this._ordinal.replace("%d",a)}function ac(a){return a}function bc(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function cc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function dc(a){var b,c;for(c in a)b=a[c],
"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ec(a,b,c,d){var e=x(),f=h().set(d,b);return e[c](f,a)}function fc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return ec(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=ec(a,f,c,e);return g}function gc(a,b){return fc(a,b,"months",12,"month")}function hc(a,b){return fc(a,b,"monthsShort",12,"month")}function ic(a,b){return fc(a,b,"weekdays",7,"day")}
function jc(a,b){return fc(a,b,"weekdaysShort",7,"day")}function kc(a,b){return fc(a,b,"weekdaysMin",7,"day")}function lc(){var a=this._data;return this._milliseconds=Rd(this._milliseconds),this._days=Rd(this._days),this._months=Rd(this._months),a.milliseconds=Rd(a.milliseconds),a.seconds=Rd(a.seconds),a.minutes=Rd(a.minutes),a.hours=Rd(a.hours),a.months=Rd(a.months),a.years=Rd(a.years),this}function mc(a,b,c,d){var e=Va(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=
d*e._months,a._bubble()}function nc(a,b){return mc(this,a,b,1)}function oc(a,b){return mc(this,a,b,-1)}function pc(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;return g.milliseconds=d%1E3,a=fb(d/1E3),g.seconds=a%60,b=fb(a/60),g.minutes=b%60,c=fb(b/60),g.hours=c%24,e+=fb(c/24),h=fb(qc(e)),e-=fb(rc(h)),f+=fb(e/30),e%=30,h+=fb(f/12),f%=12,g.days=e,g.months=f,g.years=h,this}function qc(a){return 400*a/146097}function rc(a){return 146097*a/400}function sc(a){var b,c,d=
this._milliseconds;if(a=z(a),"month"===a||"year"===a)return b=this._days+d/864E5,c=this._months+12*qc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(rc(this._months/12)),a){case "week":return b/7+d/6048E5;case "day":return b+d/864E5;case "hour":return 24*b+d/36E5;case "minute":return 1440*b+d/6E4;case "second":return 86400*b+d/1E3;case "millisecond":return Math.floor(864E5*b)+d;default:throw new Error("Unknown unit "+a);}}function tc(){return this._milliseconds+864E5*this._days+this._months%
12*2592E6+31536E6*p(this._months/12)}function uc(a){return function(){return this.as(a)}}function vc(a){return a=z(a),this[a+"s"]()}function wc(a){return function(){return this._data[a]}}function xc(){return fb(this.days()/7)}function yc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function zc(a,b,c){var d=Va(a).abs(),e=fe(d.as("s")),f=fe(d.as("m")),g=fe(d.as("h")),h=fe(d.as("d")),i=fe(d.as("M")),j=fe(d.as("y")),k=e<ge.s&&["s",e]||1===f&&["m"]||f<ge.m&&["mm",f]||1===g&&["h"]||g<ge.h&&["hh",g]||
1===h&&["d"]||h<ge.d&&["dd",h]||1===i&&["M"]||i<ge.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,yc.apply(null,k)}function Ac(a,b){return void 0===ge[a]?!1:void 0===b?ge[a]:(ge[a]=b,!0)}function Bc(a){var b=this.localeData(),c=zc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Cc(){var a=he(this.years()),b=he(this.months()),c=he(this.days()),d=he(this.hours()),e=he(this.minutes()),f=he(this.seconds()+this.milliseconds()/1E3),g=this.asSeconds();return g?
(0>g?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}var Dc,Ec,Fc=a.momentProperties=[],Gc=!1,Hc={},Ic={},Jc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Kc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Lc={},Mc={},Nc=/\d/,Oc=/\d\d/,Pc=/\d{3}/,Qc=/\d{4}/,Rc=/[+-]?\d{6}/,Sc=/\d\d?/,Tc=/\d{1,3}/,Uc=/\d{1,4}/,Vc=/[+-]?\d{1,6}/,
Wc=/\d+/,Xc=/[+-]?\d+/,Yc=/Z|[+-]\d\d:?\d\d/gi,Zc=/[+-]?\d+(\.\d{1,3})?/,$c=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_c={},ad={},bd=0,cd=1,dd=2,ed=3,fd=4,gd=5,hd=6;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),G("MMMM",0,0,function(a){return this.localeData().months(this,a)}),y("month","M"),L("M",Sc),L("MM",Sc,Oc),L("MMM",$c),L("MMMM",$c),O(["M",
"MM"],function(a,b){b[cd]=p(a)-1}),O(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[cd]=e:j(c).invalidMonth=a});var id="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),jd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kd={};a.suppressDeprecationWarnings=!1;var ld=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
md=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],nd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],od=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=$("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),y("year","y"),L("Y",Xc),L("YY",Sc,Oc),L("YYYY",Uc,Qc),L("YYYYY",Vc,Rc),L("YYYYYY",Vc,Rc),O(["YYYY","YYYYY","YYYYYY"],bd),O("YY",function(b,c){c[bd]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return p(a)+(p(a)>68?1900:2E3)};var pd=B("FullYear",!1);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),
y("week","w"),y("isoWeek","W"),L("w",Sc),L("ww",Sc,Oc),L("W",Sc),L("WW",Sc,Oc),P(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=p(a)});var qd={dow:0,doy:6};G("DDD",["DDDD",3],"DDDo","dayOfYear"),y("dayOfYear","DDD"),L("DDD",Tc),L("DDDD",Pc),O(["DDD","DDDD"],function(a,b,c){c._dayOfYear=p(a)}),a.ISO_8601=function(){};var rd=$("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return this>a?this:a}),sd=
$("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return a>this?this:a});Ga("Z",":"),Ga("ZZ",""),L("Z",Yc),L("ZZ",Yc),O(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ha(a)});var td=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var ud=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,vd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
Va.fn=Ea.prototype;var wd=Za(1,"add"),xd=Za(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var yd=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ab("gggg","weekYear"),Ab("ggggg","weekYear"),Ab("GGGG","isoWeekYear"),
Ab("GGGGG","isoWeekYear"),y("weekYear","gg"),y("isoWeekYear","GG"),L("G",Xc),L("g",Xc),L("GG",Sc,Oc),L("gg",Sc,Oc),L("GGGG",Uc,Qc),L("gggg",Uc,Qc),L("GGGGG",Vc,Rc),L("ggggg",Vc,Rc),P(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=p(a)}),P(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),G("Q",0,0,"quarter"),y("quarter","Q"),L("Q",Nc),O("Q",function(a,b){b[cd]=3*(p(a)-1)}),G("D",["DD",2],"Do","date"),y("date","D"),L("D",Sc),L("DD",Sc,Oc),L("Do",function(a,b){return a?
b._ordinalParse:b._ordinalParseLenient}),O(["D","DD"],dd),O("Do",function(a,b){b[dd]=p(a.match(Sc)[0],10)});var zd=B("Date",!0);G("d",0,"do","day"),G("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),G("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),G("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),y("day","d"),y("weekday","e"),y("isoWeekday","E"),L("d",Sc),L("e",Sc),L("E",Sc),L("dd",$c),L("ddd",
$c),L("dddd",$c),P(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),P(["d","e","E"],function(a,b,c,d){b[d]=p(a)});var Ad="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Cd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");G("H",["HH",2],0,"hour"),G("h",["hh",2],0,function(){return this.hours()%12||12}),Pb("a",!0),Pb("A",!1),y("hour","h"),L("a",Qb),L("A",Qb),L("H",Sc),L("h",Sc),L("HH",Sc,Oc),
L("hh",Sc,Oc),O(["H","HH"],ed),O(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),O(["h","hh"],function(a,b,c){b[ed]=p(a),j(c).bigHour=!0});var Dd=/[ap]\.?m?\.?/i,Ed=B("Hours",!0);G("m",["mm",2],0,"minute"),y("minute","m"),L("m",Sc),L("mm",Sc,Oc),O(["m","mm"],fd);var Fd=B("Minutes",!1);G("s",["ss",2],0,"second"),y("second","s"),L("s",Sc),L("ss",Sc,Oc),O(["s","ss"],gd);var Gd=B("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/
10)}),Tb("SSS"),Tb("SSSS"),y("millisecond","ms"),L("S",Tc,Nc),L("SS",Tc,Oc),L("SSS",Tc,Pc),L("SSSS",Wc),O(["S","SS","SSS","SSSS"],function(a,b){b[hd]=p(1E3*("0."+a))});var Hd=B("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Id=n.prototype;Id.add=wd,Id.calendar=_a,Id.clone=ab,Id.diff=gb,Id.endOf=sb,Id.format=kb,Id.from=lb,Id.fromNow=mb,Id.to=nb,Id.toNow=ob,Id.get=E,Id.invalidAt=zb,Id.isAfter=bb,Id.isBefore=cb,Id.isBetween=db,Id.isSame=eb,Id.isValid=xb,Id.lang=yd,Id.locale=pb,Id.localeData=
qb,Id.max=sd,Id.min=rd,Id.parsingFlags=yb,Id.set=E,Id.startOf=rb,Id.subtract=xd,Id.toArray=wb,Id.toDate=vb,Id.toISOString=jb,Id.toJSON=jb,Id.toString=ib,Id.unix=ub,Id.valueOf=tb,Id.year=pd,Id.isLeapYear=ga,Id.weekYear=Cb,Id.isoWeekYear=Db,Id.quarter=Id.quarters=Gb,Id.month=W,Id.daysInMonth=X,Id.week=Id.weeks=la,Id.isoWeek=Id.isoWeeks=ma,Id.weeksInYear=Fb,Id.isoWeeksInYear=Eb,Id.date=zd,Id.day=Id.days=Mb,Id.weekday=Nb,Id.isoWeekday=Ob,Id.dayOfYear=oa,Id.hour=Id.hours=Ed,Id.minute=Id.minutes=Fd,Id.second=
Id.seconds=Gd,Id.millisecond=Id.milliseconds=Hd,Id.utcOffset=Ka,Id.utc=Ma,Id.local=Na,Id.parseZone=Oa,Id.hasAlignedHourOffset=Pa,Id.isDST=Qa,Id.isDSTShifted=Ra,Id.isLocal=Sa,Id.isUtcOffset=Ta,Id.isUtc=Ua,Id.isUTC=Ua,Id.zoneAbbr=Ub,Id.zoneName=Vb,Id.dates=$("dates accessor is deprecated. Use date instead.",zd),Id.months=$("months accessor is deprecated. Use month instead",W),Id.years=$("years accessor is deprecated. Use year instead",pd),Id.zone=$("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",
La);var Jd=Id,Kd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ld={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Md="Invalid date",Nd="%d",Od=/\d{1,2}/,Pd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},
Qd=r.prototype;Qd._calendar=Kd,Qd.calendar=Yb,Qd._longDateFormat=Ld,Qd.longDateFormat=Zb,Qd._invalidDate=Md,Qd.invalidDate=$b,Qd._ordinal=Nd,Qd.ordinal=_b,Qd._ordinalParse=Od,Qd.preparse=ac,Qd.postformat=ac,Qd._relativeTime=Pd,Qd.relativeTime=bc,Qd.pastFuture=cc,Qd.set=dc,Qd.months=S,Qd._months=id,Qd.monthsShort=T,Qd._monthsShort=jd,Qd.monthsParse=U,Qd.week=ia,Qd._week=qd,Qd.firstDayOfYear=ka,Qd.firstDayOfWeek=ja,Qd.weekdays=Ib,Qd._weekdays=Ad,Qd.weekdaysMin=Kb,Qd._weekdaysMin=Cd,Qd.weekdaysShort=
Jb,Qd._weekdaysShort=Bd,Qd.weekdaysParse=Lb,Qd.isPM=Rb,Qd._meridiemParse=Dd,Qd.meridiem=Sb,v("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===p(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=$("moment.lang is deprecated. Use moment.locale instead.",v),a.langData=$("moment.langData is deprecated. Use moment.localeData instead.",x);var Rd=Math.abs,Sd=uc("ms"),Td=uc("s"),Ud=uc("m"),Vd=uc("h"),Wd=uc("d"),Xd=uc("w"),Yd=uc("M"),Zd=uc("y"),$d=wc("milliseconds"),
_d=wc("seconds"),ae=wc("minutes"),be=wc("hours"),ce=wc("days"),de=wc("months"),ee=wc("years"),fe=Math.round,ge={s:45,m:45,h:22,d:26,M:11},he=Math.abs,ie=Ea.prototype;ie.abs=lc,ie.add=nc,ie.subtract=oc,ie.as=sc,ie.asMilliseconds=Sd,ie.asSeconds=Td,ie.asMinutes=Ud,ie.asHours=Vd,ie.asDays=Wd,ie.asWeeks=Xd,ie.asMonths=Yd,ie.asYears=Zd,ie.valueOf=tc,ie._bubble=pc,ie.get=vc,ie.milliseconds=$d,ie.seconds=_d,ie.minutes=ae,ie.hours=be,ie.days=ce,ie.weeks=xc,ie.months=de,ie.years=ee,ie.humanize=Bc,ie.toISOString=
Cc,ie.toString=Cc,ie.toJSON=Cc,ie.locale=pb,ie.localeData=qb,ie.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Cc),ie.lang=yd,G("X",0,0,"unix"),G("x",0,0,"valueOf"),L("x",Xc),L("X",Zc),O("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))}),O("x",function(a,b,c){c._d=new Date(p(a))}),a.version="2.10.3",b(Aa),a.fn=Jd,a.min=Ca,a.max=Da,a.utc=h,a.unix=Wb,a.months=gc,a.isDate=d,a.locale=v,a.invalid=l,a.duration=Va,a.isMoment=o,a.weekdays=ic,a.parseZone=
Xb,a.localeData=x,a.isDuration=Fa,a.monthsShort=hc,a.weekdaysMin=kc,a.defineLocale=w,a.weekdaysShort=jc,a.normalizeUnits=z,a.relativeTimeThreshold=Ac;var je=a;return je});(function(exports){var existingPDFNet=!!exports.PDFNet;exports.PDFNet=exports.PDFNet?exports.PDFNet:{};exports.PDFNet.Convert=exports.PDFNet.Convert?exports.PDFNet.Convert:{};var finishedInitializeCapability;exports.PDFNet.initialize=function(l,pdfBackendType){if(!finishedInitializeCapability){var workerHandlers={pnaclCrashError:function(msg,genericMsg){console.log("PNaClCrashError: "+msg+", "+genericMsg)},pnaclLoadError:function(msg,genericMsg){console.log("PNaClLoadError: "+msg+", "+genericMsg)},
emsWorkerError:function(msg,genericMsg){console.log("EmsWorkerError: "+msg+", "+genericMsg)}};var useEmscriptenWhileLoading=pdfBackendType!=="pnacl"&&!exports.CoreControls.isSubzeroEnabled();finishedInitializeCapability=createPromiseCapability();var finishInit=function(pdfBackendType){exports.CoreControls.preloadPDFWorker(pdfBackendType,workerHandlers,{useEmscriptenWhileLoading:useEmscriptenWhileLoading,autoSwap:false});var workerTransportPromise=exports.CoreControls.initPDFWorkerTransports(pdfBackendType,
workerHandlers,l);workerTransportPromise.then(function(transport){exports.PDFNet.messageHandler=transport;finishedInitializeCapability.resolve()})};if(typeof readerControl!=="undefined"&&typeof readerControl.pdfType!=="undefined")pdfBackendType=readerControl.pdfType;if(!pdfBackendType||pdfBackendType==="auto"){var getBackendeallocPromise=CoreControls.getDefaultPdfBackendType();getBackendeallocPromise.then(finishInit)}else finishInit(pdfBackendType)}return finishedInitializeCapability.promise};exports.PDFNet.Convert.office2PDFBuffer=
function(input,options){return new Promise(function(resolve,reject){var partRetriever=typeof input==="string"?new CoreControls.PartRetrievers.ExternalPdfPartRetriever(input):new CoreControls.PartRetrievers.ArrayBufferPdfPartRetriever(input);var officeDoc=new CoreControls.Document(undefined,"office");var officeDocReady=function(err){if(err)reject(err);officeDoc.getFileData({"downloadType":"pdf"}).then(function(buffer){resolve(buffer)})["catch"](function(e){reject(e)})};officeDoc.loadAsync(partRetriever,
officeDocReady,{workerTransportPromise:CoreControls.initOfficeWorkerTransports(CoreControls.getCurrentPDFBackendType(),{},options["l"])})})};if(!existingPDFNet){exports.PDFNet.hasFullAPI=false;if(window.Proxy)exports.PDFNet=new window.Proxy(exports.PDFNet,{get:function(obj,prop){if(prop in obj)return obj[prop];throw new Error('Full version of PDFNetJS has not been loaded. Please pass the "fullAPI: true" option in your WebViewer constructor to use the PDFNet APIs.');}})}})(typeof window==="undefined"?
this:window);var J=self,T=J.DV;(function(){function b(a){e?e.push(a):setTimeout(a,0)}var f={version:"0.7.2.0",isUndefined:function(a){return void 0===a},isNull:function(a){return null===a},ng:function(a){return null===a||void 0===a},bZ:function(a){return null!==a&&void 0!==a}},e=[];J.attachEvent&&J.attachEvent("onload",function(){if(e){var a=e;e=null;for(var d=0,c=a.length;d<c;d++)a[d]()}});T||(J.DV=T={init:b,ready:b});for(var c in f)T[c]=f[c]})();Object.lf="Object";Object.Ak=null;Object.XX=function(b){for(var f in b)delete b[f]};
Object.br=function(b,f){return void 0!==b[f]};Object.keys?Object.nQ=function(b){return Object.keys(b).length}:(Object.keys=function(b){var f=[],e;for(e in b)f.push(e);return f},Object.nQ=function(b){var f=0,e;for(e in b)f++;return f});Boolean.lf="Boolean";Boolean.parse=function(b){return"true"==b.toLowerCase()};Number.lf="Number";Number.parse=function(b){return b&&b.length?0<=b.indexOf(".")||0<=b.indexOf("e")||b.endsWith("f")||b.endsWith("F")?parseFloat(b):parseInt(b,10):0};
Number.prototype.format=function(b){return T.ng(b)||0==b.length||"i"==b?this.toString():ba(this,b,!1)};Number.prototype.NH=function(b){return T.ng(b)||0==b.length||"i"==b?this.toLocaleString():ba(this,b,!0)};
Number.wx=function(b,f,e,c){var a=null;e=b.indexOf(e);0<e&&(a=b.substr(e),b=b.substr(0,e));(e=b.startsWith("-"))&&(b=b.substr(1));var d=0,g=f[d];if(b.length<g)return a?b+a:b;for(var l=b.length,h="",k=!1;!k;){var m=g,n=l-m;0>n&&(g+=n,m+=n,n=0,k=!0);if(!m)break;n=b.substr(n,m);h=h.length?n+c+h:n;l-=m;d<f.length-1&&(d++,g=f[d])}e&&(h="-"+h);return a?h+a:h};
function ba(b,f,e){e=e?T.HK.NW.numberFormat:T.HK.YW.numberFormat;var c="",a=-1;1<f.length&&(a=parseInt(f.substr(1)));f=f.charAt(0);switch(f){case "d":case "D":c=parseInt(Math.abs(b)).toString();-1!=a&&(c=c.length<a?String.$F(a-c.length)+c:c);0>b&&(c="-"+c);break;case "x":case "X":c=parseInt(Math.abs(b)).toString(16);"X"==f&&(c=c.toUpperCase());-1!=a&&(c=c.length<a?String.$F(a-c.length)+c:c);break;case "e":case "E":c=-1==a?b.toExponential():b.toExponential(a);"E"==f&&(c=c.toUpperCase());break;case "f":case "F":case "n":case "N":-1==
a&&(a=e.mZ);c=b.toFixed(a).toString();a&&"."!=e.VH&&(a=c.indexOf("."),c=c.substr(0,a)+e.VH+c.substr(a+1));if("n"==f||"N"==f)c=Number.wx(c,e.oZ,e.VH,e.nZ);break;case "c":case "C":-1==a&&(a=e.hY);c=Math.abs(b).toFixed(a).toString();a&&"."!=e.cF&&(a=c.indexOf("."),c=c.substr(0,a)+e.cF+c.substr(a+1));c=Number.wx(c,e.jY,e.cF,e.iY);c=0>b?String.format(e.kY,c):String.format(e.lY,c);break;case "p":case "P":-1==a&&(a=e.tZ),c=(100*Math.abs(b)).toFixed(a).toString(),a&&"."!=e.nI&&(a=c.indexOf("."),c=c.substr(0,
a)+e.nI+c.substr(a+1)),c=Number.wx(c,e.vZ,e.nI,e.uZ),c=0>b?String.format(e.wZ,c):String.format(e.xZ,c)}return c}String.lf="String";String.LK="";String.compare=function(b,f,e){e&&(b&&(b=b.toUpperCase()),f&&(f=f.toUpperCase()));b=b||"";f=f||"";return b==f?0:b<f?-1:1};String.concat=function(){return 2===arguments.length?arguments[0]+arguments[1]:Array.prototype.join.call(arguments,"")};
String.prototype.endsWith=function(b){return b.length?b.length>this.length?!1:this.substr(this.length-b.length)==b:!0};String.IF=function(b,f,e){return 0==String.compare(b,f,e)};String._format=function(b,f,e){String.tD||(String.tD=/(\{[^\}^\{]+\})/g);return b.replace(String.tD,function(c,a){var d=f[parseInt(a.substr(1))+1];if(T.ng(d))return"";if(d.format){var b=null,l=a.indexOf(":");0<l&&(b=a.substring(l+1,a.length-1));return e?d.NH(b):d.format(b)}return e?d.toLocaleString():d.toString()})};
String.format=function(b){return String._format(b,arguments,!1)};String.$F=function(b){for(var f="0",e=1;e<b;e++)f+="0";return f};String.prototype.insert=function(b,f){return f?b?this.substr(0,b)+f+this.substr(b):f+this:this};String.Xu=function(b){return!b||!b.length};String.NH=function(b){return String._format(b,arguments,!0)};String.prototype.remove=function(b,f){return!f||b+f>this.length?this.substr(0,b):this.substr(0,b)+this.substr(b+f)};
String.prototype.startsWith=function(b){return b.length?b.length>this.length?!1:this.substr(0,b.length)==b:!0};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/\s*$/,"").replace(/^\s*/,"")});Array.lf="Array";Array.Fs=[T.ms];Array.prototype.add=function(b){this.push(b)};Object.defineProperty(Array.prototype,"add",{enumerable:!1,writable:!0});Array.prototype.addRange=function(b){this.push.apply(this,b)};Object.defineProperty(Array.prototype,"addRange",{enumerable:!1,writable:!0});
Object.defineProperty(Array.prototype,"aggregate",{enumerable:!1,writable:!0});Array.prototype.clear=function(){this.length=0};Object.defineProperty(Array.prototype,"clear",{enumerable:!1,writable:!0});Array.prototype.clone=function(){return 1===this.length?[this[0]]:Array.apply(null,this)};Object.defineProperty(Array.prototype,"clone",{enumerable:!1,writable:!0});Array.prototype.contains=function(b){return 0<=this.indexOf(b)};Object.defineProperty(Array.prototype,"contains",{enumerable:!1,writable:!0});
Array.prototype.dequeue=function(){return this.shift()};Object.defineProperty(Array.prototype,"dequeue",{enumerable:!1,writable:!0});Array.prototype.enqueue=function(b){this.SM=!0;this.push(b)};Object.defineProperty(Array.prototype,"enqueue",{enumerable:!1,writable:!0});function ea(b){return b.length?b[b.SM?0:b.length-1]:null}Object.defineProperty(Array.prototype,"peek",{enumerable:!1,writable:!0});
Array.prototype.every||(Array.prototype.every=function(b,f){for(var e=this.length,c=0;c<e;c++)if(c in this&&!b.call(f,this[c],c,this))return!1;return!0},Object.defineProperty(Array.prototype,"every",{enumerable:!1,writable:!0}));Object.defineProperty(Array.prototype,"extract",{enumerable:!1,writable:!0});
Array.prototype.filter||(Array.prototype.filter=function(b,f){for(var e=this.length,c=[],a=0;a<e;a++)if(a in this){var d=this[a];b.call(f,d,a,this)&&c.push(d)}return c},Object.defineProperty(Array.prototype,"filter",{enumerable:!1,writable:!0}));Array.prototype.forEach||(Array.prototype.forEach=function(b,f){for(var e=this.length,c=0;c<e;c++)c in this&&b.call(f,this[c],c,this)},Object.defineProperty(Array.prototype,"forEach",{enumerable:!1,writable:!0}));Array.prototype.getEnumerator=function(){return new T.as(this)};
Object.defineProperty(Array.prototype,"getEnumerator",{enumerable:!1,writable:!0});Array.prototype.groupBy=function(b,f){for(var e=this.length,c=[],a={},d=0;d<e;d++)if(d in this){var g=b.call(f,this[d],d);if(!String.Xu(g)){var l=a[g];l||(l=[],l.key=g,a[g]=l,c.add(l));l.add(this[d])}}return c};Object.defineProperty(Array.prototype,"groupBy",{enumerable:!1,writable:!0});
Array.prototype.index=function(b,f){for(var e=this.length,c={},a=0;a<e;a++)if(a in this){var d=b.call(f,this[a],a);String.Xu(d)||(c[d]=this[a])}return c};Object.defineProperty(Array.prototype,"index",{enumerable:!1,writable:!0});Array.prototype.indexOf||(Array.prototype.indexOf=function(b,f){var e=this.length;if(e)for(var c=f||0;c<e;c++)if(this[c]===b)return c;return-1},Object.defineProperty(Array.prototype,"indexOf",{enumerable:!1,writable:!0}));
Array.prototype.insert=function(b,f){this.splice(b,0,f)};Object.defineProperty(Array.prototype,"insert",{enumerable:!1,writable:!0});Object.defineProperty(Array.prototype,"insertRange",{enumerable:!1,writable:!0});Array.prototype.map||(Array.prototype.map=function(b,f){for(var e=this.length,c=Array(e),a=0;a<e;a++)a in this&&(c[a]=b.call(f,this[a],a,this));return c},Object.defineProperty(Array.prototype,"map",{enumerable:!1,writable:!0}));
Array.prototype.remove=function(b){b=this.indexOf(b);return 0<=b?(this.splice(b,1),!0):!1};Object.defineProperty(Array.prototype,"remove",{enumerable:!1,writable:!0});Object.defineProperty(Array.prototype,"removeAt",{enumerable:!1,writable:!0});Array.prototype.removeRange=function(b,f){return this.splice(b,f)};Object.defineProperty(Array.prototype,"removeRange",{enumerable:!1,writable:!0});
Array.prototype.some||(Array.prototype.some=function(b,f){for(var e=this.length,c=0;c<e;c++)if(c in this&&b.call(f,this[c],c,this))return!0;return!1},Object.defineProperty(Array.prototype,"some",{enumerable:!1,writable:!0}));Array.toArray=function(b){return Array.prototype.slice.call(b)};RegExp.lf="RegExp";RegExp.parse=function(b){if(b.startsWith("/")){var f=b.lastIndexOf("/");if(1<f)return new RegExp(b.substring(1,f),b.substr(f+1))}return null};Error.lf="Error";
Error.aY=function(b,f,e){b=Error(b);if(f)for(var c in f)b[c]=f[c];e&&(b.TY=e);if(!(T.ng(b.stack)||T.ng(b.fileName)||T.ng(b.lineNumber))){f=b.stack.split("\n");e=f[0];for(c=b.fileName+":"+b.lineNumber;!T.ng(e)&&-1===e.indexOf(c);)f.shift(),e=f[0];e=f[1];isNullOrUndefined(e)||(e=e.match(/@(.*):(\d+)$/),T.ng(e)||(f.shift(),b.stack=f.join("\n"),b.fileName=e[1],b.lineNumber=parseInt(e[2])))}return b};J.sc=Function;J.sc.lf="Type";J.HC=function(b){this.lf=b};J.HC.prototype={lM:!0,getName:function(){return this.lf}};
J.sc.Nv=function(b){J.rx||(J.rx={});J.UC||(J.UC=[]);if(!J.rx[b]){for(var f=self,e=b.split("."),c=0;c<e.length;c++){var a=e[c],d=f[a];d||(f[a]=d=new J.HC(e.slice(0,c+1).join(".")),0==c&&J.UC.add(d));f=d}J.rx[b]=f}};J.sc.prototype.Ma=function(b,f,e){this.prototype.constructor=this;this.lf=b;this.JC=!0;this.Ak=f||Object;f&&(this.Es=!0);if(e){this.Fs=[];for(var c=2;c<arguments.length;c++)e=arguments[c],this.Fs.add(e)}};function fa(b,f){b.lf=f;b.PC=!0}
J.sc.prototype.IB=function(){if(this.Es){var b=this.Ak;b.Es&&b.IB();for(var f in b.prototype){var e=b.prototype[f];this.prototype[f]||(this.prototype[f]=e)}delete this.Es}};J.sc.prototype.VT||(J.sc.prototype.VT=J.sc.prototype.IB);function ga(b,f){return T.ng(f)?!1:b==Object||f instanceof b?!0:ka(b,J.sc.kQ(f))}
function ka(b,f){if(b==Object||b==f)return!0;if(b.JC)for(var e=f.Ak;e;){if(b==e)return!0;e=e.Ak}else if(b.PC){var c=f.Fs;if(c&&c.contains(b))return!0;for(e=f.Ak;e;){if((c=e.Fs)&&c.contains(b))return!0;e=e.Ak}}return!1}J.sc.WY=function(b){return 1==b.JC};J.sc.XY=function(b){return 1==b.jM};J.sc.YY=function(b){return 1==b.jM&&1==b.LC};J.sc.ZY=function(b){return 1==b.PC};J.sc.$Y=function(b){return 1==b.lM};J.sc.UX=function(b,f){return ga(f,b)};J.sc.EZ=function(b,f){return ga(f,b)?b:null};
J.sc.kQ=function(b){var f=null;try{f=b.constructor}catch(e){}f&&f.lf||(f=Object);return f};T.Mi=function(){};T.Mi.Ma("Enum");T.Mi.parse=function(b,f){var e=b.prototype;if(b.LC){for(var c=f.split("|"),a=0,d=!0,g=c.length-1;0<=g;g--){var l=c[g].trim(),h=!1;for(k in e)if(k===l){a|=e[k];h=!0;break}if(!h){d=!1;break}}if(d)return a}else for(var k in e)if(k===f)return e[k];throw"Invalid Enumeration Value";};
T.Mi.LX=function(b){var f=this.prototype;if(this.LC&&0!==b){var e=[];for(c in f)f[c]&b&&(e.length&&e.add(" | "),e.add(c));if(!e.length)throw"Invalid Enumeration Value";return e.join("")}for(var c in f)if(f[c]===b)return c;throw"Invalid Enumeration Value";};T.kd=function(){};T.kd.Ma("Delegate");T.kd.empty=function(){};T.kd.sM=function(b,f,e){for(var c=0;c<b.length;c+=2)if(b[c]===f&&b[c+1]===e)return!0;return!1};
T.kd._create=function(b){function f(){if(2==b.length)return b[1].apply(b[0],arguments);for(var e=b.clone(),c=0;c<e.length;c+=2)T.kd.sM(b,e[c],e[c+1])&&e[c+1].apply(e[c],arguments);return null}f.Sg=b;return f};T.kd.create=function(b,f){return b?T.kd._create([b,f]):f};T.kd.YX=function(b,f){return b?f?T.kd._create((b.Sg?b.Sg:[null,b]).concat(f.Sg?f.Sg:[null,f])):b.Sg?b:T.kd.create(null,b):f.Sg?f:T.kd.create(null,f)};
T.kd.remove=function(b,f){if(!b||b===f)return null;if(!f)return b;var e=b.Sg,c=null,a;f.Sg?(c=f.Sg[0],a=f.Sg[1]):a=f;for(var d=0;d<e.length;d+=2)if(e[d]===c&&e[d+1]===a){if(2==e.length)return null;e.splice(d,2);return T.kd._create(e)}return b};T.kd.bY=function(b,f,e){e=e||"__"+(new Date).valueOf();self[e]=f?b:function(){try{delete self[e]}catch(c){self[e]=void 0}b.apply(null,arguments)};return e};T.kd.pY=function(b){delete self[b]};T.kd.WX=function(b){self[b]=T.kd.empty};T.Ne=function(){};
T.Ne.prototype={nh:null,reset:null};T.Ne.getEnumerator=function(b){return b?b.getEnumerator?b.getEnumerator():new T.as(b):null};fa(T.Ne,"IEnumerator");T.ms=function(){};T.ms.prototype={getEnumerator:null};fa(T.ms,"IEnumerable");T.as=function(b){this.$C=b;this.Ys=-1;this.current=null};T.as.prototype={nh:function(){this.Ys++;this.current=this.$C[this.Ys];return this.Ys<this.$C.length},reset:function(){this.Ys=-1;this.current=null}};T.as.Ma("ArrayEnumerator",null,T.Ne);T.mC=function(){};
T.mC.prototype={Zc:null};fa(T.mC,"IDisposable");T.BC=function(b){this.rt=T.ng(b)?[]:[b];this.isEmpty=0==this.rt.length};T.BC.prototype={append:function(b){T.ng(b)||(this.rt.add(b),this.isEmpty=!1);return this},clear:function(){this.rt=[];this.isEmpty=!0},toString:function(b){return this.rt.join(b||"")}};T.BC.Ma("StringBuilder");T.ks=function(){};T.ks.Ma("EventArgs");T.ks.LK=new T.ks;J.XMLHttpRequest||(J.XMLHttpRequest=function(){for(var b=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<b.length;f++)try{return new ActiveXObject(b[f])}catch(e){}return null});
T.hC=function(){var b=T.hC;b.Es&&b.IB();b.Ak.apply(this);this.cancel=!1};T.hC.Ma("CancelEventArgs",T.ks);T.ZL=function(b,f){this.first=b;this.second=f};T.ZL.Ma("Tuple");T.Xd=function(b){this.Yx=b;this.Kh=null};T.Xd.prototype={Va:function(){this.Kh=T.Xd.cD(this.Kh);return this.Yx},Gb:function(b){this.Yx!==b&&(this.Yx=b,b=this.Kh)&&(this.Kh=null,T.Xd.AD(b))}};T.Xd.Sx=[];T.Xd.NM={Zc:function(){T.Xd.Sx.pop()}};T.Xd.CZ=function(b){T.Xd.Sx.push(b);return T.Xd.NM};
T.Xd.cD=function(b){var f=T.Xd.Sx,e=f.length;if(e){b=b||[];for(var c=0;c<e;c++){var a=f[c];b.contains(a)||b.push(a)}return b}return null};T.Xd.AD=function(b){for(var f=0,e=b.length;f<e;f++)b[f].VY()};T.Xd.Ma("Observable");T.pC=function(b){this.dj=b||[];this.Kh=null};
T.pC.prototype={add:function(b){this.dj.push(b);la(this)},clear:function(){this.dj.clear();la(this)},contains:function(b){return this.dj.contains(b)},getEnumerator:function(){this.Kh=T.Xd.cD(this.Kh);return this.dj.getEnumerator()},indexOf:function(b){return this.dj.indexOf(b)},insert:function(b,f){this.dj.insert(b,f);la(this)},remove:function(b){return this.dj.remove(b)?(la(this),!0):!1},toArray:function(){return this.dj}};function la(b){var f=b.Kh;f&&(b.Kh=null,T.Xd.AD(f))}
T.pC.Ma("ObservableCollection",null,T.ms);T.VK=function(){};fa(T.VK,"IApplication");T.WK=function(){};fa(T.WK,"IContainer");T.$K=function(){};fa(T.$K,"IObjectFactory");T.XK=function(){};fa(T.XK,"IEventManager");T.YK=function(){};fa(T.YK,"IInitializable");self.sc.Nv("XODText");self.sc.Nv("XODTextOld");XODText.$c=function(){};
XODText.Zw=function(b,f){this.HD=b;this.qb=Array(8);this.qb[0]=f[0];this.qb[1]=f[1];this.qb[2]=f[2];this.qb[3]=f[3];this.qb[4]=f[4];this.qb[5]=f[5];this.qb[6]=f[6];this.qb[7]=f[7]};XODText.Zw.prototype={HD:null,qb:null,Pc:function(){for(var b=Array(8),f=0;8>f;f++)b[f]=this.qb[f];return b}};XODText.FH={ff:String.fromCharCode(64256),fi:String.fromCharCode(64257),fl:String.fromCharCode(64258),ffi:String.fromCharCode(64259),ffl:String.fromCharCode(64260),ft:String.fromCharCode(64261),st:String.fromCharCode(64262)};
XODText.IA=function(b){this.aM=this.width=b};XODText.IA.prototype={width:0,aM:0};XODText.ov=function(){};XODText.ov.prototype={A:function(){},addColorStop:function(){}};XODText.Bm=function(b){this.Nk=[];this.gD={};var f=new XODText.za;f.set(1,0,0,1,0,0);this.Nk.push(f);this.Nm=b};
$.extend(XODText.Bm.prototype,{Nm:null,RD:0,Rp:0,Qx:0,canvas:{WZ:0,height:0},qQ:function(b){return this.gD[b]},MX:function(b,f){var e=new XODText.Na;e.ih(b);f.bK(e);return e.width()},Om:function(b){if(Object.br(this.Nm,b))return this.Nm[b];b=b.split(" ")[1];console.assert(Object.br(this.Nm,b),"Font "+b+" file not found");return this.Nm[b]},gE:function(b,f){var e=new XODText.za,c=b.Px,a=b.JD;e.set(a/c,0,0,a/c,0,0);e.bK(f)},font:null,save:function(){var b=new XODText.za;b.rl(ea(this.Nk));this.Nk.push(b)},
restore:function(){this.Nk.pop()},transform:function(b,f,e,c,a,d){var g=new XODText.za;g.set(b,f,e,c,a,d);ea(this.Nk).concat(g)},rotate:function(b){var f=new XODText.za,e=Math.cos(b);b=Math.sin(b);f.set(e,b,-b,e,0,0);ea(this.Nk).concat(f)},translate:function(b,f){this.Rp=b;this.Qx=f},setLineDash:function(){},fillRect:function(){},fillText:function(b,f,e){var c=this.Om(this.font);this.Ss(b,f,e,c)},Ss:function(b,f,e,c){if(!this.Lm){this.translate(f,e);f=0;for(e=b.length;f<e;){var a=b.charCodeAt(f),
d=f;55296<=a&&55551>=a?(a=String.fromCodePoint((a-55296<<10)+(b.charCodeAt(f+1)-56320)+65536),f+=2):(a=String.fromCodePoint(a),f++);d=this.cv&&d in this.cv?this.cv[d]:a;a=c.qz(a);this.gE(c,a);var g=a.y1;a.y1=a.y2;a.y2=g;a.x1+=this.Rp;a.x2+=this.Rp;a.y1+=this.Qx;a.y2+=this.Qx;this.Rp+=a.width();g=Array(8);g[0]=a.x1;g[1]=a.y1;g[2]=a.x2;g[3]=a.y1;g[4]=a.x2;g[5]=a.y2;g[6]=a.x1;g[7]=a.y2;ea(this.Nk).cK(g);this.gD[this.RD]=new XODText.Zw(d,g);this.RD++}this.cv=null}},measureText:function(b){var f=this.Om(this.font);
return this.ND(b,f)},ND:function(b,f){var e=0;if(!this.Lm)for(var c=0,a=b.length;c<a;){var d=b.charCodeAt(c);55296<=d&&55551>=d?(d=f.qz(String.fromCodePoint((d-55296<<10)+(b.charCodeAt(c+1)-56320)+65536)),c+=2):(d=f.qz(String.fromCodePoint(d)),c++);this.gE(f,d);e+=d.width()}return new XODText.IA(e)},strokeRect:function(){},lineWidth:0,lineCap:null,strokeStyle:null,fillStyle:null,globalAlpha:0,createLinearGradient:function(){return new XODText.ov},createRadialGradient:function(){return new XODText.ov},
createPattern:function(){},addColorStop:function(){},beginPath:function(){},closePath:function(){},fill:function(){},stroke:function(){},clip:function(){},moveTo:function(){},lineTo:function(){},quadraticCurveTo:function(){},bezierCurveTo:function(){},miterLimit:0,lineJoin:null,drawImage:function(){},setTransform:function(){},getImageData:function(){return new XODText.ImageData},putImageData:function(){},scale:function(){},S:function(){this.save()},r:function(){this.restore()},t:function(b,f,e,c,
a,d){this.transform(b,f,e,c,a,d)},ro:function(b){this.rotate(b)},T:function(b,f){this.translate(b,f)},w:0,c:null,s:null,f:null,a:0,L:function(b,f,e,c){return this.createLinearGradient(b,f,e,c)},R:function(b,f,e,c,a,d){return this.createRadialGradient(b,f,e,c,a,d)},P:function(b,f){this.createPattern(b,f)},A:function(){},b:function(){this.beginPath()},z:function(){this.closePath()},F:function(){this.fill()},X:function(){this.stroke()},cr:function(){this.strokeRect()},C:function(){this.clip()},M:function(b,
f){this.moveTo(b,f)},l:function(b,f){this.lineTo(b,f)},q:function(b,f,e,c){this.quadraticCurveTo(b,f,e,c)},B:function(b,f,e,c,a,d){this.bezierCurveTo(b,f,e,c,a,d)},n:null,x:function(b,f,e){var c=this.Om(this.font);this.Ss(b,f,e,c)},m:function(b){var f=this.Om(this.font);return this.ND(b,f)},i:0,j:null,I:function(b,f,e){this.drawImage(b,f,e)},Z:function(b,f,e,c,a,d){this.setTransform(b,f,e,c,a,d)},d:function(b,f,e,c){return this.getImageData(b,f,e,c)},D:function(b,f,e){this.putImageData(b,f,e)},e:function(b,
f){this.scale(b,f)},tm:function(b){this.cv=b},fillTextCustom:function(b,f,e){var c=this.Om(this.font);this.Ss(b,f,e,c)},xc:function(b,f,e){var c=this.Om(this.font);this.Ss(b,f,e,c)},cgb:function(){console.assert(!this.Lm,"Custom Glyphs begin offset is incorrect");this.Lm=!0},cge:function(){console.assert(this.Lm,"Custom Glyphs end offset is incorrect");this.Lm=!1},xw:function(b,f,e){1<b.length&&(b=b.substr(0,b.length-1));this.x(b,f,e)},xcw:function(b,f,e){1<b.length&&(b=b.substr(0,b.length-1));this.xc(b,
f,e)},createCanvas:function(){return{getContext:function(){return new XODText.Bm(this.Nm)}}},Lm:!1});Object.defineProperties(XODText.Bm.prototype,{n:{get:function(){return this.font},set:function(b){this.font=b}}});XODText.te=function(){this.pf=[];this.cd=[];this.Ia=[];this.wd=!1;this.Tm=null};
XODText.te.prototype={clear:function(){this.Za="";this.cd.clear();this.Ia.clear();this.wd=!1},Pb:function(){this.cd=[];this.Ia=[];this.wd=!1},xN:function(b){function f(e){for(var c=e.length,a=0;a<c;a+=8){var d=b.W({x:e[a],y:e[a+1]}),g=b.W({x:e[a+2],y:e[a+3]}),f=b.W({x:e[a+4],y:e[a+5]}),h=b.W({x:e[a+6],y:e[a+7]}),k=new XODText.ab;k.bE(d.x,d.y,g.x,g.y,f.x,f.y,h.x,h.y);k=k.fh();e[a]=k.x1;e[a+1]=k.y1;e[a+2]=k.x2;e[a+3]=k.y2;e[a+4]=k.x3;e[a+5]=k.y3;e[a+6]=k.x4;e[a+7]=k.y4}}f(this.Ia);this.pf.forEach(function(b){f(b.qb);
b.zb.forEach(function(c){f(c.qb);c.Jd.forEach(function(a){f(a)})})})},xr:function(b){this.Ia=b.m_Quads;this.cd=b.m_Offsets;this.Za=b.m_Str;this.wd=b.m_Ready;this.pf=function(b,e,c){function a(a,d){return a.slice(d,d+8)}function d(){var d=new XODText.xb;d.bc=b[k+1];d.pb=r;r++;var g=b[k+1];d.ka=c.slice(g,g+b[k+2]);d.Op=g;for(var g=b[k],l=0;l<g;++l)d.Jd.push(a(e,8*(d.bc+l)));n&&(n.Qp=d);return n=d}function g(a){var c=d(),g=b[k],e=b[k+3],l=b[k+4],h;if(e===l){e=Math.min(a.x1,a.x2);l=Math.max(a.x1,a.x2);
h=c.Jd[0];a=c.Jd[g-1];a=[h[1],h[3],h[5],h[7],a[1],a[3],a[5],a[7]];h=Math.min.apply(null,a);a=Math.max.apply(null,a);for(var n=0;n<g;++n)for(var m=c.Jd[n],r=Math.min(m[0],m[2],m[4]),w=0;8>w;w+=2)m[w]=m[w]===r?e:l}else for(h=Math.min(a.y1,a.y2),a=Math.max(a.y1,a.y2),n=0;n<g;++n)for(m=c.Jd[n],r=Math.min(m[1],m[3],m[5]),w=1;8>w;w+=2)m[w]=m[w]===r?a:h;g=c.qb;m=c.Jd[0];n=m[2]-m[0];m=m[3]-m[1];0<n?(g[0]=e,g[1]=a,g[2]=l,g[3]=a,g[4]=l,g[5]=h,g[6]=e,g[7]=h):0>n?(g[0]=e,g[1]=h,g[2]=l,g[3]=h,g[4]=l,g[5]=a,g[6]=
e,g[7]=a):0<m?(g[0]=e,g[1]=h,g[2]=e,g[3]=a,g[4]=l,g[5]=a,g[6]=l,g[7]=h):0>m?(g[0]=l,g[1]=a,g[2]=l,g[3]=h,g[4]=e,g[5]=h,g[6]=e,g[7]=a):(g[0]=e,g[1]=a,g[2]=l,g[3]=a,g[4]=l,g[5]=h,g[6]=e,g[7]=h);k+=5;return c}function l(){var c=d();c.qb=a(b,k+3);k+=11;return c}function h(d){var c=new XODText.Rb;c.pb=d;var e=0<b[k];if(e){var h=6;d=b[k];var r=c.qb,A=b.slice(k+2,k+4),B=b.slice(k+4,k+6);r[0]=A[0];r[1]=A[1];r[2]=B[0];r[3]=A[1];r[4]=B[0];r[5]=B[1];r[6]=A[0];r[7]=B[1]}else h=10,d=-b[k],c.qb=a(b,k+2);e=e?g:
l;r=new XODText.Na;c.sb(r);k+=h;n=null;for(h=0;h<d;++h)c.zb.push(e(r));c.ka=c.zb.map(function(a){return a.ka}).join(" ");c.Op=c.zb[0]?c.zb[0].Op:0;m&&(m.Pp=c);return m=c}var k=0,m=null,n=null,r=0;return function(){var a=[],d=b[k];k++;for(var c=0;c<d;++c)a.push(h(c));return a}()}(b.m_Struct,this.Ia,this.Za)},Vs:function(b){for(var f="",e=0,c,a,d;e<b.length;)c=b.charCodeAt(e),9==c?(f+=String.fromCharCode(10),e++):128>c?(f+=String.fromCharCode(c),e++):191<c&&224>c?(a=b.charCodeAt(e+1),f+=String.fromCharCode((c&
31)<<6|a&63),e+=2):(a=b.charCodeAt(e+1),d=b.charCodeAt(e+2),f+=String.fromCharCode((c&15)<<12|(a&63)<<6|d&63),e+=3);return f},TD:function(b,f){for(var e=new XODText.xb,c=T.Ne.getEnumerator(b.split(",")),a=-1;c.nh();){var d=c.current.split(":"),g=parseInt(d[0]),l=0;1<d.length&&(l=parseInt(d[1]));a===g&&(++g,--l);for(a=g+l;g<=a;g++)d=f.qQ(g),l=d.HD,1<l.length&&(l=l in XODText.FH?XODText.FH[l]:l.charAt(0)),e.Ft(l,d.Pc()),this.cd.add(g),this.Ia.addRange(d.Pc())}return e},parse:function(b,f){var e=0,c=
0,a=0;do{for(var d;b.advance();)if(d=b.ua(),"F"===d)b.oa();else if("P"===d)b.oa();else if("L"===d){b.oa();d=new XODText.Rb;d.Sp(e++);0<this.pf.length&&this.pf[this.pf.length-1].pJ(d);this.pf.add(d);for(var g=T.Ne.getEnumerator(b.current.textContent.split(" "));g.nh();){var l=g.current;if(0<d.dh()){this.Za+=" ";this.cd.add(-1);a++;var h=Array(8);d.ad().Pc(h);this.Ia.addRange(h)}l=this.TD(l,f);l.Sp(c++);l.eE(a);d.tE(l);this.Za+=l.ka;a+=l.ac()}this.Za+="\n";this.cd.add(-2);a++;console.assert(0<d.dh(),
"No words in line");0<d.dh()&&(h=Array(8),d.ad().Pc(h),this.Ia.addRange(h))}else console.assert("XML parser has encountered a symbol it can't process.");b.Aa()}while(b.depth)},hO:function(b,f){var e=0,c=0,a=0;this.Tm=[];for(var d=0;d<b.length;++d)for(var g=b[d],l=0;l<g.length;++l)for(var h=g[l],k=0;k<h.length;++k){var m=new XODText.Rb;m.Sp(e++);0<this.pf.length&&this.pf[this.pf.length-1].pJ(m);this.pf.add(m);for(var n=T.Ne.getEnumerator(h[k].split(" "));n.nh();){var r=n.current;if(0<m.dh()){this.Tm.push(this.Za.length);
this.Za+=" ";this.cd.add(-1);a++;var p=Array(8);m.ad().Pc(p);this.Ia.addRange(p)}r=this.TD(r,f);r.Sp(c++);r.eE(a);m.tE(r);this.Za+=r.ka;a+=r.ac()}this.Tm.push(this.Za.length);this.Za+="\n";this.cd.add(-2);a++;console.assert(0<m.dh(),"No words in line");0<m.dh()&&(p=Array(8),m.ad().Pc(p),this.Ia.addRange(p))}this.wd=!0},eB:function(b,f){try{var e=new window.Oe(b);console.assert("TextData"===e.ua(),"XML parser has encountered a symbol it can't process.");"TextData"===e.ua()&&(e.oa(),this.parse(e,f))}catch(c){console.warn("TextSelection has encountered an error: "+
c.message);return}this.wd=!0},ready:function(){return this.wd},Hq:function(){return this.pf.length?this.pf[0]:new XODText.Rb},ce:function(){return this.Ia},Za:"",cd:null,Ia:null,wd:!1};XODText.Rb=function(){this.zb=[];this.pb=-1;this.tc=[];this.qb=Array(8);this.Pp=null};
XODText.Rb.prototype={Pb:function(){this.pb=this.Ic=-1;this.tc=[]},ta:function(b){return this.pb===b.pb},dh:function(){return this.zb.length},Kb:function(){return this.zb.length?this.zb[0]:new XODText.xb},ad:function(){return this.zb.length?this.zb[this.zb.length-1]:new XODText.xb},VG:function(b){return 0>b||b>=this.dh()?new XODText.xb:this.zb[b]},ze:function(){return null==this.Pp?new XODText.Rb:this.Pp},sb:function(b){b.Vl(this.qb)},Sp:function(b){this.pb=b},$g:function(){if(this.tc.length)return this.tc[0];
var b=new XODText.ea,f=new XODText.ea,e=this.Kb(),c=this.ad(),a=Array(8),d=Array(8);e.rd(0,a);b.x=(a[0]+a[2]+a[4]+a[6])/4;b.y=(a[1]+a[3]+a[5]+a[7])/4;c.rd(c.ac()-1,d);f.x=(d[0]+d[2]+d[4]+d[6])/4;f.y=(d[1]+d[3]+d[5]+d[7])/4;.01>Math.abs(b.x-f.x)&&.01>Math.abs(b.y-f.y)&&this.tc.add(0);b=Math.atan2(f.y-b.y,f.x-b.x);b*=180/3.1415926;0>b&&(b+=360);this.tc.add(b);return 0},ka:"",Da:null,pb:0,tc:null,qb:null,Pp:null,pJ:function(b){this.Pp=b},tE:function(b){0<this.zb.length&&this.zb[this.zb.length-1].MU(b);
this.zb.add(b);var f=String.Xu(this.ka),e=Array(8);b.Pc(e);if(f)for(f=0;8>f;f++)this.qb[f]=e[f];else this.ka+=" ",XODText.ab.nt(this.qb,e,!1,0);this.ka+=b.ka}};XODText.xb=function(){this.Jd=[];this.pb=this.bc=-1;this.qb=Array(8);this.Qp=null};
XODText.xb.prototype={Pb:function(){this.pb=this.bc=-1},ta:function(b){return this.pb===b.pb},ac:function(){return this.Jd.length},jg:function(){return this.ka.length},Ya:function(){return this.Op},eE:function(b){this.Op=b},ae:function(){return null==this.Qp?new XODText.xb:this.Qp},Jn:function(b,f){if(this.Jd&&this.Jd[b]){var e=this.Jd[b][0],c=this.Jd[b][2],a=this.Jd[b][1],d=this.Jd[b][5];a<d?(f[1]=d,f[3]=d,f[5]=a,f[7]=a):(f[1]=a,f[3]=a,f[5]=d,f[7]=d);f[0]=e;f[2]=c;f[4]=c;f[6]=e}else exports.utils.warn("default",
"getGlyphQuadInWordQuadFormat: No glyph with index "+b+" found.")},rd:function(b,f){for(var e=0;8>e;e++)f[e]=this.Jd[b][e]},Pc:function(b){for(var f=0;8>f;f++)b[f]=this.qb[f]},sb:function(b){var f=new XODText.Na;f.Vl(this.qb);b[0]=f.x1;b[1]=f.y1;b[2]=f.x2;b[3]=f.y2},Sp:function(b){this.pb=this.bc=b},bc:0,ka:"",Da:null,pb:0,Op:0,qb:null,Qp:null,Ft:function(b,f){var e=String.Xu(this.ka);this.ka+=b;for(var c=Array(8),a=0;8>a;a++)c[a]=f[a];for(a=0;a<b.length;++a)this.Jd.add(c);if(e)for(a=0;8>a;a++)this.qb[a]=
c[a];else XODText.ab.nt(this.qb,c,!1,0)},MU:function(b){this.Qp=b}};XODTextOld.te=function(){};
XODTextOld.te.prototype={clear:function(){this.lb.clear();this.Za="";this.cd.clear();this.Ia.clear();this.wd=!1},Pb:function(){this.lb=[];this.cd=[];this.Ia=[];this.wd=!1},Vs:function(b){for(var f="",e=0,c,a,d;e<b.length;)c=b.charCodeAt(e),9==c?(f+=String.fromCharCode(10),e++):128>c?(f+=String.fromCharCode(c),e++):191<c&&224>c?(a=b.charCodeAt(e+1),f+=String.fromCharCode((c&31)<<6|a&63),e+=2):(a=b.charCodeAt(e+1),d=b.charCodeAt(e+2),f+=String.fromCharCode((c&15)<<12|(a&63)<<6|d&63),e+=3);return f},
KR:function(b){this.lb=[];this.cd=[];this.Ia=[];this.wd=!1;try{var f=new window.Oe(b);this.Za="";f.oa();if(!f.advance())return;var e=f.current.textContent;this.Za=e=this.Vs(e);this.cd.clear();f.advance();for(var e=f.current.textContent,c=e.split(","),a=T.Ne.getEnumerator(c);a.nh();){var d=a.current;try{var g=parseInt(d.trim());this.cd.add(g)}catch(q){}}this.lb.clear();f.advance();for(var e=f.current.textContent,c=e.split(","),l=T.Ne.getEnumerator(c);l.nh();){d=l.current;try{g=parseFloat(d.trim()),
this.lb.add(g)}catch(q){}}this.Ia.clear();f.advance();e=f.current.textContent;c=e.split(",");b=[];for(var f=[],e=0,h=T.Ne.getEnumerator(c);h.nh();){d=h.current;switch(d){case "Q":e=1;break;case "R":e=2;break;case "S":e=3;break;default:e=0}if(e)b.add(0),f.add(e);else try{g=parseFloat(d.trim()),b.add(g),f.add(e)}catch(q){return}}for(var e=0,k=b.length,m,n,r,p,h=d=c=0;h<k;){var u=f[h];if(0<u)e=u,++h,3===e&&(c=b[h],d=b[h+1],h+=2);else if(1===e)for(g=0;8>g;++g)this.Ia.add(b[h++]);else 2===e?(m=b[h++],
n=b[h++],r=b[h++],p=b[h++],this.Ia.add(m),this.Ia.add(n),this.Ia.add(r),this.Ia.add(n),this.Ia.add(r),this.Ia.add(p),this.Ia.add(m),this.Ia.add(p)):3===e&&(m=b[h++],n=c,r=b[h++],p=d,this.Ia.add(m),this.Ia.add(n),this.Ia.add(r),this.Ia.add(n),this.Ia.add(r),this.Ia.add(p),this.Ia.add(m),this.Ia.add(p))}}catch(q){return}this.Za.length&&this.Za.length===this.cd.length&&8*this.Za.length===this.Ia.length&&(this.wd=!0)},ready:function(){return this.wd},Hq:function(){var b=new XODTextOld.Rb;if(!this.lb.length)return b.$e(this.lb,
-1,this.Za,this.Ia,0),b;b.$e(this.lb,1,this.Za,this.Ia,1);return b},ce:function(){return this.Ia},lb:null,Za:null,cd:null,Ia:null,wd:!1};XODTextOld.Rb=function(){};
XODTextOld.Rb.prototype={Pb:function(){this.Ic=-1;this.pb=0;this.tc=[]},$e:function(b,f,e,c,a){this.Ic=f;this.pb=a;this.tc=[];this.Hd=b;this.ka=e;this.Da=c},ta:function(b){return this.Ic===b.Ic},dh:function(){return Math.abs(this.Hd[this.Ic])},ii:function(){return 0<this.Hd[this.Ic]},Kb:function(){var b=new XODTextOld.xb;b.$e(this.Hd,this.Ic+(this.ii()?6:10),this.Ic,this.ka,this.Da,1);return b},VG:function(b){if(0>b||b>=this.dh()){var f=new XODTextOld.xb;f.$e(this.Hd,-1,-1,this.ka,this.Da,0)}else{var e=
this.ii()?6:10,c=this.ii()?5:11,f=new XODTextOld.xb;f.$e(this.Hd,this.Ic+e+c*b,this.Ic,this.ka,this.Da,1+b)}return f},ze:function(){var b=this.Ic+parseInt(this.Hd[this.Ic+1]);if(b>=this.Hd.length){var f=new XODTextOld.Rb;f.$e(this.Hd,-1,this.ka,this.Da,0)}else f=new XODTextOld.Rb,f.$e(this.Hd,b,this.ka,this.Da,this.pb+1);return f},sb:function(b){if(this.ii())b.x1=this.Hd[this.Ic+2+0],b.y1=this.Hd[this.Ic+2+1],b.x2=this.Hd[this.Ic+2+2],b.y2=this.Hd[this.Ic+2+3];else{for(var f=1.79769E308,e=XODText.$c.Oi,
c=1.79769E308,a=XODText.$c.Oi,d=0;4>d;++d)var g=this.Hd[this.Ic+2+2*d],l=this.Hd[this.Ic+2+2*d+1],f=Math.min(f,g),e=Math.max(e,g),c=Math.min(c,l),a=Math.max(a,l);b.x1=f;b.y1=c;b.x2=e;b.y2=a}},$g:function(){if(this.tc.length)return this.tc[0];var b=new XODText.ea,f=new XODText.ea,e=new XODTextOld.xb;e.Pb();var c=this.Kb(),a=new XODTextOld.xb;a.Pb();for(var d=this.Kb();!d.ta(e);d=d.ae())a=d;e=Array(8);d=Array(8);c.rd(0,e);b.x=(e[0]+e[2]+e[4]+e[6])/4;b.y=(e[1]+e[3]+e[5]+e[7])/4;a.rd(a.ac()-1,d);f.x=
(d[0]+d[2]+d[4]+d[6])/4;f.y=(d[1]+d[3]+d[5]+d[7])/4;.01>Math.abs(b.x-f.x)&&.01>Math.abs(b.y-f.y)&&this.tc.add(0);b=Math.atan2(f.y-b.y,f.x-b.x);b*=180/3.1415926;0>b&&(b+=360);this.tc.add(b);return 0},Ic:0,Hd:null,ka:null,Da:null,pb:0,tc:null};XODTextOld.xb=function(){};
XODTextOld.xb.prototype={Pb:function(){this.Hh=this.bc=-1;this.pb=0},$e:function(b,f,e,c,a,d){this.bc=f;this.Hh=e;this.lb=b;this.ka=c;this.Da=a;this.pb=d},ta:function(b){return this.bc===b.bc},ac:function(){return parseInt(this.lb[this.bc])},jg:function(){return parseInt(this.lb[this.bc+2])},Ya:function(){return parseInt(this.lb[this.bc+1])},ii:function(){return 0<this.lb[this.Hh]},FQ:function(){return Math.abs(this.lb[this.Hh])},ae:function(){var b=this.ii(),f=b?5:11;this.bc>=this.Hh+(b?6:10)+(this.FQ()-
1)*f?(b=new XODTextOld.xb,b.$e(this.lb,-1,-1,this.ka,this.Da,0)):(b=new XODTextOld.xb,b.$e(this.lb,this.bc+f,this.Hh,this.ka,this.Da,this.pb+1));return b},eQ:function(b){var f=this.ac();return 0>b||b>=f?-1:parseInt(this.lb[this.bc+1])+b},rd:function(b,f){var e=this.eQ(b);if(!(0>e)){var c=new XODTextOld.Rb;c.$e(this.lb,this.Hh,this.ka,this.Da,0);if(c.ii()){var a=new XODText.Na;c.sb(a);c=a.y1<a.y2?a.y1:a.y2;a=a.y1>a.y2?a.y1:a.y2;e*=8;f[0]=this.Da[e];f[1]=c;f[2]=this.Da[e+2];f[3]=f[1];f[4]=this.Da[e+
4];f[5]=a;f[6]=this.Da[e+6];f[7]=f[5]}else for(e*=8,c=0;8>c;++c)f[c]=this.Da[e+c]}},Pc:function(b){var f=new XODTextOld.Rb;f.$e(this.lb,this.Hh,this.ka,this.Da,0);if(f.ii()){var e=this.lb[this.bc+3],c=this.lb[this.bc+4];if(e>c){var a;a=e;e=c;c=a}a=new XODText.Na;f.sb(a);f=a.y1<a.y2?a.y1:a.y2;a=a.y1>a.y2?a.y1:a.y2;b[0]=e;b[1]=f;b[2]=c;b[3]=f;b[4]=c;b[5]=a;b[6]=e;b[7]=a}else for(e=this.bc+3,c=0;8>c;++c)b[c]=this.lb[e+c]},sb:function(b){var f=new XODTextOld.Rb;f.$e(this.lb,this.Hh,this.ka,this.Da,0);
if(f.ii()){var e=this.lb[this.bc+3],c=this.lb[this.bc+4];if(e>c){var a;a=e;e=c;c=a}a=new XODText.Na;f.sb(a);f=a.y1<a.y2?a.y1:a.y2;a=a.y1>a.y2?a.y1:a.y2}else{e=1.79769E308;c=XODText.$c.Oi;f=1.79769E308;a=XODText.$c.Oi;for(var d=this.bc+3,g=0;4>g;++g){var l=this.lb[d+2*g],h=this.lb[d+2*g+1],e=Math.min(e,l),c=Math.max(c,l),f=Math.min(f,h);a=Math.max(a,h)}}b[0]=e;b[1]=f;b[2]=c;b[3]=a},bc:0,Hh:0,lb:null,ka:null,Da:null,pb:0};XODText.Na=function(){this.y2=this.x2=this.y1=this.x1=0};
XODText.Na.prototype={Fa:function(b,f,e,c){this.x1=b;this.y1=f;this.x2=e;this.y2=c},ih:function(b){this.x1=b.x1;this.y1=b.y1;this.x2=b.x2;this.y2=b.y2},normalize:function(){if(this.x1>this.x2){var b;b=this.x1;this.x1=this.x2;this.x2=b}this.y1>this.y2&&(b=this.y1,this.y1=this.y2,this.y2=b)},set:function(b,f,e,c){this.x1=b;this.y1=f;this.x2=e;this.y2=c},nr:function(b){return this.x2<b.x1||this.x1>b.x2||this.y2<b.y1||this.y1>b.y2},width:function(){var b=this.x2-this.x1;return 0>b?-b:b},height:function(){var b=
this.y2-this.y1;return 0>b?-b:b},Vl:function(b){for(var f=1.79769E308,e=XODText.$c.Oi,c=1.79769E308,a=XODText.$c.Oi,d=0;4>d;++d)var g=b[2*d],l=b[2*d+1],f=Math.min(f,g),e=Math.max(e,g),c=Math.min(c,l),a=Math.max(a,l);this.x1=f;this.y1=c;this.x2=e;this.y2=a},Su:function(b,f){var e,c,a,d,g,l,h,k;b.x1<b.x2?(e=b.x1,c=b.x2):(e=b.x2,c=b.x1);b.y1<b.y2?(a=b.y1,d=b.y2):(a=b.y2,d=b.y1);f.x1<f.x2?(g=f.x1,l=f.x2):(g=f.x2,l=f.x1);f.y1<f.y2?(h=f.y1,k=f.y2):(h=f.y2,k=f.y1);if(c<g||l<e||d<h||k<a)return this.x1=this.x2=
this.y1=this.y2=0,!1;this.x1=e<g?g:e;this.x2=c<l?c:l;this.y1=a<h?h:a;this.y2=d<k?d:k;return this.x1===this.x2||this.y1===this.y2?(this.x1=this.x2=this.y1=this.y2=0,!1):!0},JR:function(b){this.EM(b,b)},EM:function(b,f){this.normalize();this.x1-=b;this.x2+=b;this.y1-=f;this.y2+=f},union:function(b){b.x1<this.x1&&(this.x1=b.x1);b.y1<this.y1&&(this.y1=b.y1);b.x2>this.x2&&(this.x2=b.x2);b.y2>this.y2&&(this.y2=b.y2)},contains:function(b,f){if(this.x1<this.x2){if(b<this.x1||b>this.x2)return!1}else if(b<
this.x2||b>this.x1)return!1;if(this.y1<this.y2){if(f<this.y1||f>this.y2)return!1}else if(f<this.y2||f>this.y1)return!1;return!0},x1:0,y1:0,x2:0,y2:0};XODText.ea=function(b,f){this.x=b;this.y=f};XODText.ea.ta=function(b,f){return b.x===f.x&&b.y===f.y};XODText.ea.lZ=function(b,f){return b!==f};XODText.ea.tF=function(b){var f=new XODText.ea;f.x=b.x/2;f.y=b.y/2;return f};XODText.ea.multiply=function(b,f){var e=new XODText.ea;e.init(b.x*f,b.y*f);return e};
XODText.ea.qg=function(b,f){var e=new XODText.ea;e.init(b.x-f.x,b.y-f.y);return e};XODText.ea.uo=function(b,f){var e=new XODText.ea;e.init(b.x+f.x,b.y+f.y);return e};XODText.ea.distance=function(b,f){var e=b.x-f.x,c=b.y-f.y;return Math.sqrt(e*e+c*c)};
XODText.ea.prototype={x:0,y:0,init:function(b,f){this.x=b;this.y=f},Ru:function(b){this.x=b.x;this.y=b.y},add:function(b){this.x+=b.x;this.y+=b.y},sub:function(b){this.x-=b.x;this.y-=b.y},normalize:function(){var b=Math.sqrt(this.x*this.x+this.y*this.y);return b?(this.x/=b,this.y/=b,!0):!1},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Zb:function(b){return this.x*b.x+this.y*b.y}};XODText.$c.Ma("XODText.doubleData");XODText.Zw.Ma("XODText.Letter");XODText.IA.Ma("XODText.nsIDOMTextMetrics");
XODText.ov.Ma("XODText.nsIDOMCanvasGradient");XODText.Bm.Ma("XODText.SelectionContext");XODText.te.Ma("XODText.SelectionInfo");XODText.Rb.Ma("XODText.Line");XODText.xb.Ma("XODText.Word");XODText.Na.Ma("XODText.SelectionRect");XODText.ea.Ma("XODText.SelectionPoint");XODText.$c.lk=1.79769E308;XODText.$c.Oi=-1.79769E308;
(function(){self.sc.Nv("XODText");XODText.Zs=function(){};XODText.Ed=function(b,e){this.x=b;this.y=e};XODText.Ed.prototype={x:0,y:0};XODText.ab=function(){this.em=this.bm=this.dm=this.am=this.y2=this.x2=this.y1=this.x1=0};var b=RegExp("[-[\\]{}()*+?.,\\\\^$|#\\s]","g");XODText.gx=function(f,e){this.wH=e&&("r"===e||"w"===e);this.text=e&&"w"===e?f.replace(/(\*+|.)/g,function(c){return"*"===c.charAt(0)?1==c.length?".*?":"*".repeat(c.length/2|0).replace(b,"\\$&"):c.replace(b,"\\$&")}):f};XODText.ab.nt=
function(b,e,c,a){var d=new XODText.ea;d.init(0,0);var g=new XODText.ea;g.init(0,0);var l=new XODText.ea;l.init(0,0);var h=new XODText.ea;h.init(0,0);for(var k=0;4>k;++k){XODText.ab.OG(d,b,k);if(!d.normalize()&&c)return!1;k?2===k?l=XODText.ea.qg(l,d):1===k?h=XODText.ea.uo(h,d):3===k&&(h=XODText.ea.qg(h,d)):l=XODText.ea.uo(l,d);for(var m=Array(8),n=0;1>n;++n){for(var r=0;8>r;++r)m[r]=e[8*n+r];XODText.ab.OG(g,m,k);if(!g.normalize()&&c)return!1;k?2===k?l=XODText.ea.qg(l,g):1===k?h=XODText.ea.uo(h,g):
3===k&&(h=XODText.ea.qg(h,g)):l=XODText.ea.uo(l,g)}if(c&&Math.abs(d.Zb(g))<XODText.ab.kO)return!1}l=XODText.ea.tF(l);h=XODText.ea.tF(h);if(!l.normalize()&&c||!h.normalize()&&c||c&&!XODText.ab.IS(b,e,l,h,a,a/10))return!1;XODText.ab.inflate(b,e,1,l,h);return!0};XODText.ab.OG=function(b,e,c){var a=(c+1)%4;b.x=e[2*a]-e[2*c];b.y=e[2*a+1]-e[2*c+1]};XODText.ab.IS=function(b,e,c,a,d,g){var l=new XODText.ea;l.init(b[0],b[1]);var h=new XODText.ea;h.init(b[2],b[3]);var k=new XODText.ea;k.init(e[0],e[1]);var m=
new XODText.ea;m.init(e[2],e[3]);var n=l.Zb(c),r=h.Zb(c),p=k.Zb(c);c=m.Zb(c);if(n>r)var u=n,n=r,r=u;p>c&&(u=p,p=c,c=u);if(p-r>d||n-c>d)return!1;l.x=b[2];l.y=b[3];h.x=b[4];h.y=b[5];k.x=e[2];k.y=e[3];m.x=e[4];m.y=e[5];n=l.Zb(a);r=h.Zb(a);p=k.Zb(a);c=m.Zb(a);n>r&&(u=n,n=r,r=u);p>c&&(u=p,p=c,c=u);return Math.abs(n-p)>g||Math.abs(r-c)>g?!1:!0};XODText.ab.inflate=function(b,e,c,a,d){var g=!1;avx_=new XODText.ea;avx_.init(1,0);avy_=new XODText.ea;avy_.init(0,1);if(1E-4<=Math.abs(a.x-1)||1E-4<=Math.abs(a.y-
0)&&1E-4<=Math.abs(d.x-0)||1E-4<=Math.abs(d.y-1)){var g=!0,l=new XODText.za;l.Fa(a.x,d.x,a.y,d.y,0,0);l=l.inverse();avx_.x=l.m_a;avx_.y=l.m_b;avy_.x=l.m_c;avy_.y=l.m_d}for(var l=XODText.$c.lk,h=XODText.$c.Oi,k=XODText.$c.lk,m=XODText.$c.Oi,n,r,p=0,u=0,q=0;4>q;++q){var v=new XODText.ea;v.init(b[2*q],b[2*q+1]);g?(n=v.Zb(avx_),r=v.Zb(avy_)):(n=v.x,r=v.y);q?(l>n&&(l=n,p=v.x),h<n&&(h=n),k>r&&(k=r,u=v.y),m<r&&(m=r)):(l=h=n,k=m=r,p=v.x,u=v.y);for(v=0;v<c;++v){var x=new XODText.ea;x.init(e[8*v+2*q],e[8*v+
2*q+1]);g?(n=x.Zb(avx_),r=x.Zb(avy_)):(n=x.x,r=x.y);l>n&&(l=n,p=x.x);h<n&&(h=n);k>r&&(k=r,u=x.y);m<r&&(m=r)}}e=new XODText.ea;e.init(p,u);p=e.Zb(d);c=XODText.ea.multiply(a,l-e.Zb(a));p=XODText.ea.multiply(d,k-p);e.x+=c.x+p.x;e.y+=c.y+p.y;g?(g=a.x,e=d.x,a=a.y,d=d.y,b[0]=g*l+e*k,b[1]=a*l+d*k,b[2]=g*h+e*k,b[3]=a*h+d*k,b[4]=g*h+e*m,b[5]=a*h+d*m,b[6]=g*l+e*m,b[7]=a*l+d*m):(b[0]=l,b[1]=k,b[2]=h,b[3]=k,b[4]=h,b[5]=m,b[6]=l,b[7]=m)};XODText.ab.prototype={_init:function(b,e,c,a,d,g,l,h){this.x1=b;this.y1=
e;this.x2=c;this.y2=a;this.am=d;this.dm=g;this.bm=l;this.em=h},bE:function(b,e,c,a,d,g,l,h){this.x1=b;this.y1=e;this.x2=c;this.y2=a;this.am=d;this.dm=g;this.bm=l;this.em=h},fh:function(){return{x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,x3:this.am,y3:this.dm,x4:this.bm,y4:this.em}},sQ:function(){var b=this.fh(),e=Math.min(b.x1,b.x2,b.x3,b.x4),c=Math.max(b.x1,b.x2,b.x3,b.x4),a=Math.min(b.y1,b.y2,b.y3,b.y4),d=Math.max(b.y1,b.y2,b.y3,b.y4);b.x1=e;b.x2=c;b.x3=c;b.x4=e;b.y1=a;b.y2=a;b.y3=d;b.y4=d;return b},
x1:0,y1:0,x2:0,y2:0,am:0,dm:0,bm:0,em:0};XODText.za=function(){};XODText.za.Rl=function(b){var e=Math.cos(b);b=Math.sin(b);1E-7>Math.abs(b)&&(b=0);1E-7>Math.abs(e)&&(e=0);var c=new XODText.za;c.Fa(e,-b,b,e,0,0);return c};XODText.za.prototype={m_a:0,m_b:0,m_c:0,m_d:0,m_h:0,m_v:0,rl:function(b){this.m_a=b.m_a;this.m_b=b.m_b;this.m_c=b.m_c;this.m_d=b.m_d;this.m_h=b.m_h;this.m_v=b.m_v},Fa:function(b,e,c,a,d,g){this.m_a=b;this.m_b=e;this.m_c=c;this.m_d=a;this.m_h=d;this.m_v=g},set:function(b,e,c,a,d,g){this.m_a=
b;this.m_b=e;this.m_c=c;this.m_d=a;this.m_h=d;this.m_v=g},inverse:function(){var b=new XODText.za,e=this.m_a*this.m_d-this.m_b*this.m_c;if(!e)return b;b.m_a=this.m_d/e;b.m_c=-this.m_c/e;b.m_h=(this.m_c*this.m_v-this.m_h*this.m_d)/e;b.m_b=-this.m_b/e;b.m_d=this.m_a/e;b.m_v=-(this.m_a*this.m_v-this.m_h*this.m_b)/e;return b},W:function(b){var e=b.x;b.x=b.x*this.m_a+b.y*this.m_c+this.m_h;b.y=e*this.m_b+b.y*this.m_d+this.m_v;return b},concat:function(b){var e=this.m_a,c=this.m_b,a=this.m_c,d=this.m_d;
this.m_a=b.m_a*e+b.m_b*a;this.m_b=b.m_a*c+b.m_b*d;this.m_c=b.m_c*e+b.m_d*a;this.m_d=b.m_c*c+b.m_d*d;this.m_h=b.m_h*e+b.m_v*a+this.m_h;this.m_v=b.m_h*c+b.m_v*d+this.m_v},IF:function(b){return this.m_a==b.m_a&&this.m_b==b.m_b&&this.m_c==b.m_c&&this.m_d==b.m_d&&this.m_h==b.m_h&&this.m_v==b.m_v},cK:function(b){var e=new XODText.Ed(b[0],b[1]),c=new XODText.Ed(b[2],b[3]),a=new XODText.Ed(b[4],b[5]),d=new XODText.Ed(b[6],b[7]),e=this.W(e),c=this.W(c),a=this.W(a),d=this.W(d);b[0]=e.x;b[1]=e.y;b[2]=c.x;b[3]=
c.y;b[4]=a.x;b[5]=a.y;b[6]=d.x;b[7]=d.y},bK:function(b){var e=Array(8);e[0]=b.x1;e[1]=b.y1;e[2]=b.x2;e[3]=b.y1;e[4]=b.x2;e[5]=b.y2;e[6]=b.x1;e[7]=b.y2;this.cK(e);b.Vl(e)}};XODText.Kp=function(){};XODText.Kp.qM=function(b,e){return b.Yc<e.Yc||b.Yc===e.Yc&&b._position<e._position||b.Yc===e.Yc&&b._position===e._position&&b.Kk<e.Kk?-1:b.Yc===e.Yc&&b._position===e._position&&b.Kk===e.Kk?0:1};XODText.Kp.prototype={_init:function(){this.ht=[]},_add:function(b){this.ht.add(b)},_clear:function(){this.ht.clear()},
rM:function(b,e){e.clear();for(var c=[],a=T.Ne.getEnumerator(this.ht);a.nh();){var d=a.current;c.add(d)}c.sort(XODText.Kp.qM);for(var a="",g,l=[],h=[],k=XODText.Zs.GC,m=0;m<c.length;++m)if(d=c[m],!(0>d.Yc||d.Yc>=b.length||0>d._position||0>=d.Kk)){if(-1!==d.Yc){l=b[d.Yc].text;if(!l.ready())return!1;a=l.Za;g=l.cd;l=l.ce();if(!a.length||a.length!==g.length||8*a.length!==l.length)continue;for(var k=XODText.Zs.GC,n=T.Ne.getEnumerator(g);n.nh();){var r=n.current;r>k&&(k=r)}h.clear();for(var p=0;p<k+1;++p)h.add(-1);
for(p=0;p<g.length;++p)n=g[p],0<=n&&(h[n]=p)}g=Array(8);for(n=d._position;n<d._position+d.Kk&&!(n>k);++n)if(r=h[n],!(0>r)){for(p=0;8>p;++p)g[p]=l[8*r+p];var u=!1;if(1<=e.length&&(p=e[e.length-1],p.Yc===d.Yc)){var q=g[0]-g[2],v=g[1]-g[3];XODText.ab.nt(p.bg,g,!0,Math.sqrt(q*q+v*v))&&(u=a.charAt(r),p.Wx.insert(p.Wx.length,u),u=!0)}u||(u=a.charAt(r),r=new XODText.Fx,r.Mp(d.Yc,u,g),e.add(r))}}return 0<e.length},ht:null};XODText.Jp=function(){};XODText.Jp.prototype={Mp:function(b,e,c){this.Yc=b;this._position=
e;this.Kk=c},Yc:0,_position:0,Kk:0};XODText.Fx=function(){};XODText.Fx.prototype={Mp:function(b,e,c){this.Yc=b;this.Wx=e;this.bg=Array(8);for(b=0;8>b;++b)this.bg[b]=c[b]},Yc:0,Wx:null,bg:null};XODText.xt=function(){this.qf=new XODText.Na;this.Ox=new XODText.Na};XODText.xt.prototype={qf:null,Ox:null,Ih:null,Jh:null};XODText.ib=function(){};XODText.ec=function(){};XODText.ue=function(){this.Wm={};this.Zf=0;this.bb=this.Rm=this.et=this.Fd=-1;this.Nx=this.fj=this.jt=this.Lk=!1;this.nf=[];this.Hc=[];this.$f=
[];this.jb=this.Oa="";this.Gd=[];this.Og=[];this.Sm=[];this.Lx=[];this.Ka={};this.Ka[" "]=null;this.Ka["\t"]=null;this.Ka["\n"]=null;this.Ka["."]=null;this.Ka[","]=null;this.Ka["?"]=null;this.Ka[":"]=null;this.Ka[";"]=null;this.Ka['"']=null;this.Ka["'"]=null;this.Ka["<"]=null;this.Ka[">"]=null;this.Ka["`"]=null;this.Ka["~"]=null;this.Ka["!"]=null;this.Ka["@"]=null;this.Ka["#"]=null;this.Ka.$=null;this.Ka["%"]=null;this.Ka["^"]=null;this.Ka["&"]=null;this.Ka["("]=null;this.Ka[")"]=null;this.Ka["["]=
null;this.Ka["]"]=null;this.Ka["{"]=null;this.Ka["}"]=null;this.Ka["|"]=null;this.Ka._=null;this.Ka["\\"]=null;this.Ka["-"]=null;this.Ka["="]=null;this.Ka["+"]=null;this.Ka["/"]=null;this.Ka["*"]=null};XODText.ue.Wg=function(b,e){for(var c=0,a=b.length-1,d=Math.floor((c+a)/2);b[d]!==e&&c<a;)e<b[d]?a=d-1:e>b[d]&&(c=d+1),d=Math.floor((c+a)/2);return b[d]!==e?!1:!0};XODText.ue.prototype={DN:function(b,e,c,a,d){this.jt=!1;this.we=b.Nb();if(0>this.we.length||0>e.length||0<=a&&a>d)return!1;this.Zf=c;if(!this.dE(e))return!1;
b=a;e=this.we.length;if(0>b)if(0>d)b=0,d=e-1;else return!1;else if(d<b)return!1;console.assert(0<=b&&b<=d);if(b>=e||d>=e)return!1;this.et=b;this.Rm=d;this.Fd=this.jh()?this.Rm:this.et;++this.Rm;this.jb=this.Oa="";this.Og.clear();this.Sm.clear();this.nf.clear();this.Hc.clear();this.jt=!0;this.bb=-1;this.Lk=!1;return!0},run:function(b){var e=-1,c=-1,a=-1,d="",g="",l=new XODText.Kp;l._init();l._clear();if(!this.jt||0>=this.Mk.text.length)return new XODText.Dh(XODText.ec.al,a,d,g,e,c);for(var h="",k=
-1,m=-1;;){if(this.Fd===this.Rm)return new XODText.Dh(XODText.ec.al,a,d,g,e,c);var n=!0;if(!this.Oa.length||this.bb===this.Oa.length){if(!this.jh()){if(this.bb===this.Oa.length){if(this.vH()&&!this.Lk)return this.Lk=!0,a=this.Fd,new XODText.Dh(XODText.ec.iu,a,d,g,e,c);++this.Fd}if(this.Fd===this.Rm)return new XODText.Dh(XODText.ec.al,a,d,g,e,c)}else if(this.bb===this.Oa.length){if(this.vH()&&!this.Lk)return this.Lk=!0,a=this.Fd,new XODText.Dh(XODText.ec.iu,a,d,g,e,c);if(this.Fd===this.et)return new XODText.Dh(XODText.ec.al,
a,d,g,e,c);--this.Fd}(n=this.yx(this.Fd))?this.jh()?(this.bb=this.Oa.length,--this.bb):this.bb=0:this.bb=0}this.Lk=!1;n&&(console.assert(this.bb!==this.Oa.length),c=this.xM(l),h=c.Dx,k=c.Us,m=c.Ts,g=c.Is,e=c.wt,c=c.vt);if(n&&k!==this.Oa.length){console.assert(0<h.length);d=h;a=this.Fd;this.jh()?(this.bb=k)?--this.bb:this.bb=this.Oa.length:this.bb=m;if(this.Zq())for(b.clear(),h=[],l.rM(this.we,h),l=0;l<h.length;++l)k=new XODText.ab,m=h[l],k.x1=m.bg[0],k.y1=m.bg[1],k.x2=m.bg[2],k.y2=m.bg[3],k.am=m.bg[4],
k.dm=m.bg[5],k.bm=m.bg[6],k.em=m.bg[7],b.add(k);return new XODText.Dh(XODText.ec.uq,a,d,g,e,c)}this.bb=this.Oa.length}},dE:function(b){if(0>=b.length)return!1;for(var e="",c=b.length,a=!1,d=0;d<c;++d){var g=this.qt(b.charAt(d));" "===g?a||(e+=g,a=!0):(a=!1,e+=g)}this.GD=e;this.$f.clear();b="";for(d=0;d<e.length;++d)g=e.charAt(d),this.Ik(g)?this.$f.add(b.length-1):b+=g;this.Uu()||(b=b.toLowerCase());this.Mk=this.ZR()?new XODText.gx(b,"r"):this.iS()?new XODText.gx(b,"w"):new XODText.gx(b,"");d=this.fj;
this.Mk.text.length?this.fj=!1:(this.Mk.text=e,this.$f.clear(),this.fj=!0);this.fj!==d&&0<this.Oa.length&&!this.yx(this.Fd)&&(this.bb=this.Oa.length);return!0},setMode:function(b){var e=this.Zq(),c=this.Uu(),a=this.jh();this.Zf=b;var d=this.Zq();b=this.Uu();var g=this.jh(),l=!1;c!==b&&this.dE(this.GD);if(!(0>=this.Oa.length)){e!==d&&d&&!l&&(console.assert(0<=this.bb&&this.bb<=this.Oa.length),this.yx(this.Fd),l=!0);if(c!==b&&!l){console.assert(this.Gd.length===this.Oa.length);console.assert(this.Gd.length<=
this.jb.length);e=this.Oa.length;c="";for(d=0;d<e;++d)console.assert(0<=this.Gd[d]&&this.Gd[d]<this.jb.length),c+=this.qt(this.jb.charAt(this.Gd[d]));this.Oa=c;b||(this.Oa=this.Oa.toLowerCase())}if(a!==g)if(console.assert(0<=this.bb&&this.bb<=this.Oa.length),this.bb!==this.Oa.length)if(g)for(d=0;2>d;++d)this.bb&&--this.bb;else for(d=0;2>d;++d)this.bb!==this.Oa.length&&++this.bb;else g?(this.bb=this.Oa.length,--this.bb):this.bb=0}},Zq:function(){return 0<(this.Zf&XODText.ib.CF)},RR:function(){return 0<
(this.Zf&XODText.ib.AF)},Uu:function(){return 0<(this.Zf&XODText.ib.BF)},iS:function(){return 0<(this.Zf&XODText.ib.GF)},ZR:function(){return 0<(this.Zf&XODText.ib.EF)},hS:function(){return 0<(this.Zf&XODText.ib.FF)},jh:function(){return 0<(this.Zf&XODText.ib.$y)},vH:function(){return 0<(this.Zf&XODText.ib.DF)},xM:function(b){var e,c,a,d=this.iM();c=d.Us;a=d.Ts;ambient=d.Is;var g=d.wt,l=d.vt;if(c===this.Oa.length)return d;var h,k;e=this.vM(0,0,c,a,a-c);h=e.$D;k=e.lD;for(var m="",n=h;n<k;++n)m+=this.jb.charAt(n);
e=m;m="";if(this.RR()){var r=h,p=k,g=this.jb.length,u=l=0,q=n=!1,v=!1;if(r)for(--r;r;){var x=this.jb.charAt(r);n&&this.Gh(x)&&u++;n||!v||this.Gh(x)||(n=q=!0);if(30<=l||0<u){r++;break}if(this.Og.length>r&&-2===this.Og[r]){var A=this.jb.charAt(r+1);if("A"<=A&&"Z">=A){++r;q=!0;break}}--r;l++;v=v||this.Gh(x)||"\n"===x}q||(r=h);n=p;for(u=0;p!==g;){this.Gh(this.jb.charAt(p))&&(n=p-1,u++);if(10<=u||70<=l){p===g-1||this.Gh(this.jb.charAt(p+1))||(p=n);break}p++}p===g&&--p;for(n=r;n<=p;++n)g=this.jb.charAt(n),
m="\n"===g?m+" ":m+g;g=h-r;l=k-r}d.Is=m;if(this.Zq()){console.assert(this.jb.length===this.Og.length);console.assert(k>=h);m=k-h;u=[];for(n=h;n<k;++n)u.insert(u.length,this.Og[n]);for(h=0;h<m&&0>u[h];)++h;for(n=k=h;h<m;)if(r=u[h],h===m-1)q=this.Fd,r=u[n],p=u[h],0>p&&(p=u[k]),console.assert(0<=q&&0<=r&&p>=r),v=new XODText.Jp,v.Mp(q,r,p-r+1),b._add(v),++h;else if(-1===r)console.assert(0<=u[k]),++h;else if(-2===r){console.assert(0<=u[k]);q=this.Fd;r=u[n];p=u[k];console.assert(0<=q&&0<=r&&p>=r);v=new XODText.Jp;
v.Mp(q,r,p-r+1);b._add(v);for(++h;h<m&&0>u[h];)++h;n=k=h}else 0<=r&&(console.assert(0<=u[k]),k===h||this.tM(u,k,h)?(k=h,++h):(q=this.Fd,r=u[n],p=u[k],console.assert(0<=q&&0<=r&&p>=r),v=new XODText.Jp,v.Mp(q,r,p-r+1),b._add(v),n=k=h))}d.Dx=e;d.Us=c;d.Ts=a;d.wt=g;d.vt=l;return d},Qm:null,Jb:null,oD:function(f){return f.replace(b,"\\$&")},TM:function(b,e,c){Object.br(this.Wm,b.text)?this.Jb=this.Wm[b.text]:(this.Jb=b.wH?{re:new RegExp(b.text,"g"),matches:null}:{re:new RegExp(this.oD(b.text),"g"),matches:null},
this.Wm[b.text]=this.Jb);this.Jb.re.lastIndex=c;this.Qm=this.Jb.re.exec(e);return null!=this.Qm?{start:this.Jb.re.lastIndex-this.Qm[0].length,length:this.Qm[0].length}:{start:-1,length:0}},UM:function(b,e,c){this.Jb=null;Object.br(this.Wm,b.text)&&(this.Jb=this.Wm[b.text]);if(null===this.Jb||null==this.Jb.matches)this.Jb=b.wH?{re:new RegExp(b.text,"g"),matches:[],qB:null}:{re:new RegExp(this.oD(b.text),"g"),matches:[],qB:null},this.Wm[b.text]=this.Jb;if(this.Jb.qB!==e){for(this.Jb.matches=[];null!==
(this.Qm=this.Jb.re.exec(e));)this.Jb.matches.push({start:this.Qm.index,end:this.Jb.re.lastIndex});this.Jb.qB=e}if(0<this.Jb.matches.length)for(b=this.Jb.matches.length-1;0<=b;b--)if(this.Jb.matches[b].end<c)return{start:this.Jb.matches[b].start,length:this.Jb.matches[b].end-this.Jb.matches[b].start};return{start:-1,length:0}},iM:function(){var b,e,c,a;c=this.bb;for(a=this.Oa.length;;){var d=!1;console.assert(0<this.Mk.text.length);if(this.jh()){if(c===a){b=e=a;break}e=this.UM(this.Mk,this.Oa,c)}else e=
this.TM(this.Mk,this.Oa,c);b=e.start;if(0>b){b=e=a;break}e=e.start+e.length;this.jh()?(c=b,0!==c?--c:c=a):c=e;if(!this.fj)if(0<this.$f.length)if(this.nf.length||this.Hc.length){for(var g=this.Hc.length,l=this.nf.length,h=b-0,k=T.Ne.getEnumerator(this.$f);k.nh();){var m=k.current,m=h+m;if(!XODText.ue.Wg(this.nf,m)&&!XODText.ue.Wg(this.Hc,m)){d=!0;break}}if(d)continue;for(var k=b-0,n=e-0-1,r=m=this.Kx(this.Hc,k);r!==g;++r){var p=this.Hc[r];if(p>=k&&p<n&&(m=p-h,!XODText.ue.Wg(this.$f,m))){d=!0;break}if(p>=
n)break}if(d)continue;for(r=m=this.Kx(this.nf,k);r!==l;++r){p=this.nf[r];if(p>=k&&p<n&&(m=p-h,!XODText.ue.Wg(this.$f,m))){d=!0;break}if(p>=n)break}if(d)continue}else continue;else if(this.Hc.length)for(k=b-0,n=e-0-1,g=this.Hc.length,r=m=this.Kx(this.Hc,k);r!==g&&(p=this.Hc[r],p>=k&&p<n||!(p>=n));++r);if(this.hS()){if(0!==b&&(p=b-0-1,!(XODText.ue.Wg(this.nf,p)||XODText.ue.Wg(this.Hc,p)||this.Gh(this.Oa.charAt(b))||this.Gh(this.Oa.charAt(b-1)))))continue;if(e!==a&&(p=e-0-1,!(XODText.ue.Wg(this.nf,p)||
XODText.ue.Wg(this.Hc,p)||this.Gh(this.Oa.charAt(e-1))||this.Gh(this.Oa.charAt(e)))))continue}break}return new XODText.ex("",b,e,"",-1,-1)},Gh:function(b){return Object.br(this.Ka,b)?!0:this.ct(b)||this.IM(b)},Kx:function(b,e){var c=b.indexOf(e);0>c&&(c=~c);return c},qt:function(b){b=b.charCodeAt(0);if(39===b||8217===b)b=39;else if(34===b||8220===b||8221===b)b=34;return String.fromCharCode(b)},Ik:function(b){var e=b;b=b.charCodeAt(0);return"-"===e||8208===b||8209===b||65293===b||173===b},HM:function(b){var e=
b;b=b.charCodeAt(0);return","===e||65292===b||65294===b},IM:function(b){var e=b;b=b.charCodeAt(0);return 32<b&&48>b||57<b&&65>b||90<b&&97>b||122<b&&127>b||this.HM(e)||this.Ik(e)||173===b||1642<=b&&(1645>=b||8210<=b&&8231>=b||8240<=b&&8269>=b||8592<=b&&9215>=b||12441<=b&&12444>=b||65281<=b&&65291>=b||65295===b||65306<=b&&65312>=b||65344===b||65371<=b&&65374>=b)?!0:!1},ct:function(b){b=b.charCodeAt(0);return 32===b||1<=b&&31>=b||160===b||8192<=b&&(8207>=b||8232<=b&&8239>=b||8298<=b&&8303>=b)?!0:!1},
yx:function(b){if(0>b||b>=this.we.length)return!1;this.jb=this.Oa="";this.Gd.clear();this.nf.clear();this.Hc.clear();var e=this.Zq(),c=[],a=[];if(e){var d=this.we[b].text;if(!d.ready())return!1;b=d.Za;c=d.cd;a=d.ce();this.Og.clear();this.Nx&&this.Lx.clear()}else{d=this.we[b].text;if(!d.ready())return!1;b=d.Za}if(0>=b.length)return!1;for(var d="",g=b.length,l=-1,h=0;h<g;++h){var k=b.charAt(h),m=-1;e&&(m=c[h]);if("\n"===k){for(k=h-1;0<=k&&" "===b.charAt(k);)--k;if(!(0>k||this.Ik(b.charAt(k)))){for(k=
h+1;k<g&&" "===b.charAt(k);)++k;k>=g||this.Ik(b.charAt(k))||(d+=" ",this.Gd.add(this.jb.length),this.jb+=" ",e&&(l=l<m?m:l,this.sx(m,a,8*h)))}}else if(" "===k)h<g-1&&("\n"===b.charAt(h+1)||" "===b.charAt(h+1))||(d+=k,this.Gd.add(this.jb.length),this.jb+=k,e&&(l=l<m?m:l,this.sx(m,a,8*h)));else{if(this.Ik(k))if(this.fj)d+=this.qt(k),this.Gd.add(this.jb.length);else{var n=d.length-1;h<g-1&&"\n"===b.charAt(h+1)?this.nf.add(n):this.Hc.length&&n===this.Hc[this.Hc.length-1]||this.Hc.add(n)}else d+=this.qt(k),
this.Gd.add(this.jb.length);this.jb+=k;e&&(l=l<m?m:l,this.sx(m,a,8*h))}}console.assert(d.length===this.Gd.length);this.Oa=d;if(e){g=this.Og.length;this.Sm.clear();for(h=0;h<l+1;++h)this.Sm.add(!0);for(h=0;h<g;++h)m=this.Og[h],0<=m&&(this.Sm[m]=!1)}this.Uu()||(this.Oa=this.Oa.toLowerCase());this.nf.sort();this.Hc.sort();this.$f.sort();return!0},sx:function(b,e,c){this.Og.add(b);if(this.Nx)for(b=c;b<c+8;++b)this.Lx.add(e[b])},vM:function(b,e,c,a,d){c?(b=this.Gd[c-1],++b):b=0;a<this.Gd.length?e=this.Gd[a]:
(e=this.Gd[a-1],e===this.jb.length-1&&++e);console.assert(b>=c&&e>=a&&e>=b);if(!this.fj){if(!XODText.ue.Wg(this.$f,d-1))for(;0<e&&this.Ik(this.jb.charAt(e-1));)--e;c=this.jb.length;if(!XODText.ue.Wg(this.$f,-1))for(;b<c-1&&this.Ik(this.jb.charAt(b));)++b;e<b&&(console.assert(!1),e=b)}return new XODText.cx(b,e)},tM:function(b,e,c){console.assert(0<=e&&e<=c&&e<b.length&&c<b.length);e=b[e];b=b[c];if(e===b||e+1===b)return!0;for(c=!0;0<=e&&e<b-1;)if(!this.Sm[++e]){c=!1;break}return c},jt:!1,we:null,Zf:0,
Ka:null,Fd:0,et:0,Rm:0,bb:0,Lk:!1,jb:null,Oa:null,Gd:null,Og:null,Sm:null,Mk:null,fj:!1,GD:null,nf:null,Hc:null,$f:null,Lx:null,Nx:!1};XODText.Ti=function(b){this.ka="";this.it=-1;this.Da=[];this.Pa="";this.we=b.Nb();this.zb=new XODText.te;this.zb.Pb();this.ob=[];this.mt=[];this.kt=[]};XODText.Ti.prototype={ce:function(){for(var b=this.Da.length/8,e=[],c=0;c<b;++c){var a=new XODText.ab,d=8*c;a.bE(this.Da[d],this.Da[d+1],this.Da[d+2],this.Da[d+3],this.Da[d+4],this.Da[d+5],this.Da[d+6],this.Da[d+7]);
e.add(a)}return e},ct:function(b){b=b.charCodeAt(0);return 32===b||1<=b&&31>=b||160===b||8192<=b&&(8207>=b||8232<=b&&8239>=b||8298<=b&&8303>=b)?!0:!1},aE:function(b,e){this.Da.clear();this.Pa="";e.normalize();var c=[],a="",d;for(d=b-1;d<b+2;d++)this.hj(d)&&(c.push({idx:d,Of:this.ka}),a+=this.ka);if(0===c.length||0===a.length||!this.hj(b))return!1;var g=new XODText.Na,l=Array(8),h,k,m=new XODText.Rb;m.Pb();var n,r=new XODText.xb;r.Pb();var p=[],u=!1;for(k=this.zb.Hq();!k.ta(m);k=k.ze())if(k.sb(g),
g.normalize(),!e.nr(g)){var q=[null,null],v=[null,null],x=-1;h=-1;for(n=k.Kb();!n.ta(r);n=n.ae())if(n.Pc(l),g.Vl(l),!e.nr(g)){h=n.jg();var A=n.Ya();-1===x&&(x=A);d=p.length;if(0<h&&0<d){u&&("\n"!==p[0]&&(this.ct(p[d-1])?p[d-1]="\n":p.add("\n")),u=!1);for(d=0;d<p.length;++d)this.Pa+=p[d];p.clear()}for(d=0;d<=h;++d)A+d<this.ka.length&&(d<h?this.Pa+=this.ka.charAt(A+d):p.add(this.ka.charAt(A+d)));if(0<h){d=g.x2-g.x1;var B=g.y2-g.y1;this.Rg(l,Math.sqrt(d*d+B*B)/h*3)}h=A+h}u=!0;q[0]=x;for(d=n=0;d<c.length;d++)if(c[d].idx===
b){n+=q[0];break}else c[d].idx<b&&(n+=c[d].Of.length);v[0]=a.substring(Math.max(0,n-100),n);if(-1!==h){q[1]=h;for(d=n=0;d<c.length;d++)if(c[d].idx===b){n+=h;break}else c[d].idx<b&&(n+=c[d].Of.length);v[1]=a.substr(n+1,100)}null!==q[0]&&null!==q[1]&&this.kt.push(q);null!==v[0]&&null!==v[1]&&this.mt.push(v)}return 0<this.Da.length},pM:function(){var b,e=new XODText.Rb;e.Pb();var c=Array(8),a=Array(8),d=.1,g=-100;for(b=this.zb.Hq();!b.ta(e);b=b.ze()){var l=new XODText.ea,h=new XODText.ea,k=new XODText.xb;
k.Pb();var m=b.Kb(),n=new XODText.xb;n.Pb();for(var r=b.Kb();!r.ta(k);r=r.ae())n=r;m.rd(0,c);l.x=(c[0]+c[2]+c[4]+c[6])/4;l.y=(c[1]+c[3]+c[5]+c[7])/4;n.rd(n.ac()-1,a);h.x=(a[0]+a[2]+a[4]+a[6])/4;h.y=(a[1]+a[3]+a[5]+a[7])/4;k=XODText.ea.distance(l,h);k>d&&(g=Math.atan2(h.y-l.y,h.x-l.x),g*=180/3.1415926,g=Math.round(g),0>g&&(g+=360),d=k)}this.tc=g;this.Mx=2>Math.abs(this.tc)||2>Math.abs(this.tc-180)},eJ:function(b,e){this.Da.clear();this.Pa="";e.normalize();var c=[],a="",d;for(d=b-1;d<b+2;d++)this.hj(d)&&
(c.push({idx:d,Of:this.ka}),a+=this.ka);if(0===c.length||0===a.length||!this.hj(b))return!1;var g=new XODText.Na,l=Array(8),h,k,m,n=new XODText.Rb;n.Pb();var r,p=new XODText.xb;p.Pb();var u=[],q=!1;for(m=this.zb.Hq();!m.ta(n);m=m.ze())if(m.sb(g),g.normalize(),!e.nr(g)){var v=[null,null],x=[null,null],A=-1,B=!0;for(r=m.Kb();!r.ta(p);r=r.ae())if(r.Pc(l),g.Vl(l),!e.nr(g)){h=r.jg();var z=r.Ya(),y=u.length;if(0<h&&0<y){q&&("\n"!==u[0]&&(this.ct(u[y-1])?u[y-1]="\n":u.add("\n")),q=!1);for(d=0;d<u.length;++d)this.Pa+=
u[d];u.clear()}var y=0,w=Array(8),E=Array(8),I=!1,D=!1;for(k=0;k<h;++k){var H=z+k;if(H<this.ka.length){d=Array(8);var M=new XODText.Na;r.rd(k,d);M.Vl(d);if(e.nr(M))0===y?I=!0:D=!0;else{A=H;y++;if(1===y){if(B){v[0]=H;for(d=B=0;d<c.length;d++)if(c[d].idx===b){B+=H;break}else c[d].idx<b&&(B+=c[d].Of.length);x[0]=a.substring(Math.max(0,B-100),B);B=!1}I&&r.rd(k,w)}r.rd(k,E);k<h?this.Pa+=this.ka.charAt(H):u.add(this.ka.charAt(H))}}}"\n"!=u[h]&&u.push(" ");0<y&&(I&&this.Bk(l,w,!0),D&&this.Bk(l,E,!1),g.Vl(l),
h=g.x2-g.x1,z=g.y2-g.y1,this.Rg(l,Math.sqrt(h*h+z*z)/y*3))}q=!0;if(-1!==A){v[1]=A;for(d=r=0;d<c.length;d++)if(c[d].idx===b){r+=A;break}else c[d].idx<b&&(r+=c[d].Of.length);x[1]=a.substr(r+1,100)}null!==v[0]&&null!==v[1]&&this.kt.push(v);null!==x[0]&&null!==x[1]&&this.mt.push(x)}return 0<this.Da.length},KQ:function(b,e,c){for(var a=[],d=-1,g="",l=0;l<e.length;l++){var h=this.UQ(b,e[l][0],e[l][1]);if(h.status)-1!==d||void 0===h.Ll||null===h.Ll||isNaN(h.Ll)||(d=h.Ll),h.Ll===d&&Array.prototype.push.apply(a,
h.value),g+=this.Pa;else break}-1===d&&(d=0);return 0===a.length?{status:!1}:g.replace(/( |\n)/gm,"")!==c.replace(/( |\n)/gm,"")?{status:!1}:{status:!0,value:a,Ll:d}},UQ:function(b,e,c,a){if(20>=e.length||20>=c.length)return{status:!1};var d=[],g="",l=[],h=!0,k=0,m,n;for(m=b-1;m<b+2;m++)if(this.hj(m))if(d.push({idx:m,Of:this.ka}),g+=this.ka,null!==this.we[m].text.Tm){for(n=0;n<this.we[m].text.Tm.length;n++)l.push(this.we[m].text.Tm[n]+k);k+=this.ka.length}else h=!1;if(0===d.length||0===g.length)return{status:!1};
k=[];m=0;h?(n=g.replace(/( |\n)/gm,""),e=e.replace(/( |\n)/gm,"")):n=g;for(;!(0===n.length||n.length<e.length||(b=n.indexOf(e),0>b));)k.push(m+b+e.length),n=n.substr(b+1),m+=b+1;if(0===k.length)return{status:!1};e=[];m=k[0]+1;h?(n=g.replace(/( |\n)/gm,"").substring(k[0]+1),c=c.replace(/( |\n)/gm,"")):n=g.substring(k[0]+1);for(;!(0===n.length||n.length<c.length||(b=n.indexOf(c),0>b));)e.push(m+b),n=n.substr(b+1),m+=b+1;if(0===e.length)return{status:!1};c=[];for(m=0;m<k.length;m++)for(n=0;n<e.length;n++)if(k[m]+
1<=e[n]&&(b=[],b.push(k[m]),b.push(e[n]),c.push(b)),1<c.length)return{status:!1};if(1!==c.length)return{status:!1};if(h){for(m=0;m<l.length&&!(c[0][0]<l[m]);m++)c[0][0]++;for(m=0;m<l.length&&!(c[0][1]<l[m]);m++)c[0][1]++}h=[0,0];l=-1;for(m=k=0;m<d.length;m++){e=d[m].Of;if(c[0][0]>=k&&c[0][0]<k+e.length){l=d[m].idx;h[0]=c[0][0]-k;break}k+=e.length}if(-1===l)return{status:!1};n=-1;for(m=k=0;m<d.length;m++){e=d[m].Of;if(c[0][1]>=k&&c[0][1]<k+e.length){n=d[m].idx;h[1]=c[0][1]-k;break}k+=e.length}if(-1===
n)return{status:!1};if(l===n)d=this.Xz(l,h[0],h[1]-1);else{for(m=0;m<d.length&&d[m].idx!==l;m++);d=this.Xz(l,h[0],d[m].Of.length-1);this.Pa=g.substring(c[0][0],c[0][1])}if(d.status){if(a&&this.Pa.replace(/( |\n)/gm,"")!==a.replace(/( |\n)/gm,""))return{status:!1};d.Ll=l;return d}return{status:!1}},LQ:function(b,e,c){for(var a=[],d="",g=0;g<e.length;g++){var l=Number(e[g][0]),h=Number(e[g][1]);if(isNaN(l)||isNaN(h))return exports.utils.warn("getRectangularSelectionFromTextIndices: could not parse index-based selectors as numbers."),
{status:!1};l=this.Xz(b,l,h);if(l.status)Array.prototype.push.apply(a,l.value),d+=this.Pa;else return{status:!1}}return 0===a.length?{status:!1}:d.replace(/( |\n)/gm,"")!==c.replace(/( |\n)/gm,"")?{status:!1}:{status:!0,value:a}},Xz:function(b,e,c,a){if(!this.hj(b))return{status:!1};var d=new XODText.xb;d.Pb();b=new XODText.Rb;b.Pb();this.Pa=this.ka.substring(e,Math.min(c+1,this.ka.length));if(a&&this.Pa.replace(/( |\n)/gm,"")!==a.replace(/( |\n)/gm,""))return{status:!1};a=0;for(var g,l;;){if(a>=
this.ob.length)return{status:!1};g=this.ob[a].Ih;l=this.ob[a].Jh;if(l.ad().Ya()+l.ad().ac()>=e&&g.Kb().Ya()<=e)break;a++}for(var h=this.ob[a],k=h.Ih;;){if(k.ta(b))return{status:!1};if(this.Mh(k.$g())){if(k.ad().Ya()+k.ad().ac()>=e&&k.Kb().Ya()<=e)break;if(k.ta(h.Jh)||k.ta(b))return{status:!1};k=k.ze()}}for(var m=k.Kb();;){if(m.ta(d))return{status:!1};if(m.Ya()+m.ac()>=e&&m.Ya()<=e)break;m=m.ae()}for(var n=0;;){if(n>=this.ob.length)return{status:!1};g=this.ob[n].Ih;l=this.ob[n].Jh;if(l.ad().Ya()+l.ad().ac()>=
c&&g.Kb().Ya()<=c)break;n++}for(var r=this.ob[n].Ih;;){if(r.ta(b))return{status:!1};if(this.Mh(r.$g())){if(r.ad().Ya()+r.ad().ac()>=c&&r.Kb().Ya()<=c)break;if(r.ta(h.Jh))return{status:!1};r=r.ze()}}for(h=r.Kb();;){if(h.ta(d))return{status:!1};if(h.Ya()+h.ac()>=c&&h.Ya()<=c)break;h=h.ae()}for(var d=[],p=Array(4),u=a;u<=n;u++)if(g=this.ob[u].Ih,l=this.ob[u].Jh,u===a&&u!==n)for(g=k;!g.ta(b);g=g.ze()){if(this.Mh(g.$g())){var q=Array(8);g.ta(k)?m.Jn(Math.min(e-m.Ya(),m.ac()-1),q):(g.Kb().sb(p),q[0]=p[0],
q[1]=p[3],q[6]=p[0],q[7]=p[1]);g.ad().sb(p);q[2]=p[2];q[3]=p[3];q[4]=p[2];q[5]=p[1];d.push(q);if(g.ta(l))break}}else if(u!==a&&u===n)for(;;g=g.ze()){if(g.ta(b))return{status:!1};if(this.Mh(g.$g())&&(q=Array(8),g.ta(r)?h.Jn(Math.min(c-h.Ya(),h.ac()-1),q):(g.ad().sb(p),q[2]=p[2],q[3]=p[3],q[4]=p[2],q[5]=p[1]),g.Kb().sb(p),q[0]=p[0],q[1]=p[3],q[6]=p[0],q[7]=p[1],d.push(q),g.ta(r)))break}else if(u===a&&u===n)for(g=k;;g=g.ze()){if(g.ta(b))return{status:!1};if(this.Mh(g.$g())&&(q=Array(8),g.ta(k)&&!g.ta(r)?
(m.Jn(Math.min(e-m.Ya(),m.ac()-1),q),g.ad().sb(p),q[2]=p[2],q[3]=p[3],q[4]=p[2],q[5]=p[1]):!g.ta(k)&&g.ta(r)?(h.Jn(Math.min(c-h.Ya(),h.ac()-1),q),g.Kb().sb(p),q[0]=p[0],q[1]=p[3],q[6]=p[0],q[7]=p[1]):g.ta(k)&&g.ta(r)?(m.Jn(Math.min(e-m.Ya(),m.ac()-1),q),p[0]=q[6],p[1]=q[7],p[2]=q[2],p[3]=q[3],h.Jn(Math.min(c-h.Ya(),h.ac()-1),q),q[0]=p[0],q[1]=p[3],q[6]=p[0],q[7]=p[1]):(g.Kb().sb(p),q[0]=p[0],q[1]=p[3],q[6]=p[0],q[7]=p[1],g.ad().sb(p),q[2]=p[2],q[3]=p[3],q[4]=p[2],q[5]=p[1]),d.push(q),g.ta(r)))break}else for(;!(g.ta(b)||
this.Mh(g.$g())&&(q=Array(8),g.Kb().sb(p),q[0]=p[0],q[1]=p[3],q[6]=p[0],q[7]=p[1],g.ad().sb(p),q[2]=p[2],q[3]=p[3],q[4]=p[2],q[5]=p[1],d.push(q),g.ta(l)));g=g.ze());return{status:!0,value:d}},cJ:function(b,e){this.Da.clear();this.Pa="";var c=[],a="",d;for(d=b-1;d<b+2;d++)this.hj(d)&&(c.push({idx:d,Of:this.ka}),a+=this.ka);if(0===c.length||0===a.length||!this.hj(b))return!1;var g,l,h,k,m=Array(8),n=Array(8),r=new XODText.Na,p=new XODText.Rb,u=new XODText.Rb;p.Pb();u.Pb();var q=this.Mx,v=this.Mx,x,
A=new XODText.Rb;A.Pb();var B=new XODText.xb;B.Pb();var z=new XODText.ea;z.init(e.x1,e.y1);var y=new XODText.ea;y.init(e.x2,e.y2);u=this.wM(z,y,p,u);p=u.sD;u=u.DD;if(p.ta(A)||u.ta(A))return!1;y=new XODText.xb;z=new XODText.xb;y.Pb();z.Pb();l=g=XODText.$c.lk;for(var w=p.Kb();!w.ta(B);w=w.ae())w.sb(m),q?(d=e.x1,x=e.y1):(x=m[0],m[0]=m[1],m[1]=x,x=m[2],m[2]=m[3],m[3]=x,d=e.y1,x=e.x1),h=(m[3]+m[1])/2,m[2]<=d?(k=m[2]-d,h-=x,h=k*k+h*h):m[0]>=d?(k=m[0]-d,h-=x,h=k*k+h*h):(h-=x,h*=h),h<g&&(g=h,y=w);for(w=u.Kb();!w.ta(B);w=
w.ae())w.sb(m),v?(d=e.x2,x=e.y2):(x=m[0],m[0]=m[1],m[1]=x,x=m[2],m[2]=m[3],m[3]=x,d=e.y2,x=e.x2),h=(m[3]+m[1])/2,m[2]<=d?(k=m[2]-d,h-=x,h=k*k+h*h):m[0]>=d?(k=m[0]-d,h-=x,h=k*k+h*h):(h-=x,h*=h),h<l&&(l=h,z=w);if(y.ta(B)||z.ta(B))return!1;x=w=0;l=g=XODText.$c.lk;var E=y.ac();for(d=0;d<E;++d)y.rd(d,m),k=(m[0]+m[2]+m[4]+m[6])/4,h=(m[1]+m[3]+m[5]+m[7])/4,k-=e.x1,h-=e.y1,h=k*k+h*h,h<g&&(g=h,w=d);E=z.ac();for(d=0;d<E;++d)z.rd(d,m),k=(m[0]+m[2]+m[4]+m[6])/4,h=(m[1]+m[3]+m[5]+m[7])/4,k-=e.x2,h-=e.y2,h=k*k+
h*h,h<l&&(l=h,x=d);g=w+y.Ya();l=x+z.Ya();l<g&&(d=g,g=l,l=d);this.kt.push([g,l]);h=[null,null];for(d=k=0;d<c.length;d++)if(c[d].idx===b){k+=g;break}else c[d].idx<b&&(k+=c[d].Of.length);h[0]=a.substring(Math.max(0,k-100),k);for(d=g=0;d<c.length;d++)if(c[d].idx===b){g+=l;break}else c[d].idx<b&&(g+=c[d].Of.length);h[1]=a.substr(g+1,100);null!==h[0]&&null!==h[1]&&this.mt.push(h);l=p.pb;d=u.pb;c=y.pb;a=z.pb;if(l===d){c>a&&(l=y,y=z,z=l,l=w,w=x,x=l);p.sb(r);if(c===a&&w===x&&(l=new XODText.Na,!l.Su(r,e)))return!1;
c===a?(x<w&&(l=w,w=x,x=l),l=x):l=y.jg();y.rd(w,m);console.assert(q===v);q=y.Ya();console.assert(w<=l);for(v=w;v<=l;++v)q+v<this.ka.length&&(this.Pa+=this.ka.charAt(q+v));0<=l&&(y.Pc(n),q=n[0]-n[2],v=n[1]-n[3],q=Math.sqrt(q*q+v*v),q=q/(l+1)*3,this.Bk(n,m,!0),c===a&&(r=Array(8),z.rd(x,r),this.Bk(n,r,!1)),this.Rg(n,q));for(w=y=y.ae();!w.ta(B)&&w.pb<z.pb;w=w.ae()){l=w.jg();q=w.Ya();for(v=0;v<=l;++v)q+v<this.ka.length&&(this.Pa+=this.ka.charAt(q+v));0<l&&(w.Pc(n),q=n[0]-n[2],v=n[1]-n[3],q=Math.sqrt(q*
q+v*v),q=q/l*3,this.Rg(n,q))}z.rd(x,m);l=z.jg();if(c!==a){q=z.Ya();console.assert(x<=l);for(v=0;v<=x;++v)q+v<this.ka.length&&(this.Pa+=this.ka.charAt(q+v));0<l&&(z.Pc(n),q=n[0]-n[2],v=n[1]-n[3],q=Math.sqrt(q*q+v*v),q=q/l*3,this.Bk(n,m,!1),this.Rg(n,q))}}else{l>d&&(q=p,p=u,u=q,l=y,y=z,z=l,l=w,w=x,x=l);p.sb(r);l=new XODText.Na;l.Su(r,e)||(y=p.Kb(),w=0);y.rd(w,m);l=y.jg();q=y.Ya();console.assert(w<=l);for(v=w;v<=l;++v)q+v<this.ka.length&&(this.Pa+=this.ka.charAt(q+v));0<l&&(y.Pc(n),q=n[0]-n[2],v=n[1]-
n[3],q=Math.sqrt(q*q+v*v),q=q/l*3,this.Bk(n,m,!0),this.Rg(n,q));for(w=y=y.ae();!w.ta(B);w=w.ae()){l=w.jg();q=w.Ya();for(v=0;v<=l;++v)q+v<this.ka.length&&(this.Pa+=this.ka.charAt(q+v));0<l&&(w.Pc(n),q=n[0]-n[2],v=n[1]-n[3],q=Math.sqrt(q*q+v*v),q=q/l*3,this.Rg(n,q))}for(p=p.ze();!p.ta(u)&&!p.ta(A);p=p.ze())if(this.Mh(p.$g()))for(p.sb(r),w=p.Kb();!w.ta(B);w=w.ae()){l=w.jg();q=w.Ya();for(v=0;v<=l;++v)q+v<this.ka.length&&(this.Pa+=this.ka.charAt(q+v));0<l&&(w.Pc(n),q=n[0]-n[2],v=n[1]-n[3],q=Math.sqrt(q*
q+v*v),q=q/l*3,this.Rg(n,q))}u.sb(r);l=new XODText.Na;l.Su(r,e)||(z=u.VG(u.dh()-1),x=z.ac()-1);for(w=u.Kb();!w.ta(B)&&!w.ta(z);w=w.ae()){l=w.jg();q=w.Ya();for(v=0;v<=l;++v)q+v<this.ka.length&&(this.Pa+=this.ka.charAt(q+v));0<l&&(w.Pc(n),q=n[0]-n[2],v=n[1]-n[3],q=Math.sqrt(q*q+v*v),q=q/l*3,this.Rg(n,q))}z.rd(x,m);l=z.jg();q=z.Ya();console.assert(x<=l);for(v=0;v<=x;++v)q+v<this.ka.length&&(this.Pa+=this.ka.charAt(q+v));0<l&&(z.Pc(n),q=n[0]-n[2],v=n[1]-n[3],q=Math.sqrt(q*q+v*v),q=q/l*3,this.Bk(n,m,!1),
this.Rg(n,q))}return 0<this.Da.length},hj:function(b){if(0>b||b>=this.we.length)return!1;if(0>=this.it||this.it!==b){var e=this.we[b].text;if(null==e||!e.ready())return!1;this.zb=e;this.ka=this.zb.Za;this.pM();this.oM();this.it=b}return!0},Rg:function(b,e){var c=this.Da.length/8;if(c){for(var a=Array(8),c=8*(c-1),d=0;8>d;++d)a[d]=this.Da[c+d];if(XODText.ab.nt(a,b,!0,e))for(d=0;8>d;++d)this.Da[c+d]=a[d];else for(d=0;8>d;++d)this.Da.add(b[d])}else for(var d=0;8>d;++d)this.Da.add(b[d])},Bk:function(b,
e,c){var a=new XODText.ea;a.init(b[0],b[1]);var d=new XODText.ea;d.init(b[2],b[3]);var g=XODText.ea.qg(d,a);g.normalize()&&(c?(d=new XODText.ea,d.init(e[0],e[1]),e=XODText.ea.qg(d,a).Zb(g),g=XODText.ea.multiply(g,e),b[0]+=g.x,b[1]+=g.y,b[6]+=g.x,b[7]+=g.y):(a=new XODText.ea,a.init(e[2],e[3]),e=XODText.ea.qg(a,d).Zb(g),g=XODText.ea.multiply(g,e),b[2]+=g.x,b[3]+=g.y,b[4]+=g.x,b[5]+=g.y))},xD:function(b){var e=XODText.za.Rl(0),c=XODText.za.Rl(1.570796325),a=XODText.za.Rl(3.14159265),d=XODText.za.Rl(3.14159265*
1.5);switch(parseInt(b/90+.1)){case 0:return e;case 1:return c;case 2:return a;case 3:return d;case 4:return e;default:return e}},Mh:function(){return!0},hE:function(b,e){var c=this.xD(e),a=new XODText.Ed(b.x1,b.y1),a=c.W(a);b.x1=a.x;b.y1=a.y;a=new XODText.Ed(b.x2,b.y2);a=c.W(a);b.x2=a.x;b.y2=a.y;b.normalize()},oM:function(){this.ob.clear();var b,e=new XODText.Rb;e.Pb();var c=new XODText.Na,a=new XODText.xt,d=!1;for(b=this.zb.Hq();!b.ta(e);b=b.ze())if(this.Mh(b.$g())){b.sb(c);c.normalize();var g=
new XODText.Na;g.ih(c);this.hE(c,this.tc);d?(this.ob.add(a),a=new XODText.xt,a.Ox.ih(g),a.qf.ih(c),a.Ih=b,a.Jh=b):(a.Ox.ih(g),a.qf.ih(c),a.Ih=b,a.Jh=b,d=!0)}d&&this.ob.add(a)},pD:function(b,e){for(var c=XODText.$c.lk,a=new XODText.Na,d=b.Ih,g=b.Ih;;g=g.ze()){if(!this.Mh(g.$g()))if(g.ta(b.Jh))break;else continue;g.sb(a);this.hE(a,this.tc);var l=(a.y1+a.y2)/2;Math.abs(l-e.y)<c&&(d=g,c=Math.abs(l-e.y));if(g.ta(b.Jh))break}return d},hs:function(b,e,c){var a=XODText.ea.qg(e,b),d=XODText.ea.qg(c,b),g=d.Zb(a);
if(0>=g)return d.Zb(d);d=a.Zb(a);if(d<=g)return c=XODText.ea.qg(c,e),c.Zb(c);b=XODText.ea.uo(b,XODText.ea.multiply(a,g/d));c=XODText.ea.qg(c,b);return c.Zb(c)},Rw:function(b,e){var c=this.hs(new XODText.ea(e.x1,e.y1),new XODText.ea(e.x2,e.y1),b),a=this.hs(new XODText.ea(e.x2,e.y1),new XODText.ea(e.x2,e.y2),b),d=this.hs(new XODText.ea(e.x2,e.y2),new XODText.ea(e.x1,e.y2),b),g=this.hs(new XODText.ea(e.x1,e.y2),new XODText.ea(e.x1,e.y1),b);return Math.min(c,a,d,g)},wM:function(b,e,c,a){var d=-1,g=-1,
l=!1,h=!1,k=this.xD(this.tc),m=new XODText.ea,n=new XODText.ea;m.Ru(b);n.Ru(e);b=new XODText.Ed(m.x,m.y);b=k.W(b);m.x=b.x;m.y=b.y;b=new XODText.Ed(n.x,n.y);b=k.W(b);n.x=b.x;n.y=b.y;e=0;for(var r=this.ob.length;e<r;++e)k=this.ob[e],0>d&&k.qf.contains(m.x,m.y)&&(d=e,h=!0),0>g&&k.qf.contains(n.x,n.y)&&(g=e,l=!0);if(!h||!l){b=[];for(k=0;k<this.ob.length;++k)b.add(0);var k=Math.max(d,g),p=new XODText.Na;p.Fa(m.x,m.y,n.x,n.y);p.JR(.1);0<=k&&p.union(this.ob[k].qf);var u=new XODText.Na;e=0;for(r=this.ob.length;e<
r;++e){var q=new XODText.Na;q.ih(this.ob[e].qf);u.Su(q,p)&&(b[e]=1)}e=b.indexOf(1);for(p=r=b.indexOf(1);-1!==r;){p=r;r++;if(r>=b.length)break;r=b.indexOf(1,r)}r=p;if(0>e)return new XODText.xs(c,a);0>k?(d=e,g=r,h=new XODText.Na,h.ih(this.ob[d].qf),l=(m.x-h.x1)*(m.x-h.x2),l=0<l?Math.min(Math.abs(m.x-h.x1),Math.abs(m.x-h.x2)):0,k=(m.y-h.y1)*(m.y-h.y2),k=0<k?Math.min(Math.abs(m.y-h.y1),Math.abs(m.y-h.y2)):0,b=(n.x-h.x1)*(n.x-h.x2),b=0<b?Math.min(Math.abs(n.x-h.x1),Math.abs(n.x-h.x2)):0,e=(n.y-h.y1)*(n.y-
h.y2),e=0<e?Math.min(Math.abs(n.y-h.y1),Math.abs(n.y-h.y2)):0,l*l+k*k>b*b+e*e&&(h=d,d=g,g=h)):(p=new XODText.Na,p.ih(this.ob[k].qf),b=new XODText.ea,h?b.Ru(n):b.Ru(m),console.assert(!(h&&l)&&!(!h&&!l)),console.assert(!p.contains(b.x,b.y)),k-e>Math.max(r-k,0)?(l=Math.min(k,e),p=r):(l=Math.max(k,r),p=e),l!=k&&(e=Array(3),r=Array(3),e[0]=this.Rw(b,this.ob[p].qf),e[1]=this.Rw(b,this.ob[l].qf),e[2]=this.Rw(b,this.ob[k].qf),r[0]=p,r[1]=l,r[2]=k,l=1,e[0]<e[1]&&(l=0),e[2]<e[l]&&(l=2),l=r[l]),h?g=l:d=l)}0<=
d&&0<=g&&(c=this.pD(this.ob[d],m,c),a=this.pD(this.ob[g],n,a));return new XODText.xs(c,a)},Da:null,Pa:null,we:null,zb:null,it:0,tc:0,Mx:!1,ob:null};XODText.Dh=function(b,e,c,a,d,g){this.Vv=b;this.UA=e;this.lB=c;this.vE=a;this.WI=d;this.VI=g};XODText.Dh.prototype={Vv:0,UA:0,lB:null,vE:null,WI:0,VI:0};XODText.xs=function(b,e){this.sD=b;this.DD=e};XODText.xs.prototype={sD:null,DD:null};XODText.cx=function(b,e){this.$D=b;this.lD=e};XODText.cx.prototype={$D:0,lD:0};XODText.ex=function(b,e,c,a,d,g){this.Dx=
b;this.Us=e;this.Ts=c;this.Is=a;this.wt=d;this.vt=g};XODText.ex.prototype={Dx:null,Us:0,Ts:0,Is:null,wt:0,vt:0};XODText.Zs.Ma("XODText._intData");XODText.Ed.Ma("XODText.Point2D");XODText.ab.Ma("XODText.Quad");XODText.za.Ma("XODText.Matrix2D");XODText.Kp.Ma("XODText._highlights");XODText.Jp.Ma("XODText._highlight");XODText.Fx.Ma("XODText._highlightDocInfo");XODText.xt.Ma("XODText._selectionTextBlock");XODText.ib.Ma("XODText.SearchMode");XODText.ec.Ma("XODText.ResultCode");XODText.ue.Ma("XODText.TextSearchLowlevel");
XODText.Ti.Ma("XODText.TextLocator");XODText.Dh.Ma("XODText.ResultRun");XODText.xs.Ma("XODText.ResultFindStructuralBounds");XODText.cx.Ma("XODText.ResultDetermineOriRange");XODText.ex.Ma("XODText.ResultFindTexts");XODText.Zs.GC=-2147483648;XODText.ab.kO=Math.cos(3.14159265/180*2);XODText.ib.BF=1;XODText.ib.FF=2;XODText.ib.$y=4;XODText.ib.DF=8;XODText.ib.CF=16;XODText.ib.AF=32;XODText.ib.EF=64;XODText.ib.GF=128;XODText.ec.al=0;XODText.ec.iu=1;XODText.ec.uq=2})();self.sc.Nv("XODText");
XODText.Ig=function(){this.dD={};this.Px=1E3;this.JD=200};XODText.Ig.prototype={KD:0,LD:0,Px:0,JD:0,qz:function(b){var f=new XODText.Na,e=this.dD[b];"undefined"!=typeof e?f.ih(e):window.utils.warn("Character "+b+" does not have bounding box.");return f},Ft:function(b,f,e){var c=new XODText.Na;c.set(f,this.KD,e,this.LD);this.dD[b]=c},Kr:function(b,f){this.KD=b;this.LD=f},AJ:function(b){this.Px=b}};XODText.Yw=function(b){this.mz={};this.wd=!1;this.la=b};
$.extend(XODText.Yw.prototype,{wd:!1,isReady:function(){return this.wd},CY:function(){return this.mz},eB:function(b){try{var f=new window.Oe(b);console.assert("FontInfo"===f.ua(),"Root element is incorrect.");"FontInfo"===f.ua()&&(f.oa(),this._parse(f))}catch(e){console.warn("Font Parser has encountered an error: "+e.message);return}this.wd=!0},Vs:function(b){var f="",e=0,c,a,d;for(2<=b.length&&"{"===b.charAt(0)&&"}"===b.charAt(1)&&(b=b.substr(2));e<b.length;)c=b.charCodeAt(e),128>c?(f+=String.fromCharCode(c),
e++):191<c&&224>c?(a=b.charCodeAt(e+1),f+=String.fromCharCode((c&31)<<6|a&63),e+=2):(a=b.charCodeAt(e+1),d=b.charCodeAt(e+2),f+=String.fromCharCode((c&15)<<12|(a&63)<<6|d&63),e+=3);return f},QM:function(b){b=b.K("name");console.assert(42===b.length,"Font file name is incorrect.");console.assert(null!=b,"Font file name is incorrect.");return window.df.Az(this.la,parseInt("0x"+b.substr(28,8)))},PM:function(b,f){console.assert(null!=f,"Font bbox file is corrupted.");var e=b.K("height");console.assert(null!=
e,"Height attribute is missing.");e=e.split(":");f.Kr(parseFloat(e[0]),parseFloat(e[1]))},RM:function(b,f){var e=b.K("units_per_em");null!=e&&f.AJ(parseInt(e))},OM:function(b,f){console.assert(null!=f,"Font bbox file is corrupted.");var e=b.K("bbox");console.assert(null!=e,"Character width is missing.");var c=e.split(":"),e=parseFloat(c[0]),c=parseFloat(c[1]),a=this.Vs(b.current.textContent);console.assert(0<a.length,"Char value is empty.");f.Ft(a,e,c)},_parse:function(b){do{for(var f=null;b.advance();){var e=
b.ua();"Font"===e?(f=new XODText.Ig,e=this.QM(b),this.PM(b,f),this.RM(b,f),this.mz[e]=f,b.oa()):"c"===e?this.OM(b,f):console.warn("Font XML parser has encountered a tag it can't process.")}b.Aa()}while(b.depth)}});XODText.Ig.Ma("XODText.Font");XODText.Yw.Ma("XODText.FontParser");
(function(b){function f(a){this.done=!1;this.worker=new Worker(b.o.Ez()+"CoreWorker.js");var c=null,e=null,h=this;this.index=a;this.worker.addEventListener("message",function(a){switch(a.data.command){case "done":h.done=!0;e=null;break;case "nextChunk":c=a.data.resources;e=a.data.dataString;break;default:throw Error("Unknown message command "+a.data.command+" from worker");}h.done?(h.Vt(null,[]),h.finish()):c&&e&&(h.Vt(e,c),e=c=null)},!1);this.vW()}var e=[],c=[],a="../core/";f.prototype={setData:function(a,
b,c){this.Vt=b;this.done=!1;this.worker.postMessage({command:"data",dataString:a,docId:c})},cancel:function(){this.worker.postMessage({command:"cancel"})},vW:function(){this.worker.postMessage({command:"options",imageScaling:b.o.fy,specialBlendSupported:b.utils.specialBlendSupported,continueWithoutPrompt:0<b.om})},RS:function(){this.worker.postMessage({command:"nextChunk"})},finish:function(){this.done=!0;if(c.length){var a=c[0];c.shift();this.setData(a.data,a.Vt,a.la);a.MR(this)}}};b.iR=function(a,
b,l,h){for(var k=e.length,m,n=0;n<k;++n)e[n].done&&(m=e[n]);m||4>k&&(m=e[k]=new f(k));m?(m.setData(a,h,b),l(m)):c.push({MR:l,data:a,la:b,Vt:h})};b.o=b.o||{};b.o.fy=!1;b.o.Ej=function(){return a};b.o.qV=function(d){d.lastIndexOf("/")!==d.length-1&&(d+="/");a=d}})(window);
(function(b){function f(a,d){var b=Error.apply(this,arguments);b.name=this.name="WorkerError";this.stack=b.stack;this.message=b.message;this.userMessage=d}function e(a){r.push(a);for(var d=0;d<p.length;++d)a(p[d])}function c(c,l,h){if(_.isUndefined(c))return null;var n,q=new Promise(function(a,d){e(function(){d(new f("The worker has encountered an error",b.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});var h={};g&&(h.workerHeapSize=g);k&&(h.pdfResourcePath=k);m&&(h.pdfAsmPath=m);var q=
window.location.href,r=q.lastIndexOf("/",q.lastIndexOf("#"));-1!==r&&(h.parentUrl=q.substring(0,r+1));n=new window.bM(c,l,h);n.YB.then(function(){a()},function(a){d(a)})}),r=new Promise(function(a,d){if(b.utils.isJSWorker&&b.jsworker&&b.jsworker.utils)"android"!==b.jsworker.platform&&"ios"!==b.jsworker.platform||!b.jsworker.utils.getResourcesDir?b.jsworker.utils.getHTMLContentPath?b.jsworker.utils.getHTMLContentPath(function(b){b?(b.endsWith("/")||(b+="/"),a(b+"js/html5/pdf/")):d(new f("Couldn't fetch resource file path."))}):
d(new f("Some functions required for fetching resources are not defined.")):b.jsworker.utils.getResourcesDir(function(b,c){b?d(b):a(c)});else{var c=new XMLHttpRequest;c.open("GET",window.o.Gu()+"pdfnet.res",!0);c.responseType="arraybuffer";c.onload=function(){200===c.status?a(c.response):d(new f("Couldn't fetch resource file.","error.ResourceLoadError"))};c.onerror=function(){d(new f("Network error","error.ResourceLoadError"))};c.send(null)}});return Promise.all([q,r]).then(function(a){return b.utils.isJSWorker&&
b.jsworker&&b.jsworker.utils?n.yS(a[1],h):n.xS(a[1],h)}).then(function(){"undefined"!==typeof a&&n.xB(a);"undefined"!==typeof d&&n.aw(d);return n})["catch"](function(a){a.message&&-1!==a.message.indexOf("Bad License Key")&&(a.userMessage="error.InvalidLicenseKey");throw a;})}var a,d,g,l;b.ow=b.utils.chromeHasSubzero;var h,k,m,n={},r=[],p=[],u=_.throttle(function(a){var d=r.length;p.push(a);for(var b=0;b<d;++b)r[b](a)},100,{trailing:!1});f.prototype=Object.create(Error.prototype,{constructor:{value:f,
writable:!0,configurable:!0}});b.o=b.o||{};var q=b.o,v;q.yu=function(){return v};q.oJ=function(a){v=a};q.EQ=function(){return new Promise(function(a){var d;try{d=window.parent&&window.parent.WebViewer?window.parent.WebViewer.l():void 0,a(d)}catch(b){window.parent.postMessage("requestl","*"),$(window).on("message.l",function(d){d=d.originalEvent;"object"===typeof d.data&&"responsel"===d.data.type&&(a(d.data.value),$(window).off("message.l"))})}})};q.xG=function(a){return a?Promise.resolve(a):b._trnDebugMode?
Promise.resolve():(""+location).split("").reverse().join("").match(/(moc\.nortfdp\.[^.]+\/\/|moc\.nortfdp\/\/)/)||b.jsworker?Promise.resolve(""):q.EQ().then(function(a){return a?a:null})};q.pH=function(a){return!a||50>a.length||"demo:"!==a.slice(0,5)?!1:0<a.slice(5,a.lastIndexOf(":")).match(/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/).length};var x={};q.kw=function(a){a.pdf&&(x.ri=a.pdf);a.office&&(x.qr=a.office)};q.Cf=function(){return x};q.xB=function(d){a=d;q.Cf().ri&&
q.Cf().ri.then(function(a){a.xB(d)})};q.aw=function(a){d=a;q.Cf().ri&&q.Cf().ri.then(function(a){a.aw(d)})};q.kP=function(a){b.utils.chromeHasSubzero&&(b.ow=a)};q.xH=function(){return b.ow};var A=b.PDFNet&&b.PDFNet.hasFullAPI;q.jP=function(a){A=a};q.xl=function(){return A};q.QU=function(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");h=a};q.uQ=function(){return m||q.Ej()+"pdf/"+(q.xl()?"full/":"lean/")};q.OU=function(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");m=a};q.Jz=function(){return h||q.Ej()+
"pdf/"+(q.xl()?"full/":"lean/")};q.PU=function(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");k=a};q.Gu=function(){return k||q.Ej()+"pdf/"};var B;q.JU=function(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");B=a};q.Ez=function(){return B||q.Ej()};q.vU=function(a){g=a};var z,y,w;q.JQ=function(){return y};q.vz=function(){w||(w=new Promise(function(a){if(b.utils.isJSWorker&&b.jsworker)a("jsworker");else if(b.utils.isPdfjs)a(void 0);else if(b.utils.isChrome){var d=!0,c=$('<embed name="simple_module" id="simple_module" width=0 height=0 src="'+
window.o.Gu()+'SimpleWorker.nmf" type="application/x-pnacl" style="position:absolute" />'),g=c[0];g.addEventListener("error",function(){d&&(console.log("PNaClError: PNaCl failed to load. Falling back to Emscripten."),d=!1);a("ems")},!0);$(document.body).prepend(c);var e=!1,l=function(d){e||(a(d),clearTimeout(h),c.remove(),e=!0)};if("undefined"===typeof g.postMessage)d&&(console.log("PNaClError: PNaCl seems to be disabled. Falling back to Emscripten."),d=!1),l("ems");else{var h,f=function(){d&&(console.log("PNaClError: PNaCl Timed out. Falling back to Emscripten."),
d=!1);l("ems")};g.addEventListener("progress",function(){clearTimeout(h);h=setTimeout(f,5E3)});g.addEventListener("message",function(a){clearTimeout(h);"T"===a.data?l("pnacl"):(console.log("PNaClError: PNaCl responded incorrectly. Falling back to Emscripten."),l("ems"))});g.postMessage("T");h=setTimeout(f,5E3)}}else a("ems")}));return w};q.nG=function(){return n.ky};q.tI=function(a,d,c){q.Cf().ri&&a===q.nG()||(_.isUndefined(c)&&(c={}),c.workerId="pdf_pnacl_module",c.pnaclWorkerPath=window.o.Jz()+
(b.ow?"PDFWorkerSubzero.nmf":"PDFWorker.nmf"),c.emsWorkerPath=window.o.Gu()+(g||k||m?"ResizableWorker.js":"PDFworker.js"),c.ZB=n,z=q.uI(a,d,c))};q.uI=function(a,d,c){c=c||{};var g;return new Promise(function(h,l){function n(a){function d(b){"object"===typeof b.data&&"action"in b.data&&"workerLoaded"===b.data.action&&(a.workerLoadingProgress&&a.workerLoadingProgress(1),g.removeEventListener("message",d))}var g;e(function(){l(new f("The worker has encountered an error",b.utils.ie?"error.EmsWorkerErrorIE":
"error.EmsWorkerError"))});g=c.emsWorkerPath.toLowerCase().startsWith("http")?new Worker(window.o.Ez()+"CORSWorker.js?isfull="+q.xl()+"&file="+encodeURIComponent(c.emsWorkerPath)+"&path="+encodeURIComponent(window.o.Jz().slice(0,-9))):new Worker(c.emsWorkerPath+"?isfull="+q.xl());g.onerror=u;y=!0;g.addEventListener("message",d,!1);var h=q.RK();q.vJ(h?18E3/h:0);return g}function k(a,d){h(a);c.ZB.ky=d}if("jsworker"===a)console.log("Attempting to load JSWorker"),b.utils.isJSWorker&&(g=b.jsworker.loadWorker(),
console.log("JSWorker loaded!"),g&&g.getProcessId(function(a){console.log("Loaded worker in process: "+a)})),y=!1,k(g,"jsworker");else if("pnacl"===a){_.isUndefined(c.useEmscriptenWhileLoading)&&(c.useEmscriptenWhileLoading=!q.xH());y=!1;var m=$('<embed name="'+c.workerId+'" id="'+c.workerId+'" width=0 height=0 src="'+c.pnaclWorkerPath+'" type="application/x-pnacl" style="position:absolute" />');$(document.body).prepend(m);var r=function(a){a.lengthComputable&&(c.useEmscriptenWhileLoading?(g.removeEventListener("progress",
r,!0),g.removeEventListener("loadend",v,!0),g.removeEventListener("crash",p,!0),g.removeEventListener("error",x,!0),k(n(d),"ems"),g.addEventListener("loadend",function(){y=!1;c.ZB.ky="pnacl";d.pnaclComplete&&d.pnaclComplete(g)})):d.workerLoadingProgress&&d.workerLoadingProgress(a.loaded/a.total))},v=function(){d.workerLoadingProgress&&d.workerLoadingProgress(1);q.vJ(1E3);k(g,"pnacl")},p=function(){l(new f("The Worker has Crashed.","error.PNaClCrashError"))},x=function(){console.log("PNaClError: Main worker encountered an error. Falling back to Emscripten.");
k(n(d),"ems")};g=m[0];g.addEventListener("progress",r,!0);g.addEventListener("loadend",v,!0);g.addEventListener("crash",p,!0);g.addEventListener("error",x,!0)}else"ems"===a&&k(n(d),"ems")})};q.UT=function(){z=null;x.ri=null;x.qr=null};q.qH=function(){return l};q.Qu=function(a,d,g){z||q.Cf().ri||q.tI(a,d);q.yu()||q.oJ(g);g=g||q.yu();if(q.Cf().ri){if(l&&g&&!q.pH(g))throw Error("PDFNet was already initialized in demo mode. For solution see pdftron.com/kb_demo_init. Note that calling initPDFWorkerTransports or creating WebViewer object will also call PDFNet.initialize so your license key should be used in all of these calls.");
}else l=!g,a=Promise.all([q.xG(g),z]).then(function(a){if(null===a[0]&&!b._trnDebugMode)throw a=Error("A license key for WebViewer is required. You can get a demo license key by downloading the trial from pdftron.com."),a.userMessage="A license key for WebViewer is required. You can get a demo license key by downloading the trial from pdftron.com.",a;l=q.pH(a[0]);return c(a[1],y,a[0])}),q.kw({pdf:a});return q.Cf().ri};b.zk=f;q.CN=e})(window);
(function(b){var f={PDFNetC:14,PDFNetCFull:14};b.gR=function(){return f.PDFNetC}})("undefined"===typeof window?this:window);
(function(b){var f=b._trnDebugMode||b.OX,e=b.KM?b.KM:{};b.utils=b.utils?b.utils:{};b.utils.warn=function(b,a){a||(a=b,b="default");f&&e[b]&&console.warn(b+": "+a)};b.utils.log=function(b,a){a||(a=b,b="default");f&&e[b]&&console.log(b+": "+a)};b.utils.error=function(b){f&&console.error(b);throw Error(b);};b.info=function(){};b.warn=function(c,a){b.utils.warn(c,a)};b.error=function(c){b.utils.error(c)}})("undefined"===typeof window?this:window);
(function(b){function f(a,d,b,g,h,l){this.gk=16;this.iL=288;this.status=0;this.root=null;this.m=0;var f=Array(this.gk+1),k,A,B,z,y,w,E,I=Array(this.gk+1),D,H,M,G=new e,L=Array(this.gk);z=Array(this.iL);var F,N=Array(this.gk+1),O,K,C;C=this.root=null;for(y=0;y<f.length;y++)f[y]=0;for(y=0;y<I.length;y++)I[y]=0;for(y=0;y<L.length;y++)L[y]=null;for(y=0;y<z.length;y++)z[y]=0;for(y=0;y<N.length;y++)N[y]=0;k=256<d?a[256]:this.gk;D=a;H=0;y=d;do f[D[H]]++,H++;while(0<--y);if(f[0]==d)this.root=null,this.status=
this.m=0;else{for(w=1;w<=this.gk&&0==f[w];w++);E=w;l<w&&(l=w);for(y=this.gk;0!=y&&0==f[y];y--);B=y;l>y&&(l=y);for(O=1<<w;w<y;w++,O<<=1)if(0>(O-=f[w])){this.status=2;this.m=l;return}if(0>(O-=f[y]))this.status=2,this.m=l;else{f[y]+=O;N[1]=w=0;D=f;H=1;for(M=2;0<--y;)N[M++]=w+=D[H++];D=a;y=H=0;do 0!=(w=D[H++])&&(z[N[w]++]=y);while(++y<d);d=N[B];N[0]=y=0;D=z;H=0;z=-1;F=I[0]=0;M=null;for(K=0;E<=B;E++)for(a=f[E];0<a--;){for(;E>F+I[1+z];){F+=I[1+z];z++;K=(K=B-F)>l?l:K;if((A=1<<(w=E-F))>a+1)for(A-=a+1,M=E;++w<
K&&!((A<<=1)<=f[++M]);)A-=f[M];F+w>k&&F<k&&(w=k-F);K=1<<w;I[1+z]=w;M=Array(K);for(A=0;A<K;A++)M[A]=new e;C=null==C?this.root=new c:C.next=new c;C.next=null;C.list=M;L[z]=M;0<z&&(N[z]=y,G.b=I[z],G.e=16+w,G.t=M,w=(y&(1<<F)-1)>>F-I[z],L[z-1][w].e=G.e,L[z-1][w].b=G.b,L[z-1][w].n=G.n,L[z-1][w].t=G.t)}G.b=E-F;H>=d?G.e=99:D[H]<b?(G.e=256>D[H]?16:15,G.n=D[H++]):(G.e=h[D[H]-b],G.n=g[D[H++]-b]);A=1<<E-F;for(w=y>>F;w<K;w+=A)M[w].e=G.e,M[w].b=G.b,M[w].n=G.n,M[w].t=G.t;for(w=1<<E-1;0!=(y&w);w>>=1)y^=w;for(y^=
w;(y&(1<<F)-1)!=N[z];)F-=I[z],z--}this.m=I[1];this.status=0!=O&&1!=B?1:0}}}function e(){this.n=this.b=this.e=0;this.t=null}function c(){this.list=this.next=null}var a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,
16385,24577],h=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];b.ym||(b.ym={});b.ym.zC=function(a){this.GW();this.Gw=a;this.Hw=0};b.ym.zC.prototype={getBytes:function(a){for(var d,b=Array(1024),c=[],g=0;g<a&&0<(d=this.FW(b,0,b.length));)c[c.length]=String.fromCharCode.apply(null,b.slice(0,d)),g+=d;return g?(this.Gw=this.Gw.slice(this.Hw),this.Hw=0,c.join("")):""},AW:function(){return this.Gw.length==this.Hw?-1:this.Gw.charCodeAt(this.Hw++)&
255},Dc:function(a){for(;this.fm<a;)this.$o|=this.AW()<<this.fm,this.fm+=8},Xc:function(d){return this.$o&a[d]},mc:function(a){this.$o>>=a;this.fm-=a},Fw:function(a,d,b){var c,g,e;if(0==b)return 0;for(e=0;;){this.Dc(this.Dg);g=this.dk.list[this.Xc(this.Dg)];for(c=g.e;16<c;){if(99==c)return-1;this.mc(g.b);c-=16;this.Dc(c);g=g.t[this.Xc(c)];c=g.e}this.mc(g.b);if(16==c)this.Wd&=32767,a[d+e++]=this.ck[this.Wd++]=g.n;else{if(15==c)break;this.Dc(c);this.Le=g.n+this.Xc(c);this.mc(c);this.Dc(this.Zo);g=this.zK.list[this.Xc(this.Zo)];
for(c=g.e;16<c;){if(99==c)return-1;this.mc(g.b);c-=16;this.Dc(c);g=g.t[this.Xc(c)];c=g.e}this.mc(g.b);this.Dc(c);this.gm=this.Wd-g.n-this.Xc(c);for(this.mc(c);0<this.Le&&e<b;)this.Le--,this.gm&=32767,this.Wd&=32767,a[d+e++]=this.ck[this.Wd++]=this.ck[this.gm++]}if(e==b)return b}this.bk=-1;return e},HW:function(a,d,b){var c;c=this.fm&7;this.mc(c);this.Dc(16);c=this.Xc(16);this.mc(16);this.Dc(16);if(c!=(~this.$o&65535))return-1;this.mc(16);this.Le=c;for(c=0;0<this.Le&&c<b;)this.Le--,this.Wd&=32767,
this.Dc(8),a[d+c++]=this.ck[this.Wd++]=this.Xc(8),this.mc(8);0==this.Le&&(this.bk=-1);return c},EW:function(a,b,c){if(null==this.Ew){var e,k=Array(288);for(e=0;144>e;e++)k[e]=8;for(;256>e;e++)k[e]=9;for(;280>e;e++)k[e]=7;for(;288>e;e++)k[e]=8;this.cC=7;e=new f(k,288,257,d,g,this.cC);if(0!=e.status)return alert("HufBuild error: "+e.status),-1;this.Ew=e.root;this.cC=e.m;for(e=0;30>e;e++)k[e]=5;this.bC=5;e=new f(k,30,0,l,h,this.bC);if(1<e.status)return this.Ew=null,alert("HufBuild error: "+e.status),
-1;this.BW=e.root;this.bC=e.m}this.dk=this.Ew;this.zK=this.BW;this.Dg=this.cC;this.Zo=this.bC;return this.Fw(a,b,c)},DW:function(a,b,c){var e,u,q,v,x,A,B,z=Array(316);for(e=0;e<z.length;e++)z[e]=0;this.Dc(5);A=257+this.Xc(5);this.mc(5);this.Dc(5);B=1+this.Xc(5);this.mc(5);this.Dc(4);e=4+this.Xc(4);this.mc(4);if(286<A||30<B)return-1;for(u=0;u<e;u++)this.Dc(3),z[k[u]]=this.Xc(3),this.mc(3);for(;19>u;u++)z[k[u]]=0;this.Dg=7;u=new f(z,19,19,null,null,this.Dg);if(0!=u.status)return-1;this.dk=u.root;this.Dg=
u.m;v=A+B;for(e=q=0;e<v;)if(this.Dc(this.Dg),x=this.dk.list[this.Xc(this.Dg)],u=x.b,this.mc(u),u=x.n,16>u)z[e++]=q=u;else if(16==u){this.Dc(2);u=3+this.Xc(2);this.mc(2);if(e+u>v)return-1;for(;0<u--;)z[e++]=q}else{17==u?(this.Dc(3),u=3+this.Xc(3),this.mc(3)):(this.Dc(7),u=11+this.Xc(7),this.mc(7));if(e+u>v)return-1;for(;0<u--;)z[e++]=0;q=0}this.Dg=9;u=new f(z,A,257,d,g,this.Dg);0==this.Dg&&(u.status=1);if(0!=u.status)return-1;this.dk=u.root;this.Dg=u.m;for(e=0;e<B;e++)z[e]=z[e+A];this.Zo=6;u=new f(z,
B,0,l,h,this.Zo);this.zK=u.root;this.Zo=u.m;return 0==this.Zo&&257<A||0!=u.status?-1:this.Fw(a,b,c)},GW:function(){null==this.ck&&(this.ck=Array(65536));this.fm=this.$o=this.Wd=0;this.bk=-1;this.Dw=!1;this.Le=this.gm=0;this.Ew=this.dk=null},FW:function(a,d,b){var c,g;for(c=0;c<b&&(!this.Dw||-1!=this.bk);){if(0<this.Le){if(0!=this.bk)for(;0<this.Le&&c<b;)this.Le--,this.gm&=32767,this.Wd&=32767,a[d+c++]=this.ck[this.Wd++]=this.ck[this.gm++];else{for(;0<this.Le&&c<b;)this.Le--,this.Wd&=32767,this.Dc(8),
a[d+c++]=this.ck[this.Wd++]=this.Xc(8),this.mc(8);0==this.Le&&(this.bk=-1)}if(c==b)break}if(-1==this.bk){if(this.Dw)break;this.Dc(1);0!=this.Xc(1)&&(this.Dw=!0);this.mc(1);this.Dc(2);this.bk=this.Xc(2);this.mc(2);this.dk=null;this.Le=0}switch(this.bk){case 0:g=this.HW(a,d+c,b-c);break;case 1:g=null!=this.dk?this.Fw(a,d+c,b-c):this.EW(a,d+c,b-c);break;case 2:g=null!=this.dk?this.Fw(a,d+c,b-c):this.DW(a,d+c,b-c);break;default:g=-1}if(-1==g)return this.Dw?0:-1;c+=g}return c}};b.ym.inflate=function(a){return(new b.ym.zC(a)).getBytes(4E9)}})(self);
!function(b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).gT=b()}(function(){return function f(e,c,a){function d(l,k){if(!c[l]){if(!e[l]){var m="function"==typeof require&&require;if(!k&&m)return m(l,!0);if(g)return g(l,!0);m=Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m;}m=c[l]={exports:{}};e[l][0].call(m.exports,
function(a){var c=e[l][1][a];return d(c?c:a)},m,m.exports,f,e,c,a)}return c[l].exports}for(var g="function"==typeof require&&require,l=0;l<a.length;l++)d(a[l]);return d}({1:[function(f,e,c){f="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;c.assign=function(a){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var c=d.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])}}return a};
c.NJ=function(a,d){return a.length===d?a:a.subarray?a.subarray(0,d):(a.length=d,a)};var a={Tk:function(a,d,c,e,f){if(d.subarray&&a.subarray)return void a.set(d.subarray(c,c+e),f);for(var n=0;n<e;n++)a[f+n]=d[c+n]},UF:function(a){var d,c,e,f,n;d=e=0;for(c=a.length;d<c;d++)e+=a[d].length;n=new Uint8Array(e);d=e=0;for(c=a.length;d<c;d++)f=a[d],n.set(f,e),e+=f.length;return n}},d={Tk:function(a,d,c,e,f){for(var n=0;n<e;n++)a[f+n]=d[c+n]},UF:function(a){return[].concat.apply([],a)}};c.pV=function(e){e?
(c.hk=Uint8Array,c.ep=Uint16Array,c.fp=Int32Array,c.assign(c,a)):(c.hk=Array,c.ep=Array,c.fp=Array,c.assign(c,d))};c.pV(f)},{}],2:[function(f,e,c){function a(a,c){if(65537>c&&(a.subarray&&l||!a.subarray&&g))return String.fromCharCode.apply(null,d.NJ(a,c));for(var e="",h=0;h<c;h++)e+=String.fromCharCode(a[h]);return e}var d=f("./common"),g=!0,l=!0,h=new d.hk(256);for(f=0;256>f;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;c.JV=function(a){var c,e,g,l,h,f=a.length,v=0;for(l=
0;l<f;l++)e=a.charCodeAt(l),55296===(64512&e)&&l+1<f&&(g=a.charCodeAt(l+1),56320===(64512&g)&&(e=65536+(e-55296<<10)+(g-56320),l++)),v+=128>e?1:2048>e?2:65536>e?3:4;c=new d.hk(v);for(l=h=0;h<v;l++)e=a.charCodeAt(l),55296===(64512&e)&&l+1<f&&(g=a.charCodeAt(l+1),56320===(64512&g)&&(e=65536+(e-55296<<10)+(g-56320),l++)),128>e?c[h++]=e:2048>e?(c[h++]=192|e>>>6,c[h++]=128|63&e):65536>e?(c[h++]=224|e>>>12,c[h++]=128|e>>>6&63,c[h++]=128|63&e):(c[h++]=240|e>>>18,c[h++]=128|e>>>12&63,c[h++]=128|e>>>6&63,
c[h++]=128|63&e);return c};c.SX=function(d){return a(d,d.length)};c.FN=function(a){for(var c=new d.hk(a.length),e=0,g=c.length;e<g;e++)c[e]=a.charCodeAt(e);return c};c.HN=function(d,c){var e,g,l,f,q=c||d.length,v=Array(2*q);for(e=g=0;e<q;)if(l=d[e++],128>l)v[g++]=l;else if(f=h[l],4<f)v[g++]=65533,e+=f-1;else{for(l&=2===f?31:3===f?15:7;1<f&&e<q;)l=l<<6|63&d[e++],f--;1<f?v[g++]=65533:65536>l?v[g++]=l:(l-=65536,v[g++]=55296|l>>10&1023,v[g++]=56320|1023&l)}return a(v,g)};c.nW=function(a,d){var c;d=d||
a.length;d>a.length&&(d=a.length);for(c=d-1;0<=c&&128===(192&a[c]);)c--;return 0>c?d:0===c?d:c+h[a[c]]>d?c:d}},{"./common":1}],3:[function(f,e){e.exports=function(c,a,d,e){var l=65535&c|0;c=c>>>16&65535|0;for(var h;0!==d;){h=2E3<d?2E3:d;d-=h;do l=l+a[e++]|0,c=c+l|0;while(--h);l%=65521;c%=65521}return l|c<<16|0}},{}],4:[function(f,e){e.exports={EC:0,EX:1,FC:2,BX:3,Cs:4,tX:5,IX:6,Gm:0,Ds:1,hM:2,yX:-1,GX:-2,uX:-3,gM:-5,DX:0,rX:1,qX:9,vX:-1,zX:1,CX:2,FX:3,AX:4,wX:0,sX:0,HX:1,JX:2,xX:8}},{}],5:[function(f,
e){var c=function(){for(var a,d=[],c=0;256>c;c++){a=c;for(var e=0;8>e;e++)a=1&a?3988292384^a>>>1:a>>>1;d[c]=a}return d}();e.exports=function(a,d,e,l){e=l+e;for(a^=-1;l<e;l++)a=a>>>8^c[255&(a^d[l])];return a^-1}},{}],6:[function(f,e){e.exports=function(){this.cT=this.yW=this.time=this.text=0;this.Lc=null;this.ez=0;this.Ay=this.name="";this.wR=0;this.done=!1}},{}],7:[function(f,e){e.exports=function(c,a){var d,e,l,h,f,m,n,r,p,u,q,v,x,A,B,z,y,w,E,I,D,H,M,G;d=c.state;e=c.Oj;M=c.input;l=e+(c.Ue-5);h=c.Sd;
G=c.output;f=h-(a-c.Jc);m=h+(c.Jc-257);n=d.eu;r=d.Ke;p=d.Ii;u=d.Je;q=d.window;v=d.Hj;x=d.vc;A=d.ji;B=d.Zk;z=(1<<d.kh)-1;y=(1<<d.wn)-1;a:do b:for(15>x&&(v+=M[e++]<<x,x+=8,v+=M[e++]<<x,x+=8),w=A[v&z];;){if(E=w>>>24,v>>>=E,x-=E,E=w>>>16&255,0===E)G[h++]=65535&w;else{if(!(16&E)){if(0===(64&E)){w=A[(65535&w)+(v&(1<<E)-1)];continue b}if(32&E){d.mode=12;break a}c.eb="invalid literal/length code";d.mode=30;break a}I=65535&w;(E&=15)&&(x<E&&(v+=M[e++]<<x,x+=8),I+=v&(1<<E)-1,v>>>=E,x-=E);15>x&&(v+=M[e++]<<x,
x+=8,v+=M[e++]<<x,x+=8);w=B[v&y];c:for(;;){if(E=w>>>24,v>>>=E,x-=E,E=w>>>16&255,!(16&E)){if(0===(64&E)){w=B[(65535&w)+(v&(1<<E)-1)];continue c}c.eb="invalid distance code";d.mode=30;break a}if(D=65535&w,E&=15,x<E&&(v+=M[e++]<<x,x+=8,x<E&&(v+=M[e++]<<x,x+=8)),D+=v&(1<<E)-1,D>n){c.eb="invalid distance too far back";d.mode=30;break a}if(v>>>=E,x-=E,E=h-f,D>E){if(E=D-E,E>p&&d.mB){c.eb="invalid distance too far back";d.mode=30;break a}if(w=0,H=q,0===u){if(w+=r-E,E<I){I-=E;do G[h++]=q[w++];while(--E);w=
h-D;H=G}}else if(u<E){if(w+=r+u-E,E-=u,E<I){I-=E;do G[h++]=q[w++];while(--E);if(w=0,u<I){E=u;I-=E;do G[h++]=q[w++];while(--E);w=h-D;H=G}}}else if(w+=u-E,E<I){I-=E;do G[h++]=q[w++];while(--E);w=h-D;H=G}for(;2<I;)G[h++]=H[w++],G[h++]=H[w++],G[h++]=H[w++],I-=3;I&&(G[h++]=H[w++],1<I&&(G[h++]=H[w++]))}else{w=h-D;do G[h++]=G[w++],G[h++]=G[w++],G[h++]=G[w++],I-=3;while(2<I);I&&(G[h++]=G[w++],1<I&&(G[h++]=G[w++]))}break}}break}while(e<l&&h<m);I=x>>3;e-=I;x-=I<<3;c.Oj=e;c.Sd=h;c.Ue=e<l?5+(l-e):5-(e-l);c.Jc=
h<m?257+(m-h):257-(h-m);d.Hj=v&(1<<x)-1;d.vc=x}},{}],8:[function(f,e,c){function a(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function d(){this.mode=0;this.last=!1;this.wrap=0;this.jA=!1;this.total=this.check=this.eu=this.$b=0;this.head=null;this.Je=this.Ii=this.Ke=this.Xo=0;this.window=null;this.Lc=this.offset=this.length=this.vc=this.Hj=0;this.Zk=this.ji=null;this.Ef=this.mr=this.lo=this.QH=this.wn=this.kh=0;this.next=null;this.Qd=new p.ep(320);this.Yr=new p.ep(288);this.sF=
this.EH=null;this.rW=this.back=this.mB=0}function g(a){var d;return a&&a.state?(d=a.state,a.UB=a.Sr=d.total=0,a.eb="",d.wrap&&(a.Sk=1&d.wrap),d.mode=z,d.last=0,d.jA=0,d.eu=32768,d.head=null,d.Hj=0,d.vc=0,d.ji=d.EH=new p.fp(y),d.Zk=d.sF=new p.fp(w),d.mB=1,d.back=-1,A):B}function l(a){var d;return a&&a.state?(d=a.state,d.Ke=0,d.Ii=0,d.Je=0,g(a)):B}function h(a,d){var c,e;return a&&a.state?(e=a.state,0>d?(c=0,d=-d):(c=(d>>4)+1,48>d&&(d&=15)),d&&(8>d||15<d)?B:(null!==e.window&&e.Xo!==d&&(e.window=null),
e.wrap=c,e.Xo=d,l(a))):B}function k(a,c){var e,g;return a?(g=new d,a.state=g,g.window=null,e=h(a,c),e!==A&&(a.state=null),e):B}function m(a,d,c,e){var g;a=a.state;return null===a.window&&(a.Ke=1<<a.Xo,a.Je=0,a.Ii=0,a.window=new p.hk(a.Ke)),e>=a.Ke?(p.Tk(a.window,d,c-a.Ke,a.Ke,0),a.Je=0,a.Ii=a.Ke):(g=a.Ke-a.Je,g>e&&(g=e),p.Tk(a.window,d,c-e,g,a.Je),e-=g,e?(p.Tk(a.window,d,c-e,e,0),a.Je=e,a.Ii=a.Ke):(a.Je+=g,a.Je===a.Ke&&(a.Je=0),a.Ii<a.Ke&&(a.Ii+=g))),0}var n,r,p=f("../utils/common"),u=f("./adler32"),
q=f("./crc32"),v=f("./inffast"),x=f("./inftrees"),A=0,B=-2,z=1,y=852,w=592,E=!0;c.QY=l;c.RY=h;c.SY=g;c.OY=function(a){return k(a,15)};c.HR=k;c.inflate=function(d,c){var e,g,l,h,f,k,y,w,C,Q,U,P,ha,S,R,V,X,ia,ja,W,aa,da,Y=0,Z=new p.hk(4),ma=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!d||!d.state||!d.output||!d.input&&0!==d.Ue)return B;e=d.state;12===e.mode&&(e.mode=13);f=d.Sd;l=d.output;y=d.Jc;h=d.Oj;g=d.input;k=d.Ue;w=e.Hj;C=e.vc;Q=k;U=y;aa=A;a:for(;;)switch(e.mode){case z:if(0===e.wrap){e.mode=
13;break}for(;16>C;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}if(2&e.wrap&&35615===w){e.check=0;Z[0]=255&w;Z[1]=w>>>8&255;e.check=q(e.check,Z,2,0);C=w=0;e.mode=2;break}if(e.$b=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&w)<<8)+(w>>8))%31){d.eb="incorrect header check";e.mode=30;break}if(8!==(15&w)){d.eb="unknown compression method";e.mode=30;break}if(w>>>=4,C-=4,W=(15&w)+8,0===e.Xo)e.Xo=W;else if(W>e.Xo){d.eb="invalid window size";e.mode=30;break}e.eu=1<<W;d.Sk=e.check=1;e.mode=512&w?10:12;C=w=0;
break;case 2:for(;16>C;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}if(e.$b=w,8!==(255&e.$b)){d.eb="unknown compression method";e.mode=30;break}if(57344&e.$b){d.eb="unknown header flags set";e.mode=30;break}e.head&&(e.head.text=w>>8&1);512&e.$b&&(Z[0]=255&w,Z[1]=w>>>8&255,e.check=q(e.check,Z,2,0));C=w=0;e.mode=3;case 3:for(;32>C;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}e.head&&(e.head.time=w);512&e.$b&&(Z[0]=255&w,Z[1]=w>>>8&255,Z[2]=w>>>16&255,Z[3]=w>>>24&255,e.check=q(e.check,Z,4,0));C=w=0;e.mode=4;
case 4:for(;16>C;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}e.head&&(e.head.yW=255&w,e.head.cT=w>>8);512&e.$b&&(Z[0]=255&w,Z[1]=w>>>8&255,e.check=q(e.check,Z,2,0));C=w=0;e.mode=5;case 5:if(1024&e.$b){for(;16>C;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}e.length=w;e.head&&(e.head.ez=w);512&e.$b&&(Z[0]=255&w,Z[1]=w>>>8&255,e.check=q(e.check,Z,2,0));C=w=0}else e.head&&(e.head.Lc=null);e.mode=6;case 6:if(1024&e.$b&&(P=e.length,P>k&&(P=k),P&&(e.head&&(W=e.head.ez-e.length,e.head.Lc||(e.head.Lc=Array(e.head.ez)),
p.Tk(e.head.Lc,g,h,P,W)),512&e.$b&&(e.check=q(e.check,g,P,h)),k-=P,h+=P,e.length-=P),e.length))break a;e.length=0;e.mode=7;case 7:if(2048&e.$b){if(0===k)break a;P=0;do W=g[h+P++],e.head&&W&&65536>e.length&&(e.head.name+=String.fromCharCode(W));while(W&&P<k);if(512&e.$b&&(e.check=q(e.check,g,P,h)),k-=P,h+=P,W)break a}else e.head&&(e.head.name=null);e.length=0;e.mode=8;case 8:if(4096&e.$b){if(0===k)break a;P=0;do W=g[h+P++],e.head&&W&&65536>e.length&&(e.head.Ay+=String.fromCharCode(W));while(W&&P<k);
if(512&e.$b&&(e.check=q(e.check,g,P,h)),k-=P,h+=P,W)break a}else e.head&&(e.head.Ay=null);e.mode=9;case 9:if(512&e.$b){for(;16>C;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}if(w!==(65535&e.check)){d.eb="header crc mismatch";e.mode=30;break}C=w=0}e.head&&(e.head.wR=e.$b>>9&1,e.head.done=!0);d.Sk=e.check=0;e.mode=12;break;case 10:for(;32>C;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}d.Sk=e.check=a(w);C=w=0;e.mode=11;case 11:if(0===e.jA)return d.Sd=f,d.Jc=y,d.Oj=h,d.Ue=k,e.Hj=w,e.vc=C,2;d.Sk=e.check=1;e.mode=
12;case 12:if(5===c||6===c)break a;case 13:if(e.last){w>>>=7&C;C-=7&C;e.mode=27;break}for(;3>C;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}switch(e.last=1&w,w>>>=1,--C,3&w){case 0:e.mode=14;break;case 1:S=e;if(E){n=new p.fp(512);r=new p.fp(32);for(V=0;144>V;)S.Qd[V++]=8;for(;256>V;)S.Qd[V++]=9;for(;280>V;)S.Qd[V++]=7;for(;288>V;)S.Qd[V++]=8;x(1,S.Qd,0,288,n,0,S.Yr,{vc:9});for(V=0;32>V;)S.Qd[V++]=5;x(2,S.Qd,0,32,r,0,S.Yr,{vc:5});E=!1}S.ji=n;S.kh=9;S.Zk=r;S.wn=5;if(e.mode=20,6===c){w>>>=2;C-=2;break a}break;
case 2:e.mode=17;break;case 3:d.eb="invalid block type",e.mode=30}w>>>=2;C-=2;break;case 14:w>>>=7&C;for(C-=7&C;32>C;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}if((65535&w)!==(w>>>16^65535)){d.eb="invalid stored block lengths";e.mode=30;break}if(e.length=65535&w,w=0,C=0,e.mode=15,6===c)break a;case 15:e.mode=16;case 16:if(P=e.length){if(P>k&&(P=k),P>y&&(P=y),0===P)break a;p.Tk(l,g,h,P,f);k-=P;h+=P;y-=P;f+=P;e.length-=P;break}e.mode=12;break;case 17:for(;14>C;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}if(e.lo=
(31&w)+257,w>>>=5,C-=5,e.mr=(31&w)+1,w>>>=5,C-=5,e.QH=(15&w)+4,w>>>=4,C-=4,286<e.lo||30<e.mr){d.eb="too many length or distance symbols";e.mode=30;break}e.Ef=0;e.mode=18;case 18:for(;e.Ef<e.QH;){for(;3>C;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}e.Qd[ma[e.Ef++]]=7&w;w>>>=3;C-=3}for(;19>e.Ef;)e.Qd[ma[e.Ef++]]=0;if(e.ji=e.EH,e.kh=7,da={vc:e.kh},aa=x(0,e.Qd,0,19,e.ji,0,e.Yr,da),e.kh=da.vc,aa){d.eb="invalid code lengths set";e.mode=30;break}e.Ef=0;e.mode=19;case 19:for(;e.Ef<e.lo+e.mr;){for(;Y=e.ji[w&
(1<<e.kh)-1],R=Y>>>24,V=65535&Y,!(R<=C);){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}if(16>V)w>>>=R,C-=R,e.Qd[e.Ef++]=V;else{if(16===V){for(S=R+2;C<S;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}if(w>>>=R,C-=R,0===e.Ef){d.eb="invalid bit length repeat";e.mode=30;break}W=e.Qd[e.Ef-1];P=3+(3&w);w>>>=2;C-=2}else if(17===V){for(S=R+3;C<S;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}w>>>=R;C-=R;W=0;P=3+(7&w);w>>>=3;C-=3}else{for(S=R+7;C<S;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}w>>>=R;C-=R;W=0;P=11+(127&w);w>>>=
7;C-=7}if(e.Ef+P>e.lo+e.mr){d.eb="invalid bit length repeat";e.mode=30;break}for(;P--;)e.Qd[e.Ef++]=W}}if(30===e.mode)break;if(0===e.Qd[256]){d.eb="invalid code -- missing end-of-block";e.mode=30;break}if(e.kh=9,da={vc:e.kh},aa=x(1,e.Qd,0,e.lo,e.ji,0,e.Yr,da),e.kh=da.vc,aa){d.eb="invalid literal/lengths set";e.mode=30;break}if(e.wn=6,e.Zk=e.sF,da={vc:e.wn},aa=x(2,e.Qd,e.lo,e.mr,e.Zk,0,e.Yr,da),e.wn=da.vc,aa){d.eb="invalid distances set";e.mode=30;break}if(e.mode=20,6===c)break a;case 20:e.mode=21;
case 21:if(6<=k&&258<=y){d.Sd=f;d.Jc=y;d.Oj=h;d.Ue=k;e.Hj=w;e.vc=C;v(d,U);f=d.Sd;l=d.output;y=d.Jc;h=d.Oj;g=d.input;k=d.Ue;w=e.Hj;C=e.vc;12===e.mode&&(e.back=-1);break}for(e.back=0;Y=e.ji[w&(1<<e.kh)-1],R=Y>>>24,S=Y>>>16&255,V=65535&Y,!(R<=C);){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}if(S&&0===(240&S)){X=R;ia=S;for(ja=V;Y=e.ji[ja+((w&(1<<X+ia)-1)>>X)],R=Y>>>24,S=Y>>>16&255,V=65535&Y,!(X+R<=C);){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}w>>>=X;C-=X;e.back+=X}if(w>>>=R,C-=R,e.back+=R,e.length=V,0===S){e.mode=
26;break}if(32&S){e.back=-1;e.mode=12;break}if(64&S){d.eb="invalid literal/length code";e.mode=30;break}e.Lc=15&S;e.mode=22;case 22:if(e.Lc){for(S=e.Lc;C<S;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}e.length+=w&(1<<e.Lc)-1;w>>>=e.Lc;C-=e.Lc;e.back+=e.Lc}e.rW=e.length;e.mode=23;case 23:for(;Y=e.Zk[w&(1<<e.wn)-1],R=Y>>>24,S=Y>>>16&255,V=65535&Y,!(R<=C);){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}if(0===(240&S)){X=R;ia=S;for(ja=V;Y=e.Zk[ja+((w&(1<<X+ia)-1)>>X)],R=Y>>>24,S=Y>>>16&255,V=65535&Y,!(X+R<=C);){if(0===
k)break a;k--;w+=g[h++]<<C;C+=8}w>>>=X;C-=X;e.back+=X}if(w>>>=R,C-=R,e.back+=R,64&S){d.eb="invalid distance code";e.mode=30;break}e.offset=V;e.Lc=15&S;e.mode=24;case 24:if(e.Lc){for(S=e.Lc;C<S;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}e.offset+=w&(1<<e.Lc)-1;w>>>=e.Lc;C-=e.Lc;e.back+=e.Lc}if(e.offset>e.eu){d.eb="invalid distance too far back";e.mode=30;break}e.mode=25;case 25:if(0===y)break a;if(P=U-y,e.offset>P){if(P=e.offset-P,P>e.Ii&&e.mB){d.eb="invalid distance too far back";e.mode=30;break}P>
e.Je?(P-=e.Je,ha=e.Ke-P):ha=e.Je-P;P>e.length&&(P=e.length);S=e.window}else S=l,ha=f-e.offset,P=e.length;P>y&&(P=y);y-=P;e.length-=P;do l[f++]=S[ha++];while(--P);0===e.length&&(e.mode=21);break;case 26:if(0===y)break a;l[f++]=e.length;y--;e.mode=21;break;case 27:if(e.wrap){for(;32>C;){if(0===k)break a;k--;w|=g[h++]<<C;C+=8}if(U-=y,d.Sr+=U,e.total+=U,U&&(d.Sk=e.check=e.$b?q(e.check,l,U,f-U):u(e.check,l,U,f-U)),U=y,(e.$b?w:a(w))!==e.check){d.eb="incorrect data check";e.mode=30;break}C=w=0}e.mode=28;
case 28:if(e.wrap&&e.$b){for(;32>C;){if(0===k)break a;k--;w+=g[h++]<<C;C+=8}if(w!==(4294967295&e.total)){d.eb="incorrect length check";e.mode=30;break}C=w=0}e.mode=29;case 29:aa=1;break a;case 30:aa=-3;break a;case 31:return-4;default:return B}return d.Sd=f,d.Jc=y,d.Oj=h,d.Ue=k,e.Hj=w,e.vc=C,(e.Ke||U!==d.Jc&&30>e.mode&&(27>e.mode||4!==c))&&m(d,d.output,d.Sd,U-d.Jc)?(e.mode=31,-4):(Q-=d.Ue,U-=d.Jc,d.UB+=Q,d.Sr+=U,e.total+=U,e.wrap&&U&&(d.Sk=e.check=e.$b?q(e.check,l,U,d.Sd-U):u(e.check,l,U,d.Sd-U)),
d.yO=e.vc+(e.last?64:0)+(12===e.mode?128:0)+(20===e.mode||15===e.mode?256:0),(0===Q&&0===U||4===c)&&aa===A&&(aa=-5),aa)};c.FR=function(a){if(!a||!a.state)return B;var d=a.state;return d.window&&(d.window=null),a.state=null,A};c.GR=function(a,d){var c;a&&a.state&&(c=a.state,0===(2&c.wrap)||(c.head=d,d.done=!1))};c.IR=function(a,d){var c,e,g=d.length;return a&&a.state?(c=a.state,0!==c.wrap&&11!==c.mode?B:11===c.mode&&(e=1,e=u(e,d,g,0),e!==c.check)?-3:m(a,d,g,g)?(c.mode=31,-4):(c.jA=1,A)):B};c.NY="pako inflate (from Nodeca project)"},
{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(f,e){var c=f("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,
26,26,27,27,28,28,29,29,64,64];e.exports=function(e,f,m,n,r,p,u,q){var v,x,A,B,z,y,w,E,I=q.vc,D,H,M,G,L,F,N=0,O,K=null,C=0,Q=new c.ep(16);B=new c.ep(16);var U=null,P=0;for(D=0;15>=D;D++)Q[D]=0;for(H=0;H<n;H++)Q[f[m+H]]++;G=I;for(M=15;1<=M&&0===Q[M];M--);if(G>M&&(G=M),0===M)return r[p++]=20971520,r[p++]=20971520,q.vc=1,0;for(I=1;I<M&&0===Q[I];I++);G<I&&(G=I);for(D=v=1;15>=D;D++)if(v<<=1,v-=Q[D],0>v)return-1;if(0<v&&(0===e||1!==M))return-1;B[1]=0;for(D=1;15>D;D++)B[D+1]=B[D]+Q[D];for(H=0;H<n;H++)0!==
f[m+H]&&(u[B[f[m+H]]++]=H);if(0===e?(K=U=u,z=19):1===e?(K=a,C-=257,U=d,P-=257,z=256):(K=g,U=l,z=-1),O=0,H=0,D=I,B=p,L=G,F=0,A=-1,N=1<<G,n=N-1,1===e&&852<N||2===e&&592<N)return 1;for(;;){y=D-F;u[H]<z?(w=0,E=u[H]):u[H]>z?(w=U[P+u[H]],E=K[C+u[H]]):(w=96,E=0);v=1<<D-F;I=x=1<<L;do x-=v,r[B+(O>>F)+x]=y<<24|w<<16|E|0;while(0!==x);for(v=1<<D-1;O&v;)v>>=1;if(0!==v?(O&=v-1,O+=v):O=0,H++,0===--Q[D]){if(D===M)break;D=f[m+u[H]]}if(D>G&&(O&n)!==A){0===F&&(F=G);B+=I;L=D-F;for(v=1<<L;L+F<M&&(v-=Q[L+F],!(0>=v));)L++,
v<<=1;if(N+=1<<L,1===e&&852<N||2===e&&592<N)return 1;A=O&n;r[A]=G<<24|L<<16|B-p|0}}return 0!==O&&(r[B+O]=D-F<<24|4194304),q.vc=G,0}},{"../utils/common":1}],10:[function(f,e){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(f,e){e.exports=function(){this.input=null;this.UB=this.Ue=this.Oj=0;this.output=null;this.Sr=this.Jc=this.Sd=0;this.eb="";this.state=
null;this.yO=2;this.Sk=0}},{}],"/lib/inflate.js":[function(f,e,c){function a(d){if(!(this instanceof a))return new a(d);var c=this.options=l.assign({UN:16384,hd:0,to:""},d||{});c.raw&&0<=c.hd&&16>c.hd&&(c.hd=-c.hd,0===c.hd&&(c.hd=-15));!(0<=c.hd&&16>c.hd)||d&&d.hd||(c.hd+=32);15<c.hd&&48>c.hd&&0===(15&c.hd)&&(c.hd|=15);this.cz=0;this.eb="";this.ended=!1;this.Wt=[];this.Yl=new n;this.Yl.Jc=0;d=g.HR(this.Yl,c.hd);if(d!==k.Gm)throw Error(m[d]);this.header=new r;g.GR(this.Yl,this.header)}function d(d,
c){var e=new a(c);if(e.push(d,!0),e.cz)throw e.eb||m[e.cz];return e.result}var g=f("./zlib/inflate"),l=f("./utils/common"),h=f("./utils/strings"),k=f("./zlib/constants"),m=f("./zlib/messages"),n=f("./zlib/zstream"),r=f("./zlib/gzheader"),p=Object.prototype.toString;a.prototype.push=function(a,d){var c,e,f,n,m,r,w=this.Yl,E=this.options.UN,I=this.options.Py,D=!1;if(this.ended)return!1;e=d===~~d?d:!0===d?k.Cs:k.EC;"string"==typeof a?w.input=h.FN(a):"[object ArrayBuffer]"===p.call(a)?w.input=new Uint8Array(a):
w.input=a;w.Oj=0;w.Ue=w.input.length;do{if(0===w.Jc&&(w.output=new l.hk(E),w.Sd=0,w.Jc=E),c=g.inflate(w,k.EC),c===k.hM&&I&&(r="string"==typeof I?h.JV(I):"[object ArrayBuffer]"===p.call(I)?new Uint8Array(I):I,c=g.IR(this.Yl,r)),c===k.gM&&!0===D&&(c=k.Gm,D=!1),c!==k.Ds&&c!==k.Gm)return this.MA(c),this.ended=!0,!1;w.Sd&&(0!==w.Jc&&c!==k.Ds&&(0!==w.Ue||e!==k.Cs&&e!==k.FC)||("string"===this.options.to?(f=h.nW(w.output,w.Sd),n=w.Sd-f,m=h.HN(w.output,f),w.Sd=n,w.Jc=E-n,n&&l.Tk(w.output,w.output,f,n,0),this.XH(m)):
this.XH(l.NJ(w.output,w.Sd))));0===w.Ue&&0===w.Jc&&(D=!0)}while((0<w.Ue||0===w.Jc)&&c!==k.Ds);return c===k.Ds&&(e=k.Cs),e===k.Cs?(c=g.FR(this.Yl),this.MA(c),this.ended=!0,c===k.Gm):e!==k.FC||(this.MA(k.Gm),w.Jc=0,!0)};a.prototype.XH=function(a){this.Wt.push(a)};a.prototype.MA=function(a){a===k.Gm&&("string"===this.options.to?this.result=this.Wt.join(""):this.result=l.UF(this.Wt));this.Wt=[];this.cz=a;this.eb=this.Yl.eb};c.XW=a;c.inflate=d;c.PY=function(a,c){return c=c||{},c.raw=!0,d(a,c)};c.RZ=d},
{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")});
(function(b){b.Eg={ej:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(f){for(var e="",c,a,d,g,l,h,k=0;k<f.length;)c=f.charCodeAt(k++),a=f.charCodeAt(k++),d=f.charCodeAt(k++),g=c>>2,c=(c&3)<<4|a>>4,l=(a&15)<<2|d>>6,h=d&63,isNaN(a)?l=h=64:isNaN(d)&&(h=64),e=e+b.Eg.ej.charAt(g)+b.Eg.ej.charAt(c)+b.Eg.ej.charAt(l)+b.Eg.ej.charAt(h);return e},decode:function(f){var e="",c,a,d,g,l,h=0;for(f=f.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<f.length;)c=b.Eg.ej.indexOf(f.charAt(h++)),
a=b.Eg.ej.indexOf(f.charAt(h++)),g=b.Eg.ej.indexOf(f.charAt(h++)),l=b.Eg.ej.indexOf(f.charAt(h++)),c=c<<2|a>>4,a=(a&15)<<4|g>>2,d=(g&3)<<6|l,e+=String.fromCharCode(c),64!==g&&(e+=String.fromCharCode(a)),64!==l&&(e+=String.fromCharCode(d));return e}};"undefined"===typeof window.btoa&&(window.btoa=b.Eg.encode);"undefined"===typeof window.atob&&(window.atob=b.Eg.decode)})(window);
(function(b){function f(b){var c;"string"!==typeof b?b={documentElement:b}:(c=new DOMParser,b=c.parseFromString(b,"text/xml"));this.current=b.documentElement;this.next=this.current.nextSibling;this.diff=this.depth=0}f.prototype={WC:function(){for(;this.next&&this.next.nodeType!==Node.ELEMENT_NODE;)this.next=this.next.nextSibling},advance:function(){this.WC();return this.next?(this.current=this.next,this.next=this.current.nextSibling,!0):!1},ua:function(){return this.current.tagName},oa:function(){++this.depth;
this.next=this.current.firstChild;this.WC();this.next||++this.diff},Aa:function(){--this.depth;0<this.diff?--this.diff:this.current=this.current.parentNode;this.current&&(this.next=this.current.nextSibling)},K:function(b){return this.current.getAttribute(b)}};b.Oe=f})(window);
(function(b){function f(b){this.depth=this.index=0;this.me=b;this.location={start:0,av:1,bv:1,end:b.length,empty:!0};this.ir=[this.location];this.mA=!1;"?"===this.me.charAt(1)&&this.AG();this.location.empty=!1}b.As=b.As?b.As:{};b.As.VV=function(b){if(b)return b.replace(/&[^;]*;/g,function(c){switch(c.charAt(1)){case "q":return'"';case "a":return"&";case "l":return"<";case "g":return">";case "#":return"x"===c.charAt(2)?String.fromCharCode(parseInt(c.substring(3,c.length-1),16)):String.fromCharCode(parseInt(c.substring(2,
c.length-1),10))}return c})};f.prototype={advance:function(){this.mj=null;this.AG();var b=this.location.start;++b;this.location.empty=!1;if("/"!==this.me.charAt(b))return this.location.empty="/"===this.me.charAt(this.me.indexOf(">",b)-1),!0;this.location.end=!0;return!1},GH:function(){var b=this.location.start+1,c=this.me.indexOf(">",b);this.location.empty&&--c;b=this.me.substring(b,c);this.mj={};c=b.indexOf(" ");if(-1!==c){this.HF=b.substring(0,c);for(var b=b.slice(c),b=b.split('"'),c=b.length-1,
a=0;a<c;++a){var d=b[a],g=b[++a];this.mj[d.substring(1,d.length-1)]=g}}else this.HF=b},AG:function(){if(this.mA)this.mA=!1,this.location.start=this.me.indexOf("<",this.location.start+1);else{var b=this.location.av;if(!this.location.empty)for(var c=this.location.bv;0<c;)b=this.me.indexOf("<",b),"/"===this.me.charAt(++b)?--c:(b=this.me.indexOf(">",b),"/"!==this.me.charAt(b-1)&&++c);this.location.start=this.me.indexOf("<",b)}this.location.av=this.location.start+1;this.location.bv=1},mark:function(){this.me.mark&&
this.me.mark(this.location.start)},ua:function(){null!==this.mj&&"undefined"!==typeof this.mj||this.GH();return this.HF},oa:function(){++this.depth;this.location={start:this.location.start};this.ir[this.ir.length]=this.location;this.mA=!0},Aa:function(){--this.depth;this.mj=null;var b=this.location.av,c=this.location.bv,a=this.location.empty,d=this.location.end;this.ir.pop();this.location=this.ir[this.ir.length-1];this.location.av=b;this.location.bv=d?0:a?c:c+1},K:function(e){null!==this.mj&&"undefined"!==
typeof this.mj||this.GH();return b.As.VV(this.mj[e])}};b.pX=f})(self);
(function(b){b.setImmediate||function(){function f(a){var b=a.data;if("string"==typeof b&&0==b.indexOf("IM")&&(a=c[b]))a:{delete c[b],b=a[0];switch(a.length){case 1:b();break a;case 2:b(a[1]);break a;case 3:b(a[1],a[2]);break a}b.apply(window,d.call(a,1))}}var e=0,c={},a=!0,d=Array.prototype.slice;b.setImmediate=function(){for(var d=e++,l="IM"+d,h=arguments.length,k=Array(h);h--;)k[h]=arguments[h];c[l]=k;a&&(a=!1,b.addEventListener("message",f));b.postMessage(l,"*");return d};b.clearImmediate=function(a){delete c["IM"+
a]}}()})("undefined"===typeof self?this:self);
(function(b){function f(a){if(a){if(a.length!==this.nm)throw Error("Data is wrong size for zip header!");this.xq=a=this.xT(a);if(a.Wj!==this.mP)throw Error("Invalid XOD file, signature is wrong!");this.jS=4294967295===a.du;this.hg={};this.names=[]}}function e(a,c,e){this.source=a;this.Tt=this.sy=!1;this.Kf={};this.cl=function(){};this.decrypt=c;this.Xk=e;this.gF=b.o.zh&&c!==b.o.zh.decrypt}function c(a){this.Kl=a;this.started=!1;this.xi=1}c.prototype={cancel:function(){}};b.Aj=function(a){if("string"!==
typeof a){for(var b="",c=0,e=a.length,f;c<e;)f=a.subarray(c,c+1024),c+=1024,b+=String.fromCharCode.apply(null,f);return b}return a};b.RG=function(a){if("string"===typeof a){for(var b=new Uint8Array(a.length),c=a.length,e=0;e<c;e++)b[e]=a.charCodeAt(e);return b}return a};e.prototype={Tf:"Document/FixedDocument.fdoc",Fg:"Document/DocProps/core.xml",Sf:"Document/Structure/DocStruct.struct",wU:function(a){this.cl=a},Pl:function(a){var c=this;this.jo(function(e){if(e){b.utils.warn("Error loading document: "+
e);c.cl(e);if(a){a(e);return}throw e;}return c.request([c.Tf,c.Fg,c.Sf])})},Bi:function(){return!1},request:function(a,b){var c=this;if(!c.sy)throw Error("Document must be loaded before requesting parts");_(a).each(function(a){c.qP(a,function(a,d,e,h){return a?(d!==c.Sf&&c.cl(a),c.trigger("partReady",{sa:d,dg:!1,pd:!!a.Zx,error:a})):c.trigger("partReady",{sa:d,data:e,dg:!1,pd:!1,error:null,Ab:h,UH:b})})})},Ul:function(a){this.xf=a},jw:function(a){this.withCredentials=a},qy:function(a){var b=this;
_(a).each(function(a){var d=b.Kf[a];d&&(d.xi--,0===d.xi&&(delete b.Kf[a],d.cancel()))})},qP:function(a,b){if(this.Kf[a])this.Kf[a].xi++;else return this.Kf[a]=new c(a),this.zI(a,b)}};_(e.prototype).extend(Backbone.Events);f.prototype={pG:function(){return{start:this.xq.du,stop:this.xq.du+this.xq.rF}},Gq:function(a){var b=this.hg[a],c=b.offset+this.qp+b.ph+b.dl;return{start:c,stop:c+b.Pt,Kl:a}},Au:function(a){a=this.Gq(a);var b=Math.floor(a.start/102400),c=a.stop-a.start;return Math.min(c,102400*(b+
1)-a.start)>c/2?b:b+1},zS:function(a){if(a&&(this.xq=a=this.AT(a),a.Wj!==this.zW))throw Error("Invalid XOD file, signature is wrong!");},aQ:function(a){var b=this.Au(a),c=this.names.indexOf(a),e;a=[];var f;for(f=c-1;0<=f&&this.Au(this.names[f])===b;--f);e=f+1;var m=this.Gq(this.names[e]).start;for(f=c+1;f<this.names.length&&this.Au(this.names[f])===b;++f);b=f-1;c=this.Gq(this.names[b]).stop;for(f=e;f<=b;++f)e=this.Gq(this.names[f]),e.start-=m,e.stop-=m,a.push(e);return{start:m,stop:c,wI:a}},WE:function(a){return!!this.hg[a]},
oH:function(a){return 0!==this.hg[a].Xt},xI:function(a){for(var b=10,c=this.NK,e=this.xq.aK,f=0;f<e;f++){var m=this.yT(a,b),b=b+c,n=a.substr(b,m.ph),b=b+(m.ph+m.dl+m.UE+10);this.hg[n]=m;this.names[this.names.length]=n}},eM:56,fM:20,nm:22,NK:36,qp:30,Jv:function(a,b,c){for(var e="",f=0;f<b;f++)var m=a.charCodeAt(f+c).toString(16),e=1===m.length?"0"+m+e:m+e;return parseInt(e,16)},yT:function(a,b){var c={},e=this.Jv;c.Xt=e(a,2,b);c.Pt=e(a,4,b+10);c.TV=e(a,4,b+14);c.ph=e(a,2,b+18);c.dl=e(a,2,b+20);c.UE=
e(a,2,b+22);c.offset=e(a,4,b+32);return c},AT:function(a){var b={},c=this.Jv;b.Wj=c(a,4,0);b.KY=c(a,8,4);b.TZ=c(a,2,12);b.UZ=c(a,2,14);b.MO=c(a,4,16);b.SN=c(a,4,20);b.VS=c(a,8,24);b.aK=c(a,8,32);b.rF=c(a,8,40);b.du=c(a,8,48);return b},xT:function(a){var b={},c=this.Jv;b.Wj=c(a,4,0);b.MO=c(a,2,4);b.SN=c(a,2,6);b.VS=c(a,2,8);b.aK=c(a,2,10);b.rF=c(a,4,12);b.du=c(a,4,16);b.UE=c(a,2,20);return b},yI:function(a){var b={},c=this.Jv;b.Wj=c(a,4,0);b.SZ=c(a,2,4);b.$b=c(a,2,6);b.Xt=c(a,2,8);b.iZ=c(a,2,10);b.hZ=
c(a,2,12);b.$X=c(a,4,14);b.Pt=c(a,4,18);b.TV=c(a,4,22);b.ph=c(a,2,26);b.dl=c(a,2,28);return b},mP:101010256,zW:101075792,LH:67324752,MH:"PK\u0003\u0004"};f.inflate=function(a){return"string"===typeof a?b.ym.inflate(a):b.gT.inflate(a,{hd:-15})};b.o=b.o||{};b.o.V=b.o.V||{};var a=b.o.V;a.jf=e;a.Xi=f;a.iy=Array(1024);b.Tz=function(d,c,e,h){c=c||0;e=e||!1;var f="",m;m=!(_.isNull(d.responseBody)||_.isUndefined(d.responseBody));if(10===b.utils.ie&&m||!b.Uint8Array&&m){m=d.responseBody;h=_.isArray(m)?m:(new b.VBArray(m)).toArray();
c=h.length;d=Array(c);for(e=0;e<c;e++)d[e]=h[e]&255;e=c/1024+1;for(c=0;c<e;c++)f+=String.fromCharCode.apply(null,d.slice(1024*c,1024*c+1024))}else if(!b.Uint8Array||e||_.isUndefined(d.response))for(m=d.responseText,d=a.iy,e=c;e<h;){for(c=0;1024>c&&e<h;++c)d[c]=m.charCodeAt(e)&255,++e;f+=String.fromCharCode.apply(null,d.slice(0,c))}else{m=d.response;h=new b.Uint8Array(m);m=h.length;e=c;if(b.utils.typedArrayApply)return h.subarray(c);for(d=a.iy;e<m;){c=0;for(var n=Math.min(e+1024,m);e<n;c++,e++)d[c]=
h[e];f+=String.fromCharCode.apply(null,1024>c?d.slice(0,c):d)}}return f};b.o.V.Li={ps:0,gC:1,hL:2}})(window);
(function(b){function f(a,d,c){e.apply(this,arguments);if("xod"!==a.name.split(".").pop())throw Error("Not an XOD file");if(!b.FileReader||!b.File||!b.Blob)throw Error("File API is not supported in this browser");this.file=a;this.Ut=[];this.Gy=0}var e=b.o.V.jf,c=b.o.V.Xi;f.prototype=new e;f.prototype=_(f.prototype).extend({CA:function(a,d,c){var b=this,e=new FileReader;e.onloadend=function(a,f){if(0<b.Ut.length){var n=b.Ut.shift();n.BT.readAsBinaryString(n.file)}else b.Gy--;if(e.error){n=e.error;
if(n.code===n.ABORT_ERR){console.warn("Request for chunk "+d.start+"-"+d.stop+" was aborted");return}return c(n)}if(n=f||e.content||a.target.result)return c(!1,n);console.warn("No data was returned from FileReader.")};d&&(a=(a.slice||a.webkitSlice||a.mozSlice||a.gz).call(a,d.start,d.stop));0===b.Ut.length&&50>b.Gy?(e.readAsBinaryString(a),b.Gy++):b.Ut.push({BT:e,file:a});return function(){e.abort()}},jo:function(a){var d=this;d.Tt=!0;var b=c.prototype.nm;d.CA(d.file,{start:-b,stop:d.file.size},function(e,
h){if(e)return console.warn("Error loading end header: %s",e),a(e);if(h.length!==b)throw Error("Zip end header data is wrong size!");d.Hb=new c(h);var f=d.Hb.pG();d.CA(d.file,f,function(c,b){if(c)return console.warn("Error loading central directory: %s",c),a(c);if(b.length!==f.stop-f.start)throw Error("Zip central directory data is wrong size!");d.Hb.xI(b);d.sy=!0;d.Tt=!1;return a(!1)})})},zI:function(a,d){var c=this,b=c.Kf[a];if(!c.Hb.WE(a))return d(Error('File not found: "'+a+'"'),a);var e=c.Hb.Gq(a),
f=c.CA(c.file,e,function(b,l){delete c.Kf[a];if(b)return console.warn('Error loading part "%s": %s',a,b),d(b);if(l.length!==e.stop-e.start)throw Error("Part data is wrong size!");var f=c.Hb.oH(a);d(!1,a,l,f)});b.started=!0;b.cancel=f}});FileReader&&!FileReader.prototype.readAsBinaryString&&(FileReader.prototype.readAsBinaryString=function(a){var d="",c=this;c.content="";var b=new FileReader;b.onload=function(){for(var a=new Uint8Array(b.result),e=a.byteLength,f=0;f<e;f++)d+=String.fromCharCode(a[f]);
c.content+=d;$(c).trigger("onload");b.onloadend=function(){$(c).trigger("onloadend")}};b.readAsArrayBuffer(a)});b.o.V.nC=f;b.gf=b.gf||{};b.gf.QW=function(a){return{name:a.value.split(/[/\\]/).pop(),size:null,data:null,waiting:[],lA:!1,gz:function(a,c){return{YH:this,gz:this.gz,start:a,stop:c}}}};b.gf.RW=function(){return{error:!1,onloadend:function(){},result:null,readAsBinaryString:function(a){var d=a.YH||a,c=this,b=encodeURI(d.name);if(d.data)return this.fA(a);if(d.lA)return d.waiting.push(function(){c.fA(a)});
d.lA=!0;new JSIO.LW(b,function(b){d.lA=!1;if(b)return console.error('Failed to load file "%s"',d.name),console.warn("File must be in same directory as this page for FakeFileReader to work"),c.error=Error('Failed to load file "%s"',d.name),c.onloadend(c.error);d.size=this.fileSize;d.data=this.read(this.fileSize);c.fA.call(c,a);for(b=0;b<d.waiting.length;b++)d.waiting[b]();d.waiting=[]})},fA:function(a){var d=a.YH||a,c=a.start||0;a=a.stop||d.size;null===c&&(c=d.size);null===a&&(a=d.size);0>c&&(c=d.size+
c);0>a&&(a=d.size+a);d=d.data.slice(c,a);c="";for(a=0;a<d.length/1E3;a++)c+=String.fromCharCode.apply(null,d.slice(1E3*a,1E3*a+1E3));this.result=c;this.onloadend({},c)}}}})(window);
(function(b){function f(b){this.file=b}f.prototype=$.extend({getFileData:function(b){var c=this,a=new FileReader;a.onload=function(a){c.trigger("documentLoadingProgress",[a.loaded,a.loaded]);b(new Uint8Array(a.target.result))};a.onprogress=function(a){a.lengthComputable&&c.trigger("documentLoadingProgress",[a.loaded,0<a.total?a.total:0])};a.readAsArrayBuffer(this.file)},getFile:function(){return b.utils.isJSWorker?this.file.path:this.file}},b.utils.eventHandler);b.o.V.eL=f})(window);
(function(b){function f(b){this.buffer=b}f.prototype=$.extend({getFileData:function(b){b(new Uint8Array(this.buffer))},getFile:function(){return null}},b.utils.eventHandler);b.o.V.CK=f})(window);
(function(b){function f(a,d,c){for(var b in a)this[b]=a[b];this.startOffset=d;this.endOffset=c;this.bF=function(d,c,b,e){_.isUndefined(c.stop)?(c.start+=this.endOffset,c.stop=this.endOffset):(c.start+=this.startOffset,c.stop+=this.startOffset);d=this.pq(this.url,c,this.hn);return new a.Ar(d,c,b,e)}}function e(a,d,c,b){l.apply(this,[a,c,b]);this.Ai={};this.hn=d;this.url=a}function c(){this.xi=1}function a(a){var d=a.request,c=a.range;return function(e,g){if(e){if(e.code===d.Ib.ek){b.utils.warn("Request for range "+
c.start+"-"+c.stop+" was aborted");return}return a.Ve.forEach(function(a){a("Error retrieving file: "+d.url+". Received return status "+e.status+".")})}return a.Ve.forEach(function(a){a(!1,g,d)})}}function d(a,d,c,g){this.url=a;this.range=d;this.xf=c;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);b.Uint8Array&&(this.request.responseType="arraybuffer");g&&(this.request.withCredentials=g);e.DISABLE_RANGE_HEADER||(_.isUndefined(d.stop)?this.request.setRequestHeader("Range","bytes="+
d.start):this.request.setRequestHeader("Range",["bytes=",d.start,"-",d.stop-1].join("")));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");if(c)for(var h in c)this.request.setRequestHeader(h,c[h]);this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Ib.Pi}function g(a,d,c){for(var e=-1,g=0;g<c.length;g++)_.isEqual(c[g].range,d)&&_.isEqual(c[g].url,a)&&(e=
g);-1===e&&b.utils.warn(d+" not found in queue");return e}var l=b.o.V.jf,h=b.o.V.Xi,k=[],m=[];d.prototype={constructor:d,start:function(a){var d=this,c=this.request;c.onreadystatechange=function(){if(d.Zx)return d.status=d.Ib.ek,a({code:d.Ib.ek});if(this.readyState===d.cM.DONE){d.Eu();var e=0===window.document.URL.indexOf("file:///");200===c.status||206===c.status||e&&0===c.status?(e=b.Tz(this),d.success(e,a)):(d.status=d.Ib.ERROR,a({code:d.status,status:this.status}))}};this.request.send(null);this.status=
this.Ib.sk},success:function(a,d){this.status=this.Ib.IL;if(d)return d(!1,a)},abort:function(){this.Eu();this.Zx=!0;this.request.abort()},Eu:function(){var d=g(this.url,this.range,m);-1!==d&&m.splice(d,1);if(0<k.length){var d=k.shift(),c=new this.constructor(d.url,d.range,this.xf,this.withCredentials);d.request=c;m.push(d);c.start(a(d))}},cM:{nX:0,DONE:4},Ib:{Pi:0,sk:1,IL:2,ERROR:3,ek:4},extend:function(a){var d=$.extend({},this,a.prototype);d.constructor=a;return d}};b.XZ=[];e.DISABLE_RANGE_HEADER=
!1;e.prototype={Ar:d,fL:3,pq:function(a,d,c){var e=-1===a.indexOf("?")?"?":"&";switch(c){case !1:case b.o.V.Li.ps:a=a+e+"_="+_.uniqueId();break;case !0:case b.o.V.Li.gC:a=a+e+"_="+d.start+","+(_.isUndefined(d.stop)?"":d.stop)}return a},bF:function(a,d,c,b){return new this.Ar(a,d,c,b)},nP:function(a,d,c,b,e){for(var g=0;g<k.length;g++)if(_.isEqual(k[g].range,d)&&_.isEqual(k[g].url,a))return k[g].Ve.push(b),k[g].pv++,null;for(g=0;g<m.length;g++)if(_.isEqual(m[g].range,d)&&_.isEqual(m[g].url,a))return m[g].Ve.push(b),
m[g].pv++,null;c={url:a,range:d,hn:c,Ve:[b],pv:1,request:{}};if(0===k.length&&m.length<this.fL)return m.push(c),c.request=this.bF(a,d,e,this.withCredentials),c;k.push(c);return null},Dl:function(d,c,b){var e=this.pq(d,c,this.hn);(d=this.nP(e,c,this.hn,b,this.xf))&&d.request.start(a(d));return function(){var a=g(e,c,m),d;-1!==a?(d=--m[a].pv,0===d&&m[a].request.abort()):(a=g(e,c,k),-1!==a&&(d=--k[a].pv,0===d&&k.splice(a,1)))}},sG:function(){return{start:-h.prototype.nm}},jR:function(){var a=-(h.prototype.nm+
h.prototype.fM);return{start:a-h.prototype.eM,end:a}},jo:function(a){var d=this;d.Tt=!0;var c=h.prototype.nm;d.Dl(d.url,d.sG(),function(e,g){function l(){var c=d.Hb.pG();d.Dl(d.url,c,function(e,g){if(e)return b.utils.warn("Error loading central directory: "+e),a(e);g=b.Aj(g);if(g.length!==c.stop-c.start)return a("Invalid XOD file: Zip central directory data is wrong size! Should be "+(c.stop-c.start)+" but is "+g.length);d.Hb.xI(g);d.sy=!0;d.Tt=!1;return a(!1)})}if(e)return b.utils.warn("Error loading end header: "+
e),a(e);g=b.Aj(g);if(g.length!==c)return a("Invalid XOD file: Zip end header data is wrong size!");try{d.Hb=new h(g)}catch(f){return a(f)}d.Hb.jS?d.Dl(d.url,d.jR(),function(c,e){if(c)return b.utils.warn("Error loading zip64 header: "+c),a(c);e=b.Aj(e);d.Hb.zS(e);l()}):l()})},Pz:function(a){a(Object.keys(this.Hb.hg))},zI:function(a,d){var e=this;if(!e.Hb.WE(a))return delete e.Kf[a],d(Error('File not found: "'+a+'"'),a);var g=e.Hb.Au(a);if(g in e.Ai){var h=e.Kf[a];h.mn=e.Ai[g];h.mn.xi++;h.cancel=h.mn.cancel}else{var l=
e.Hb.aQ(a),f=e.Dl(e.url,l,function(c,h){c?(b.utils.warn('Error loading part "'+a+'": '+c),e.Dl(e.url,l,function(c,b){if(c)return d(c,a);e.AI(b,l,g,a,d)})):e.AI(h,l,g,a,d)}),k=e.Kf[a];k&&(k.started=!0,k.cancel=function(){k.mn.xi--;0===k.mn.xi&&(f(),delete e.Ai[g])},e.Ai[g]=new c,k.mn=e.Ai[g],k.mn.cancel=k.cancel)}},AI:function(a,d,c,b,e){if(a.length!==d.stop-d.start)return e(Error("Part data is wrong size!"),b);do{if(!this.Ai[c])return;b=this.Ai[c].xi;for(var g=d.wI.length,h=0;h<g;++h){var l=d.wI[h];
e(!1,l.Kl,a["string"===typeof a?"substring":"subarray"](l.start,l.stop),this.Hb.oH(l.Kl));l.Kl in this.Kf&&delete this.Kf[l.Kl]}}while(b!==this.Ai[c].xi);delete this.Ai[c]}};e.prototype=$.extend(new l,e.prototype);f.prototype=$.extend(new e,f.prototype);b.o.V.jk=e;b.o.V.Lw=d})(window);
(function(b){function f(c,a){e.apply(this,[c]);this.url=c;-1===a.indexOf("/",a.length-1)&&(a+="/");this.path=a}var e=b.o.V.jf;f.prototype=new e;f.prototype=_(f.prototype).extend({request:function(c){var a=this;_(c).each(function(d){var c=-1!==d.indexOf("Thumbs/"),l=-1!==d.indexOf("Fonts/");if(-1!==d.indexOf("Images/")||c||l)return a.trigger("partReady",{sa:d,data:d,dg:!0,pd:!1,error:null,Ab:!1});$.ajax({url:a.path+d,mimeType:"text/plain; charset=x-user-defined",xhrFields:{withCredentials:e.withCredentials},
xhr:function(){var a=$.ajaxSettings.xhr();a&&(this.RQ=function(){return a.responseBody});return a},success:function(c){var e=b.utils.ie?this.RQ():c;c="";var g,l,f;if(b.utils.ie){e=(new b.VBArray(e)).toArray();f=e.length;g=Array(f);for(l=0;l<f;l++)g[l]=e[l]&255;e=f/1024+1;for(l=0;l<e;l++)c+=String.fromCharCode.apply(null,g.slice(1024*l,1024*l+1024))}else for(g=b.o.V.iy,l=0;l<e.length;){for(f=0;1024>f&&l<e.length;++f)g[f]=e.charCodeAt(l)&255,++l;c+=String.fromCharCode.apply(null,g.slice(0,f))}return a.trigger("partReady",
{sa:d,data:c,dg:!1,pd:!1,error:null,Ab:!0})},error:function(c,b,e){c=Error(b+" "+e);return a.trigger("partReady",{sa:d,dg:!1,pd:!!c.Zx,error:c})}})})},jo:function(c){c()}});b.o.V.Uw=f})(window);
(function(b){function f(b,c){c=c||{};this.url=b;this.filename=c.filename||b;this.xf=null;this.lW=!!c.useDownloader;this.withCredentials=!!c.withCredentials}f.prototype=$.extend({Ul:function(b){this.xf=b},getFileData:function(b){var c=new XMLHttpRequest,a=0===this.url.indexOf("blob:")?"blob":"arraybuffer";c.open("GET",this.url,!0);c.withCredentials=this.withCredentials;c.responseType=a;var d=this;if(this.xf)for(var g in this.xf)c.setRequestHeader(g,this.xf[g]);var l=/^https?:/i.test(this.url);c.addEventListener("load",
function(a){if(200===this.status||!l&&0===this.status)if(d.trigger("documentLoadingProgress",[a.loaded,a.loaded]),"blob"===this.responseType){a=this.response;var c=new FileReader;c.onload=function(a){b(new Uint8Array(a.target.result))};c.readAsArrayBuffer(a)}else try{c=new Uint8Array(this.response),b(c)}catch(g){d.trigger("error",["pdfLoad","Out of memory"])}else d.trigger("error",["pdfLoad",a.currentTarget.statusText])},!1);c.onprogress=function(a){d.trigger("documentLoadingProgress",[a.loaded,0<
a.total?a.total:0])};c.addEventListener("error",function(){d.trigger("error",["pdfLoad","Network failure"])},!1);c.send();this.xhr=c},getFile:function(){if(b.utils.isJSWorker)return this.url;if(this.lW){var e={url:this.url};this.xf&&(e.customHeaders=this.xf);return e}return null},abort:function(){this.xhr&&this.xhr.abort()}},b.utils.eventHandler);b.o.V.ls=f})(window);
(function(b){function f(d,b,h,f){a.apply(this,[d,h,f]);this.url=d;this.stream=new c(d,b);this.Hb=new e;this.yr=createPromiseCapability()}function e(){this.buffer="";this.state=0;this.Xl=4;this.Sc=null;this.af=d.prototype.qp;this.hg={}}function c(a,d){var c=-1===a.indexOf("?")?"?":"&";switch(d){case !1:case b.o.V.Li.ps:this.url=a+c+"_="+_.uniqueId();break;default:this.url=a}this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");
this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Ib.Pi}var a=b.o.V.jf,d=b.o.V.Xi;c.prototype={start:function(a,d){var c=this,b=this.request,e;c.pg=0;if(a)for(var f in a)this.request.setRequestHeader(f,a[f]);d&&(this.request.withCredentials=d);this.ti=setInterval(function(){var a=0===window.document.URL.indexOf("file:///"),a=200===b.status||a&&0===b.status;if(4!==b.readyState||
a){try{b.responseText}catch(d){return}c.pg<b.responseText.length&&(e=c.bB())&&c.trigger("data",e);0===b.readyState&&(clearInterval(c.ti),c.trigger("done"))}else clearInterval(c.ti),c.trigger("done","Error received return status "+b.status)},1E3);this.request.send(null);this.status=this.Ib.sk},bB:function(){var a=this.request,d=a.responseText;if(0!==d.length)if(this.pg===d.length)clearInterval(this.ti),this.trigger("done");else return d=Math.min(this.pg+3E6,d.length),a=b.Tz(a,this.pg,!0,d),this.pg=
d,a},abort:function(){clearInterval(this.ti);var a=this;this.request.onreadystatechange=function(){b.utils.warn("StreamingRequest aborted");a.status=a.Ib.ek;return a.trigger("aborted")};this.request.abort()},finish:function(){var a=this;this.request.onreadystatechange=function(){a.status=a.Ib.Vw;return a.trigger("done")};this.request.abort()},Ib:{Pi:0,sk:1,Vw:2,ERROR:3,ek:4}};_(c.prototype).extend(Backbone.Events);e.prototype=new d;e.prototype=_(e.prototype).extend({processData:function(a){var c;
for(a=this.buffer+a;a.length>=this.af;)switch(this.state){case 0:this.Sc=c=this.yI(a.slice(0,this.af));if(c.Wj!==this.LH)throw Error("Wrong signature in local header: "+c.Wj);a=a.slice(this.af);this.state=1;this.af=c.Pt+c.ph+c.dl+this.Xl;this.trigger("header",c);break;case 1:if(this.Sc.name=a.slice(0,this.Sc.ph),this.hg[this.Sc.name]=this.Sc,c=this.af-this.Xl,this.trigger("file",this.Sc.name,a.slice(this.Sc.ph+this.Sc.dl,c),this.Sc.Xt),a=a.slice(c),a.slice(0,this.Xl)===this.MH)this.state=0,this.af=
d.prototype.qp;else return this.state=2,!0}this.buffer=a;return!1}});_(e.prototype).extend(Backbone.Events);f.prototype=new a;f.prototype=_(f.prototype).extend({Pl:function(a){var d=this;this.request([this.Tf,this.Fg,this.Sf]);this.stream.bind("data",function(c){try{if(d.Hb.processData(c))return d.stream.finish()}catch(b){throw d.stream.abort(),d.cl(b),a(b),b;}});this.stream.bind("done",function(c){d.yr.resolve();c&&(d.cl(c),a(c))});this.Hb.bind("header",_(this.Kv).bind(this));this.Hb.bind("file",
_(this.dB).bind(this));return this.stream.start(this.xf,this.withCredentials)},Pz:function(a){var d=this;this.yr.promise.then(function(){a(Object.keys(d.Hb.hg))})},Bi:function(){return!0},request:function(){},Kv:function(){},abort:function(){this.stream&&this.stream.abort()},dB:function(a,d,c){this.trigger("partReady",{sa:a,data:d,dg:!1,pd:!1,error:null,Ab:c})}});b.o.V.AC=f;b.o.V.iX=c})(window);
(function(b){function f(d,b,h,f){a.apply(this,[d,h,f]);this.url=d;this.stream=new c(d,b);this.Hb=new e(b,h,f,d.slice(0,d.lastIndexOf("/")+1));this.yr=createPromiseCapability();this.JO={};this.QI=null;this.timeStamp=0}function e(a,c,b,e){this.hn=a;this.decrypt=c;this.Xk=b;this.buffer="";this.state=0;this.Xl=4;this.Sc=null;this.af=d.prototype.qp;this.qo=[];this.Uv=[];this.pr=this.JA=0;this.hg={};this.XT=e;this.iv="";this.Iv=null;this.AA="";this.jB=0;this.GS=5}function c(a,d){var c=-1===a.indexOf("?")?
"?":"&";switch(d){case !1:case b.o.V.Li.ps:this.url=a+c+"_="+_.uniqueId();break;default:this.url=a}this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Ib.Pi}var a=b.o.V.jf,d=b.o.V.Xi;c.prototype={start:function(a,d){var c=this,b=this.request,
e;c.pg=0;if(a)for(var f in a)this.request.setRequestHeader(f,a[f]);d&&(this.request.withCredentials=d);this.ti=setInterval(function(){var a=0===window.document.URL.indexOf("file:///"),a=200===b.status||a&&0===b.status;if(4!==b.readyState||a){try{b.responseText}catch(d){return}c.pg<b.responseText.length&&(e=c.bB())&&c.trigger("data",e);0===b.readyState&&(clearInterval(c.ti),c.trigger("done"))}else clearInterval(c.ti),c.trigger("done","Error received return status "+b.status)},300);this.request.send(null);
this.status=this.Ib.sk},bB:function(){var a=this.request,d=a.responseText;if(0!==d.length)if(this.pg===d.length)clearInterval(this.ti),this.trigger("done");else return d=Math.min(this.pg+3E6,d.length),a=b.Tz(a,this.pg,!0,d),this.pg=d,a},abort:function(){clearInterval(this.ti);var a=this;this.request.onreadystatechange=function(){b.utils.warn("RangeStreamingRequest aborted");a.status=a.Ib.ek;return a.trigger("aborted")};this.request.abort()},finish:function(){var a=this;this.request.onreadystatechange=
function(){a.status=a.Ib.Vw;return a.trigger("done")};this.request.abort()},Ib:{Pi:0,sk:1,Vw:2,ERROR:3,ek:4}};_(c.prototype).extend(Backbone.Events);e.prototype=new d;e.prototype=_(e.prototype).extend({xO:function(a){a=b.utils.utf8_decode(a).split("\n");this.AA&&(a[0]=this.AA+a[0]);var d=a[a.length-1];d&&(this.AA=d,a.pop());0<a.length&&3>a[a.length-1].length&&a.pop();0<a.length&&3>a[0].length&&a.shift();return a},wT:function(a){if(!a)return!1;a=this.xO(a);for(var d=0,c=0,b,e=this.iv,f=!1,r=0;r<a.length;++r)if(b=
a[r].trim().replace(/(^[[,]*|[\],]*$)/g,""),!(4>b.length)){b=JSON.parse(b)||{};b.url&&(this.iv=this.XT+b.url,e!==this.iv&&(d=0,f=!0),e=this.iv);b.size&&(0===d&&(c=b.pos),d+=b.size,f||1048576<d||0===this.JA||a.length===r+1)&&(this.DA({start:c,stop:c+d,url:e}),d=0);if(b.end||0===b.size)return 0<d&&this.DA({start:c,stop:c+d,url:e}),!0;f=!1}return!1},DA:function(a){var d=this;if(0<this.JA&&0===this.pr)this.Uv.push(a);else{var c=this.JA++;this.Iv&&this.Iv.url===a.url||(this.Iv=new b.o.V.jk(a.url,this.hn,
this.decrypt,this.Xk));var e=this.Iv;++d.jB;e.Dl(a.url,a,function(b,e){--d.jB;d.YS(e,c,a)})}},vP:function(){if(0<this.pr)for(;0<this.Uv.length&&this.jB<this.GS;)this.DA(this.Uv.shift())},YS:function(a,d,c){this.qo[d-this.pr]={data:a,range:c};for(a=d;this.pr===a;a++)0<this.qo.length&&this.qo[0]&&(this.processData(b.Aj(this.qo[0].data),this.qo[0].range),this.qo.shift(),++this.pr,this.vP())},processData:function(a){var c;if(2===this.state)return!1;for(a=this.buffer+a;a.length>=this.af;)switch(this.state){case 0:this.Sc=
c=this.yI(a.slice(0,this.af));if(c.Wj!==this.LH)throw Error("Wrong signature in local header: "+c.Wj);a=a.slice(this.af);this.state=1;this.af=c.Pt+c.ph+c.dl+this.Xl;this.trigger("header",c);break;case 1:if(this.Sc.name=a.slice(0,this.Sc.ph),this.hg[this.Sc.name]=this.Sc,c=this.af-this.Xl,this.trigger("file",this.Sc.name,a.slice(this.Sc.ph+this.Sc.dl,c),this.Sc.Xt),a=a.slice(c),a.slice(0,this.Xl)===this.MH)this.state=0,this.af=d.prototype.qp;else return this.state=2,!0}this.buffer=a;return!1}});_(e.prototype).extend(Backbone.Events);
f.prototype=new a;f.prototype=_(f.prototype).extend({Pl:function(a){var d=this;this.request([this.Tf,this.Fg,this.Sf]);this.stream.bind("data",function(c){try{if(d.Hb.wT(c))return d.stream.finish()}catch(b){throw d.stream.abort(),d.cl(b),a(b),b;}});this.stream.bind("done",function(c){d.yr.resolve();d.QI={};c&&(d.cl(c),a(c))});this.Hb.bind("header",_(this.Kv).bind(this));this.Hb.bind("file",_(this.dB).bind(this));this.timeStamp=Date.now();return this.stream.start(this.xf,this.withCredentials)},Pz:function(a){var d=
this;this.yr.promise.then(function(){a(Object.keys(d.Hb.hg))})},Bi:function(){return!0},request:function(){},Kv:function(){},abort:function(){this.stream&&this.stream.abort()},dB:function(a,d,c){this.trigger("partReady",{sa:a,data:d,dg:!1,pd:!1,error:null,Ab:c});this.JO[a]={sa:a,data:null,Ab:c}}});b.o.V.EL=f;b.o.V.gX=c})(window);
(function(b){function f(c){e.apply(this,arguments);this.db=c}var e=b.o.V.jf;f.prototype=new e;f.prototype=_(f.prototype).extend({request:function(c){var a=this;_(c).each(function(d){a.db.get(d,function(c,b,e){return c?a.trigger("partReady",{sa:d,error:c}):a.trigger("partReady",{sa:d,data:b,dg:!1,pd:!1,error:null,Ab:e})})})},jo:function(c){c()}});b.o.V.Bp=f})(window);
(function(b){function f(a,d,b,e){c.apply(this,arguments)}function e(a,d){this.url=a;this.range=d;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);b.Uint8Array&&(this.request.responseType="arraybuffer");this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");this.status=this.Ib.Pi}var c=b.o.V.jk;e.prototype=b.o.V.Lw.prototype.extend(e);f.prototype={Ar:e,pq:function(a,d){return a+"/bytes="+d.start+","+(d.stop?d.stop:"")}};f.prototype=$.extend(new c,f.prototype);b.o.V.BK=
f;b.o.V.KW=e})(window);
(function(b){b.o.fC=function(b,e,c){function a(a,c){function b(a){f().then(function(d){v&&!x?setTimeout(function(){b(a)},1):d.send(JSON.stringify(a))})}function e(a,d,c){var g=createPromiseCapability(),h=!1,f=g;p=a;u=d;q=c;n=null;try{var k=new WebSocket(A?r+"/"+A:r+"/ws");k.onopen=function(){g.resolve();h=!0;g=null;v=!1;m.resolve(k);u&&u()};k.onerror=function(a){v=x=!0;g&&g.reject(a);n&&n.reject()};k.onclose=function(){m=createPromiseCapability();v=!0;n||(n=createPromiseCapability());n.resolve();
q&&q();p&&h&&p({t:"health",data:{unhealthy:!0}})};k.onmessage=function(a){a&&a.data&&(a=JSON.parse(a.data),a.hb?b({hb:!0}):a.end?close():p(a))}}catch(H){g.reject(H),g=null}return f.promise}function f(){v&&p&&e(p);return m.promise}var m=createPromiseCapability(),n=null,r=function(a){var d=a.indexOf("://"),c="ws://";0>d?d=0:(5===d&&(c="wss://"),d+=3);var b=a.lastIndexOf("/");0>b&&(b=a.length);return c+a.slice(d,b)}(a),p=null,u=null,q=null,v=!1,x=!1,A=c;return{send:b,KB:e,bz:function(){return n?n.promise:
f().then(function(a){n=createPromiseCapability();p=null;a.close();return n.promise})}}}return window.WebSocket&&!c?a(b,e):function(a,c){function b(a){(u?u.promise:Promise.resolve(p)).then(function(d){var c=new XMLHttpRequest;d=r?n+"/"+r+"pf?id="+d:n+"/pf?id="+d;var b=new FormData;b.append("data",JSON.stringify(a));c.open("POST",d);c.withCredentials=!0;c.send(b)})}function e(){p=0;u||(u=createPromiseCapability())}function f(){m=new XMLHttpRequest;var a=n+"/pf",a=0!==p?a+("?id="+p+"&uc="+A):a+("?uc="+
A);A++;m.open("GET",a,!0);m.withCredentials=!0;m.setRequestHeader("Cache-Control","no-cache");m.setRequestHeader("X-Requested-With","XMLHttpRequest");var d=m,c=!1;m.onreadystatechange=function(){a:{var a;if(3<=d.readyState&&!c){try{a=d.responseText.length}catch(g){console.log("caught exception");break a}if(0<a)try{var n=d.responseText.split("\n");for(n[n.length-1]&&n.pop();0<n.length&&3>n[n.length-1].length;)"]"===n.pop()&&e();0<n.length&&3>n[0].length&&n.shift();for(a=0;a<n.length;++a)n[a].endsWith(",")&&
(n[a]=n[a].substr(0,n[a].length-1));0===p&&0<n.length&&(p=JSON.parse(n.shift()).id,a=u,u=null,a.resolve(p));var m;for(a=0;a<n.length;++a)(m=JSON.parse(n[a]))&&m.end?close():m&&m.hb&&m.id===p?b({hb:!0}):x(m)}catch(g){}q||(c=!0,f())}}};m.send()}var m,n=function(a){var d=a.lastIndexOf("/");0>d&&(d=a.length);return a.slice(0,d)}(a),r=c,p=0,u=createPromiseCapability(),q=!1,v=null,x=null,A=0;return{send:b,KB:function(a,d,c){x=a;v=c;q=!1;e();f();d&&d();return Promise.resolve()},bz:function(){e();x=null;
q=!0;v&&v();m.abort();return Promise.resolve()}}}(b,e)}})(window);
(function(b){function f(a,d,h){d.endsWith("/")||(d+="/");h=h||{};var f=h.disableWebsockets||!1;d.endsWith("blackbox/")||(d+="blackbox/");this.Zj=h.uploadData||null;this.Vr=h.uriData||null;this.Dy=b.o.fC(d,null,f);this.rw=null;this.Fe=d;this.Ty=a;this.he=null;this.Il=e();this.sj=e();this.Cy=!1;this.Te=this.Wc=this.jd=this.Td=null;this.pe=[];this.su=[];this.cache={};this.QI=null;this.Uv=[];this.timeStamp=0;this.Be=[];this.If=[];this.iz=null;this.Hy=!1;this.wB=this.id=null;this.BA=this.bH=c;this.Ir=
0;this.gA=!1;this.SS=1;this.ev={};this.jw(!0)}function e(){var a={promise:null,resolve:null,reject:null,state:0,result:null,request:null,$q:function(){return 1===(a.state&1)},$R:function(){return 2===(a.state&2)},og:function(){return!a.$R()&&!a.$q()},UR:function(){return 4===(a.state&4)},lJ:function(){a.state|=4}};a.promise=new Promise(function(d,c){a.resolve=function(){if(0===a.state||4===a.state)a.state=1,a.result=arguments[0],d.apply(null,arguments)};a.reject=function(){if(0===a.state||4===a.state)a.state=
2,c.apply(null,arguments)}});return a}function c(){return!1}function a(a,c,b){if(!(c in d))return!0;c=d[c];for(var e=0;e<c.length;e++){var f;var n=a;f=c[e];var r=b;if(f.name in n){var p="",u=!1,n=n[f.name];switch(f.type){case "s":p="String";u=_.isString(n);break;case "a":p="Array";u=_.isArray(n);break;case "n":p="Number";u=_.isNumber(n)&&_.isFinite(n);break;case "o":p="Object",u=_.isObject(n)&&!_.isArray(n)}u||r.reject('Expected response field "'+f.name+'" to have type '+p);f=u}else r.reject('Response missing field "'+
f.name+'"'),f=!1;if(!f)return!1}return!0}var d={pages:[{name:"pages",type:"a"}],pdf:[{name:"url",type:"s"}],docmod:[{name:"url",type:"s"},{name:"rID",type:"s"}],health:[],tiles:[{name:"z",type:"n"},{name:"rID",type:"n"},{name:"tiles",type:"a"},{name:"size",type:"n"}],annots:[{name:"url",type:"s"},{name:"name",type:"s"}],image:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",type:"n"}],text:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",type:"n"}]};f.prototype=_(f.prototype).extend({EO:function(){var a=
createPromiseCapability();if(this.rw){var d=!1,c=new XMLHttpRequest;c.open("GET",this.Fe+"ck?c="+this.rw);c.withCredentials=this.Xn();c.onreadystatechange=function(){3<=c.readyState&&!d&&(d=!0,200===c.status?a.resolve():a.reject())};c.send()}else a.resolve();return a.promise},IU:function(a,d){this.bH=a||c;this.BA=d||c},SE:function(){var a=this;a.sj=e();a.Il=e();return this.Dy.bz().then(function(){function d(){a.Cy=!1;a.id=null;a.Hy=!1;return Promise.resolve()}return a.EO().then(d,d)})},SI:function(){this.bH();
this.nA();this.Td&&(this.Td.og()?this.Ee(this.Td.request):this.Td.$q()&&this.BA(this.Td.result.url,"pdf")&&(this.Td=null,this.RI()));this.Te&&this.Te.og()&&this.Ee(this.Te.request);this.jd&&this.jd.og()?this.Ee(this.jd.request):this.Wc&&this.Wc.og()&&this.WG(this.Wc.request);var a;for(a=0;a<this.Be.length;a++)this.Be[a]&&this.Be[a]&&(this.Be[a].og()?this.Ee(this.Be[a].request):this.Be[a].$q()&&this.BA(this.Be[a].result.url,"image")&&(this.Be[a]=null,this.Tv(a)));for(a=0;a<this.If.length;a++)this.If[a]&&
this.If[a]&&this.If[a].og()&&!this.If[a].UR()&&this.Ee(this.If[a].request);for(a=0;a<this.pe.length;a++)this.pe[a]&&this.pe[a].og()&&this.Ee(this.pe[a].request)},nA:function(){var a=this;this.Cy||(this.timeStamp=Date.now(),this.Dy.KB(function(d){a.ZS(d)}).then(function(){},function(d){console.log("Connection Failed: "+d);a.Hy=!0;a.Ir=0;a.wB=0;a.sj.resolve({unhealthy:!0,id:0,serverID:"0",hasPDF:!0,hasXOD:!1});a.Il.resolve()}),this.Cy=!0)},jW:function(){var a,d,c,e,f=this,n=createPromiseCapability(),
r=!1,p=!1;if(this.Zj)a=new FormData,a.append("file",this.Zj.fileHandle,this.Zj.fileHandle.name),d=this.Zj.loadCallback,e="upload",c=this.Zj.extension;else if(this.Vr)a={uri:this.Vr.uri,share:this.Vr.shareId},r=!0,p=void 0,d=this.Vr.loadCallback,e="url",c=this.Vr.extension;else return Promise.resolve();$.ajax({type:"POST",url:b.joinPaths(f.Fe,"AuxUpload?ext="+c+"&type="+e),contentType:p,xhrFields:{withCredentials:this.Xn()},data:a,processData:r,dataType:"json",success:function(a){f.Ty=a.uri;d(a);n.resolve(a)},
error:function(a){console.log(a);n.reject(a)},xhr:function(){var a=$.ajaxSettings.xhr();f.Zj&&null!=f.Zj.onProgress&&(a.upload.onprogress=function(a){f.Zj.onProgress(a)});return a}});return n.promise},Pl:function(a){this.iz=a||null;this.Il.$q()||(this.nA(),this.Ee({t:"pages"}));return this.Il.promise},VE:function(a){a=$.extend(a,{uri:encodeURIComponent(this.Ty)});this.iz&&(a.ext=this.iz);this.he&&(a.c=this.he);return a},Ee:function(a){a=this.VE(a);this.Dy.send(a)},Vh:function(a){return a},ZS:function(d){var c=
this,b,f=d.data,m=d.err,n=d.t;switch(n){case "upload":m?c.kW.reject(m):c.kW.resolve("Success");break;case "pages":m?c.Il.reject(m):a(f,n,c.Il)&&c.Il.resolve(f);break;case "config":m?c.sj.reject(m):a(f,n,c.sj)&&(f.id&&(c.id=f.id),f.sCookieName&&(c.rw=f.sCookieName),f.serverID?(c.Ir=f.serverID===c.wB&&c.gA?c.Ir+1:0,c.wB=f.serverID):c.Ir=0,c.gA=!1,c.sj.resolve(f));break;case "health":m?c.sj.reject(m):a(f,n,c.sj)&&!c.tY&&f.unhealthy&&c.rw&&1>=c.Ir&&(c.gA=!0,c.SE().then(function(){c.SI()},function(){c.SI()}));
break;case "pdf":f.url=c.Fe+"../"+encodeURI(f.url);m?c.Td.reject(m):a(f,n,c.Td)&&c.Td.resolve(f);break;case "docmod":f.url=c.Fe+"../"+encodeURI(f.url);m?c.ev[f.rID].reject(m):a(f,n,c.Td)&&c.ev[f.rID].resolve(f);break;case "xod":if(m)this.jd&&this.jd.og()&&this.jd.reject(m),this.Wc&&this.Wc.og()&&this.Wc.reject(m);else if(f.notFound)f.noCreate||this.jd&&this.jd.og()&&this.jd.resolve(f),this.Wc&&this.Wc.og()&&this.Wc.resolve(f);else{f.url&&(f.url=c.Fe+"../"+encodeURI(f.url));if(!this.Wc||this.Wc.$q())this.Wc=
e(),this.Wc.request={t:"xod",noCreate:!0};this.jd||(this.jd=e(),this.jd.request={t:"xod"});this.Wc.resolve(f);this.jd.resolve(f)}break;case "annots":m?c.Te.reject(m):a(f,n,c.Te)&&(c.Te.lJ(),$.ajax({dataType:"text",url:c.Fe+"../"+encodeURI(f.url),xhrFields:{withCredentials:this.Xn()},success:function(a){c.Te.resolve(a)},error:function(a,d,b){c.Te.reject(d+(b?": "+JSON.stringify(b):""))}}));break;case "image":b=this.Be[f.p];m?b.promise.reject(m):a(f,n,b)&&(b.result=f,b.result.url=c.Fe+"../"+encodeURI(b.result.url),
b.resolve(b.result));break;case "tiles":b=f.rID;d=this.pe[b];this.pe[b]=null;this.su.push(b);if(m)d.reject(m);else if(a(f,n,d)){for(m=0;m<f.tiles.length;m++)f.tiles[m]=c.Fe+"../"+encodeURI(f.tiles[m]);d.resolve(f)}break;case "text":b=this.If[f.p];m?b.reject(m):a(f,n,b)&&(b.lJ(),$.ajax({dataType:"json",xhrFields:{withCredentials:this.Xn()},url:c.Fe+"../"+encodeURI(f.url),success:function(a){b.result=a;b.resolve(b.result)},error:function(a,d,c){b.reject(d+(c?": "+JSON.stringify(c):""))}}));break;case "progress":"loading"===
f.t&&c.trigger("documentLoadingProgress",[f.bytes,f.total])}},lG:function(){this.nA();return this.sj.promise},dG:function(){this.Te||(this.Te=e(),this.Te.request={t:"annots"},this.Ee(this.Te.request));return this.Te.promise},Tv:function(a){this.Be[a]||(this.Be[a]=e(),this.Be[a].request={t:"image",p:a},this.Ee(this.Be[a].request));return this.Be[a].promise},PT:function(a){this.If[a]||(this.If[a]=e(),this.If[a].request={t:"text",p:a},this.Ee(this.If[a].request));return this.If[a].promise},QT:function(a,
d,c,b){var f=this.pe.length;this.su.length&&(f=this.su.pop());this.pe[f]=e();this.pe[f].request={t:"tiles",p:a,z:d,r:c,size:b,rID:f};this.Ee(this.pe[f].request);return this.pe[f].promise},RI:function(){this.Td||(this.Td=e(),this.Td.request={t:"pdf"},this.Hy?this.Td.resolve({url:this.Ty}):this.Ee(this.Td.request));return this.Td.promise},zG:function(a){var d=new XMLHttpRequest,c=this.Fe+"aul?id="+this.id,b=new FormData,f={};a.annots&&(f.annots="xfdf");a.watermark&&(f.watermark="png");a.redactions&&
(f.redactions="redact");f={t:"docmod",reqID:this.SS++,parts:f};a.print&&(f.print=!0);f=this.VE(f);b.append("msg",JSON.stringify(f));a.annots&&b.append("annots",a.annots);a.watermark&&b.append("watermark",a.watermark);a.redactions&&b.append("redactions",a.redactions);this.ev[f.reqID]=e();d.open("POST",c);d.withCredentials=this.Xn;d.send(b);return this.ev[f.reqID].promise},WG:function(){this.Wc||(this.Wc=e(),this.Wc.request={t:"xod",noCreate:!0},this.Ee(this.Wc.request));return this.Wc.promise},RT:function(){this.jd||
(this.jd=e(),this.jd.request={t:"xod"},this.Ee(this.jd.request));return this.jd.promise},Bi:function(){return!0},request:function(){},Kv:function(){},abort:function(){for(var a=0;a<this.pe.length;a++)this.pe[a]&&(this.pe[a].resolve(null),this.pe[a]=null,this.su.push(a));this.close()},Ul:function(a){this.he=this.he||{};this.he.headers=a},VP:function(){return this.he?_.omit(this.he.headers,["Cookie","cookie"]):null},jw:function(a){this.he=this.he||{};this.he.internal=this.he.internal||{};this.he.internal.withCredentials=
a},Xn:function(){return this.he&&this.he.internal?this.he.internal.withCredentials:null},getFileData:function(){return Promise.reject()}},b.utils.eventHandler);b.o.V.cs=f})(window);
(function(b){function f(a,d,b,e){c.apply(this,arguments)}function e(a,d){this.url=a;this.range=d;this.status=this.Ib.Pi}var c=b.o.V.jk,a=b.o.V.Lw,d={};e.prototype={start:function(a){var c=this;d[this.range.start]={success:function(d){var e=atob(d),h,f=e.length;d=new Uint8Array(f);for(h=0;h<f;++h)d[h]=e.charCodeAt(h);e=d.length;h="";var p=0;if(b.utils.typedArrayApply)for(;p<e;)f=d.subarray(p,p+1024),p+=1024,h+=String.fromCharCode.apply(null,f);else for(f=Array(1024);p<e;){for(var u=0,q=Math.min(p+
1024,e);p<q;u++,p++)f[u]=d[p];h+=String.fromCharCode.apply(null,1024>u?f.slice(0,u):f)}c.success(h,a)},fail:function(){c.status=c.Ib.ERROR;a({code:c.status})}};var e=document.createElement("IFRAME");e.setAttribute("src",this.url);document.documentElement.appendChild(e);e.parentNode.removeChild(e);e=null;this.status=this.Ib.sk;c.Eu()}};e.prototype=a.prototype.extend(e);f.prototype={Ar:e,pq:function(a,d){return a+"#"+d.start+"&"+(d.stop?d.stop:"")}};f.prototype=$.extend(new c,f.prototype);b.o.V.op=
f;b.o.V.VW=e;b.o.V.op.XA=function(a,c){var b=d[c];delete d[c];b.success(a)};b.o.V.op.WA=function(a,c){var b=d[c];delete d[c];b.fail()}})(window);
(function(b){function f(a,d,b,e){c.apply(this,arguments)}function e(a,d){this.url=a;this.range=d;this.status=this.Ib.Pi}var c=b.o.V.jk,a=b.o.V.Lw,d={};e.prototype={start:function(a){function c(){e.status=e.Ib.ERROR;a({code:e.status})}function b(d){var c=atob(d),h,f=c.length;d=new Uint8Array(f);for(h=0;h<f;++h)d[h]=c.charCodeAt(h);c=d.length;h="";for(var l=0;l<c;)f=d.subarray(l,l+1024),l+=1024,h+=String.fromCharCode.apply(null,f);e.success(h,a)}var e=this;"undefined"===typeof d[this.range.start]&&
(d[this.range.start]={success:b,fail:c},window.external.notify(this.url),this.status=this.Ib.sk);e.Eu()}};e.prototype=a.prototype.extend(e);f.prototype={Ar:e,pq:function(a,d){return a+"?"+d.start+"&"+(d.stop?d.stop:"")}};f.prototype=$.extend(new c,f.prototype);b.o.V.Cp=f;b.o.V.oX=e;b.o.V.Cp.XA=function(a,c){var b=d[c];delete d[c];b.success(a)};b.o.V.Cp.WA=function(a,c){var b=d[c];delete d[c];b.fail()}})(window);
(function(b){function f(){e.apply(this,arguments)}var e=b.o.V.jk;f.prototype=$.extend(new e,{sG:function(){return{start:this.OF-b.o.V.Xi.prototype.nm,stop:this.OF}},jo:function(c){var a=this;this.Dl(this.url,{start:0,stop:1},function(d,b,f){if(d)return c(d);d=f.request.getResponseHeader("Content-Range");a.OF=d.split("/")[1];e.prototype.jo.call(a,c)})}});b.o.V.FK=f})(window);
(function(b){function f(a,d,e,g){this.Vd=a;this.sv=!1;this.cache=new c(b.Ow,a.Bi());a.decrypt&&a.Bi()&&(this.bl=new c(b.Ow,a.Bi()));this.J=d;this.la=g;this.pi={};this.Qr={};this.Nt={};this.$t={};this.tu=[];this.Cq={};this.De=e;this.vv=_.bind(this.vv,this);a.bind("partReady",this.vv)}function e(a){window._indexedDB=window._indexedDB||window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;window._IDBTransaction=window._IDBTransaction||window.IDBTransaction||window.webkitIDBTransaction;
window._IDBTransaction&&!window._IDBTransaction.READ_WRITE&&(window._IDBTransaction.READ_WRITE="readwrite");this.name=a;this.db=null;this.jF="1";this.gu=this.pd=!1}function c(a,d){this.HS=this.Dr=a;this.queue=[];this.yP=d}function a(a,d){this.Hf=a;this.mI=d;this.Ve={};this.mh={};this.pd=!1;for(var c=0;c<d.length;c++)this.mh[d[c]]=!0}function d(){this.index=0;this.data={functions:[],Ve:[],done:!1};this.ic=[]}function g(a){this.data=a;this.ic=[];this.Pf=[]}function l(a,d){this.Hf=a;this.Sa={};this.rb=
null;this.La=d}var h=b.o.V.Uw;b.kz=!1;b.o.Hz=function(a,d){if(b.utils.hasObjectURL){"string"===typeof d&&(d=b.RG(d));var c;try{c=new Blob([d],{type:a})}catch(e){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.bX||window.aX,window.BlobBuilder&&(c=new window.BlobBuilder,c.append(d),c=c.getBlob(a))}if(c)return URL.createObjectURL(c)}else return"data:"+a+";base64,"+btoa(d)};b.o.vG=function(a,d){return b.o.Hz("image/"+("jpg"===a?"jpeg":a),d)};g.prototype={init:function(a){if(this.data){var d=
this;b.iR(this.data,this.la,function(c){d.worker=c;d.Zr();d.DZ=[];d.Bw=!1;d.data=null;a()},function(a,c){a?d.Pf.push(a):d.Bw=!0;d.mY=c;var b=d.callback;d.callback=null;b&&b()})}else a()},cancel:function(){for(var a=0;a<this.ic.length;a++){for(var d=0;d<this.ic[a].saves;d++)this.ic[a].restore();this.ic[a].saves=0}this.ic=[];this.worker&&this.worker.cancel()},clone:function(){return new g(this.data)},run:function(a,d,c){if(this.Pf.length){-1===this.ic.indexOf(a)&&this.ic.push(a);c=Date.now()+c;do this.Zr(),
runEval(this.Pf.shift(),a,d);while(this.Pf.length&&c>Date.now());return!1}return!0},sr:function(){var a=this;this.worker||this.init(function(){a.Zr()});return new Promise(function(d){a.Bw||a.Pf.length?d():a.callback=d})},Zr:function(){if(this.Bw)return!1;this.worker.RS()},Fy:function(a){return new Function("c","t",a)},nz:function(a){var d=this;this.init(function(){function c(){if(d.Pf.length){d.Zr();var b=d.Pf.map(function(a){return d.Fy(a)});d.Pf=[];a(b)}else a()}d.Bw||d.Pf.length?c():d.callback=
c})}};d.prototype={clone:function(){var a=new d;a.data=this.data;a.index=0;return a},cancel:function(){for(var a=0;a<this.ic.length;a++){for(var d=0;d<this.ic[a].saves;d++)this.ic[a].restore();this.ic[a].saves=0}this.ic=[]},ZE:function(a){return new g(a)},nz:function(a,d){function c(){g.nz(function(a){a?(e.data.functions=e.data.functions.concat(a),b.setImmediate(c,0)):(e.data.done=!0,d());a=e.data.Ve.length;if(0<a){for(var g=0;g<a;++g)e.data.Ve[g]();e.data.Ve=[]}})}this.data.done=!1;var e=this,g=
this.ZE(a);e.data.functions=[];c();this.index=0},sr:function(){var a=this;return new Promise(function(d){a.data.done||a.index<a.data.functions.length?d():a.data.Ve.push(d)})},run:function(a,d,c){-1===this.ic.indexOf(a)&&this.ic.push(a);if(this.index<this.data.functions.length){c=Date.now()+c;var b=this.data.functions[this.index];do++this.index,b(a,d),b=this.data.functions[this.index];while(b&&c>Date.now());return!1}return!0},bU:g.prototype.bU};a.prototype={TR:function(){return 0===_(this.mh).keys().length}};
c.prototype={getItem:function(a){return this[a]||null},setItem:function(a,d,c){if(a in this)this.queue.splice(this.queue.indexOf(a),1),this.queue.push(a);else if(this.yP)this[a]={data:d,Ab:c},this.queue.push(a);else if(d.length<this.HS/2){for(;this.Dr<d.length;){var b=this.queue[0];this.Dr+=this[b].data.length;delete this[b];this.queue.shift()}this.Dr-=d.length;this[a]={data:d,Ab:c};this.queue.push(a)}}};e.prototype={open:function(a,d){var c=this,b=window._indexedDB.open(c.name);if(_.isUndefined(b))d("User declined to increase space");
else{b.onsuccess=function(){c.db=b.result;if(c.db.setVersion&&c.db.version!==c.jF){var a=c.db.setVersion(c.jF);a.onsuccess=function(){c.db.objectStoreNames.contains(c.name)&&c.db.deleteObjectStore(c.name);c.db.createObjectStore(c.name,{keyPath:"partName"});a.result.oncomplete=e}}else e()};b.onupgradeneeded=function(a){c.db=a.target.result;c.db.objectStoreNames.contains(c.name)&&c.db.deleteObjectStore(c.name);c.db.createObjectStore(c.name,{keyPath:"partName"})};b.onerror=function(){d("Error opening database for offline mode")};
var e=function(){c.get("NumParts",function(b,e){if(b)c.gu=!1,a();else{var g=c.db.transaction([c.name]).objectStore(c.name).count();g.onsuccess=function(){c.gu=g.result===e;a()};g.onerror=function(){d("Error opening database for offline mode")}}})}}},RJ:function(a,d,c,b){var e=this.db.transaction([this.name],window._IDBTransaction.READ_WRITE);e.oncomplete=function(){b&&b()};e.onerror=function(){b&&b();throw Error("Error adding "+a+" to the offline database");};e.objectStore(this.name).put({partName:a,
partData:d,compressed:c})},HV:function(a,d,c,b,e,g){function h(g){a.Bf(g,function(a){var c=d.indexOf(a.sa);-1<c&&delete d[c];f()||l.RJ(a.sa,a.data,a.Ab,function(){f()||(A++,e(A/B),A===B&&(l.gu=!0,b()))})},!0,c)}function f(){l.pd&&!z&&(z=!0,g(d),b());return z}var l=this;l.pd=!1;b=b||function(){};e=e||function(){};g=g||function(){};var A=0,B=d.length,z=!1;l.RJ("NumParts",B+1,!1,function(){for(var a=0;a<B;a++)h(d[a])})},PN:function(){this.pd=!0},get:function(a,d){var c=this.db.transaction([this.name]).objectStore(this.name).get(a);
c.onsuccess=function(){c.result?d(!1,c.result.partData,c.result.compressed):d("Part "+a+" not found in the offline database")};c.onerror=function(){d("Error getting "+a+" from offline database")}},Jj:function(){return this.gu}};f.prototype={Bf:function(a,d,c,e){function g(a){a=$.extend({},a);l.bl&&e&&(a.data=l.bl.getItem(a.sa).data);d(a)}var h=this.cache.getItem(a);if(!e&&null!==h){var f=h.Ab;h.Ab&&!c?(c=b.o.V.Xi.inflate(h.data),f=!1):c=h.data;d({sa:a,data:c,dg:!0,pd:!1,error:null,Ab:f});return d}if(this.bl&&
e&&(f=this.bl.getItem(a)))return d({sa:a,data:f.data,dg:!0,pd:!1,error:null,Ab:f.Ab}),d;var l=this;this.bind(a,g);this.Nt[a]=!0;this.$t[a]=!c;this.Vd.request([a],e);return g},vv:function(a){if(a.error)console.error("Error reading part "+a.sa+": "+a.error),this.trigger(a.sa,{sa:a.sa,error:a.error}),this.unbind(a.sa);else{var d=this,c=function(c){var e=a.sa.match(/\.([a-zA-Z]+)$/)[1].toLowerCase();"jpg"!==e&&"png"!==e&&(c=b.Aj(c));a.UH||(d.cache.setItem(a.sa,c,a.Ab),d.bl&&d.bl.setItem(a.sa,a.data,a.Ab));
d.Nt[a.sa]&&((e=a.Ab)&&d.$t[a.sa]&&(c=b.o.V.Xi.inflate(c),e=!1),delete d.Nt[a.sa],delete d.$t[a.sa],d.trigger(a.sa,{sa:a.sa,data:c,dg:!1,pd:!1,error:null,Ab:e}),d.unbind(a.sa),delete d._callbacks[a.sa])};this.Vd.decrypt&&!a.UH?this.Vd.gF?c(this.Vd.decrypt(a.data,this.Vd.Xk,a.sa)):this.Vd.decrypt(a.data,this.Vd.Xk,a.sa,c):c(a.data)}},$z:function(a){return this.xA?"Thumbs/"+(a+1)+".jpg":"Thumbs/"+(a+1)+".png"},Zz:function(a,d,c){var b=this,e=!1,g=this.Bf(this.$z(a),function(a){e=a.dg;b.LI(d);c(a)});
e||(this.Qr[d]={RN:g,Fb:a})},DG:function(a,d){var c=this,e=this.J[a].Hr[0];if(a in c.Cq)d(c.Cq[a].clone());else return c.Bf(e,function(e){if(e.error)return console.error("Failed to load part for page "+a+": "+e.error);c.zP(e.data,function(e){if(b.om){if(c.tu.length>=b.om){var g=c.tu.shift();delete c.Cq[g]}c.tu.push(a);c.Cq[a]=e}d(e.clone())})},!0)},Mz:function(d,c,e){function g(a){if(a.error)return console.error("Failed to load part for page "+d+": "+a.error);delete z.mh[A];v.kj&&0!==v.aq.length||
(v.aq=f.hT(a.sa,a.data).map(function(a){a.PageNumber=d+1;return a}));h()}function h(){if(z.TR()){if(null===E.rb)throw Error("Functions have not been generated yet");z.pd||w||(delete f.pi[d],f.trigger(d,!1,E),e(!1,E),w=!0,f.unbind(d+""),f._callbacks&&delete f._callbacks[d+""])}}var f=this;this.pi[d]=this.pi[d]||{zo:{}};var q=0<Object.keys(this.pi[d].zo).length;this.pi[d].zo[c]=null;if(q)return b.utils.warn("Duplicate request for page "+d),q=function(a,d){var c=$.extend({},d);c.rb=d.rb.clone();c.Sa=
$.extend(!0,{},c.Sa);e(a,c)},this.pi[d].zo[c]=q,this.bind(d,q);var v=f.J[d],x=v.Hr[2],A=v.Hr[1],B=v.Hr[0],z;z=this.sv?new a(d,[B,A,x]):new a(d,[B,x]);this.pi[d].request=z;var y=z.Ve,w=!1,E=new l(d,f);y[x]=f.Bf(x,function(a){if(a.error)return console.error("Failed to load part for page "+d+": "+a.error);a=f.kT(a.sa,a.data);delete z.mh[x];_(a).each(function(a){z.mh[a.slice(1)]=!0});_(a).each(function(a){a=a.slice(1);var c=-1!==a.indexOf(".odttf")||-1!==a.indexOf(".otf"),e=-1!==a.indexOf(".png")||-1!==
a.indexOf(".jpg");b.kz&&c?(delete z.mh[a],E.Sa[a]=f.Vh(a)):c&&!f.De.Vu(f.Vh(a).name)?(z.mI.push(a),y[a]=f.Bf(a,function(c){if(c.error)return console.error("Failed to load part for page "+d+": "+c.error);delete z.mh[a];E.Sa[a]=f.Vh(c.sa,c.data);h()})):e&&b.kz?(delete z.mh[a],setTimeout(function(){f.Bf(a,function(a){a=f.Vh(a.sa,a.data);var c=new Image;c.src=a.data;$(c).css({position:"absolute","z-index":8,height:"100%",width:"100%"}).prependTo("#pageContainer"+d)})},0)):(delete z.mh[a],E.Sa[a]=f.Vh(a),
h())});h()});this.sv&&(y[A]=f.Bf(A,g));y[B]=this.DG(d,function(a){E.rb=a;delete z.mh[B];h()})},zP:function(a,d){if(b.om){var c=new b.o.EK(this.la);c.nz(a,function(){});d(c)}else d(new b.o.DK(this.la,a))},jq:function(a,d){var c=this.pi[a];if(c){this.Vd.qy(c.request.mI);var b=c.zo[d];b&&this.unbind(a+"",b);delete c.zo[d];if(0===Object.keys(c.zo).length){c.pd=!0;var c=c.Ve,e;for(e in c)c.hasOwnProperty(e)&&this.unbind(e,c[e]);delete this._callbacks[a+""];delete this.pi[a]}}},QN:function(a){var d=this.Qr[a];
d&&(this.Vd.qy([this.$z(d.Fb)]),this.LI(a))},LI:function(a){var d=this.Qr[a];d&&(this.unbind(this.$z(d.Fb),d.RN),delete this.Qr[a])},Vh:function(a,d){var c,e=a,g=a.match(/\.([a-zA-Z]+)$/)[1].toLowerCase();switch(g){case "png":case "jpg":a="i"+this.la+"-"+a.match(/Images\/(\d+)/)[1];if(d){c=h&&this.Vd instanceof h?this.Vd.path+d:b.o.vG(g,d);break}break;case "odttf":var f;d&&(f=this.FO(a,d));a=b.df.Az(this.la,parseInt(a.substr(34,8),16));d&&(c=new b.df.FontFace(a,f,"opentype"),this.De.tA(a)||c.insert());
g="font";break;case "otf":a=a.substr(0,a.length-4);a=b.df.Az(this.la,parseInt(a.substr(6),10));if(d){if(h&&this.Vd instanceof h)g=this.Vd.path;else throw Error("Use an external part retriever for documents with external fonts");c=new b.df.FontFace(a,null,"opentype",g+d);this.De.tA(a)||c.insert()}g="font";break;default:c=d}return{name:a,type:g,data:c,sa:e}},kT:function(a,d){var c=[],e=new b.Oe(d);for(e.oa();e.advance();){var g=e.K("Target");null!==g?c.push(g):b.utils.warn("Corrupt rels part: %s",a)}0<
c.length&&_(c).last().match(/Thumbs/)&&c.pop();return c},hT:function(a,d){var c=[],e=new b.Oe(d);for(e.oa();e.advance();){for(var g=e.ua(),h=e.K("BBox"),h=h.split(","),f=0;4>f;++f)h[f]=parseFloat(h[f]);"Hyperlink"===g?c.push(new b.Annotations.nd({actions:{U:[{name:"URI",uri:e.K("Target")}]},rect:h})):"Link"===g&&c.push(new b.Annotations.nd({actions:{U:[{name:"GoTo",dest:{page:e.K("ID"),fit:"XYZ",top:e.K("Vpos"),left:e.K("Hpos")}}]},rect:h}))}return c},FO:function(a,d){a=a.split("/")[1].split(".")[0];
for(var c=a.split("-"),b=[],e=16,g=0;g<c.length;++g)for(var h=c[g],f=0;f<h.length;f+=2)b[--e]=parseInt(h.slice(f,f+2),16);for(c=0;16>c;++c)e=b[c],b[c]=String.fromCharCode(d.charCodeAt(c)^e),b[c+16]=String.fromCharCode(d.charCodeAt(c+16)^e);return d=b.join("")+d.slice(32)}};_(f.prototype).extend(Backbone.Events);b.o.V.mL=f;b.o.qL=e;b.o.PK=g;b.o.QK=d})(window);
(function(b){function f(a){this.index=0;this.data={functions:[],Ve:[],done:!1};this.ic=[];this.dz=new c(a);this.la=a}function e(a,d){this.data=d;this.ic=[];this.Pf=[];this.dz=new c(a);this.la=a}function c(a){this.la=a;this.ki=0;this.Sa=[];this.li=[0,0]}c.prototype={Jr:function(a,d,c){this.m_c=d;this.Ac=c;d=a.operators;a=a.data;var e=d.length;this.OB=b.asc(c);this.LV=1/this.OB;for(var h=0;h<e;++h)c=d[h],this[c].apply(this,a[h]);this.dv=null},save:function(){this.m_c.save()},restore:function(){this.m_c.restore()},
transform:function(a,d,c,b,e,f){this.m_c.transform(a,d,c,b,e,f)},translate:function(a,d){this.m_c.translate(a,d)},HU:function(a,d){this.m_c.lineWidth=Math.max(a,this.LV/d)},FU:function(a){this.m_c.lineCap=a},gG:function(a){var d=a.type;if(d)switch(d){case 1:a=this.createPattern(a);break;case 2:a=this.createLinearGradient(a);break;case 3:a=this.createRadialGradient(a);break;case 4:a=this.mO(a)}return a},iV:function(a){this.m_c.strokeStyle=this.gG(a)},zU:function(a){this.m_c.fillStyle=this.gG(a)},WT:function(a){var d=
this.QQ(a);a=d.CS;for(var d=d.BS,c,b=a.length,e=0;e<b;++e)c=a[e],this[c].apply(this,d[e])},AU:function(a){this.m_c.globalAlpha=a},$E:function(a,d){for(var c=d.length,b=0;b<c;++b){var e=d[b],f=d[++b];a.addColorStop(e,f)}},pO:function(a){var d=this.m_c,c=this.Ac,b=a.operators,e=this.OB*a.scale,f=a.w*e,m=a.h*e;2>e*a.minwh&&(e=2/a.minwh,f=a.w*e,m=a.h*e);var n=this.m_c.createCanvas();n.width=f;n.height=m;var f=n.getContext("2d"),m=a.x||a.y,r={};m&&(r.x=a.x,r.y=a.y);r.s=1/e;f.scale(e,e);m&&f.translate(-a.x,
-a.y);a.strokeAdjust&&(this.m_c.lineWidth=e*a.strokeAdjust);this.Jr(b,f,this.Ac);this.m_c=d;this.Ac=c;return{canvas:n,transform:r}},createPattern:function(a){var d;this.dv&&a===this.dv.style?d=this.dv:(d=this.pO(a),d.style=a,d.pattern=this.m_c.createPattern(d.canvas,a.tm),this.dv=d);a=d.transform;a.x&&this.m_c.translate(a.x,a.y);this.m_c.scale(a.s,a.s);return d.pattern},createLinearGradient:function(a){var d=this.m_c.createLinearGradient(a.x0,a.y0,a.x1,a.y1);this.$E(d,a.stops);return d},createRadialGradient:function(a){var d=
this.m_c.createRadialGradient(a.x0,a.y0,0,a.x1,a.y1,a.r);this.$E(d,a.stops);return d},mO:function(a){return this.m_c.createPattern(b.ci[a.name],a.tm)},kN:function(a){this.ki+=a},mV:function(a){this.ki=a},addColorStop:function(a,d){this.eZ.addColorStop(a,d)},beginPath:function(){this.m_c.beginPath()},closePath:function(){this.m_c.closePath()},fill:function(a){a?this.m_c.fill(a):this.m_c.fill()},stroke:function(){this.m_c.stroke()},clip:function(a){a?this.m_c.clip(a):this.m_c.clip()},moveTo:function(a,
d){this.m_c.moveTo(a,d)},lineTo:function(a,d){this.m_c.lineTo(a,d)},quadraticCurveTo:function(a,d,c,b){this.m_c.quadraticCurveTo(a,d,c,b)},bezierCurveTo:function(a,d,c,b,e,f){this.m_c.bezierCurveTo(a,d,c,b,e,f)},font:function(a){var d=a;1!==window.utils.canvasFontMultiplier&&(d=parseFloat(a),d/=window.utils.canvasFontMultiplier,d=a.replace(/\d+/,d));this.m_c.font=d},fillText:function(a,d,c){this.m_c.fillText(a,this.ki+d,c)},measureText:function(a){this.ki+=this.m_c.measureText(a).width},drawImage:function(a){this.m_c.drawImage(window.ci[a],
0,0)},XO:function(a,d){for(var c=window.ci[a],e=Math.log(1/(this.OB*d))*b.o.fy,h=1,f=1;f<e;++f){var m=this.m_c.createCanvas();m.width=.5*c.width;m.height=.5*c.height;m.getContext("2d").drawImage(c,0,0,m.width,m.height);c=m;h*=2}this.m_c.scale(h,h);this.m_c.drawImage(c,0,0)},GU:function(a){this.m_c.lineJoin=a},BU:function(a){this.m_c.globalCompositeOperation=a},jN:function(a,d,c){this.Sa.push({CS:d,BS:c,name:a})},QQ:function(a){var d=this.Sa.length-1;do{var c=this.Sa[d];if(c.name===a)return c}while(0<=
--d)},KT:function(){this.Sa.pop()},MT:function(a,d,c,e){var h=this.Ac.W({x:d.x1,y:d.y1}),f=h.x,h=h.y;d=this.Ac.W({x:d.x2,y:d.y2});var m=d.x,n=d.y;d=[];var r=this.li[0],p=this.li[1],u=r+this.m_c.canvas.width,q=p+this.m_c.canvas.height;f<m?(f<r&&(f=r),m>u&&(m=u),d[0]=Math.floor(f),d[2]=Math.ceil(m-f)):(m<r&&(m=r),f>u&&(f=u),d[2]=Math.ceil(f-m),d[0]=Math.floor(m));h<n?(h<p&&(h=p),n>q&&(n=q),d[1]=Math.floor(h),d[3]=Math.ceil(n-h)):(n<p&&(n=p),h>q&&(h=q),d[3]=Math.ceil(h-n),d[1]=Math.floor(n));0<d[2]&&
0<d[3]&&(f=this.m_c,h=this.m_c.createCanvas(),h.width=d[2],h.height=d[3],m=this.li,this.li=d,n=h.getContext("2d"),n.translate(-d[0],-d[1]),n.transform(this.Ac.m_a,this.Ac.m_b,this.Ac.m_c,this.Ac.m_d,this.Ac.m_h,this.Ac.m_v),n.transform.apply(n,a.mtx),this.Jr(a,n,this.Ac),e&&(a=this.m_c.createCanvas(),a.width=d[2],a.height=d[3],n=a.getContext("2d"),n.beginPath(),n.moveTo(0,0),n.lineTo(d[2],0),n.lineTo(d[2],d[3]),n.lineTo(0,d[3]),n.closePath(),n.translate(-d[0],-d[1]),n.transform(this.Ac.m_a,this.Ac.m_b,
this.Ac.m_c,this.Ac.m_d,this.Ac.m_h,this.Ac.m_v),n.transform.apply(n,e.mtx),this.Jr(e,n,this.Ac),n.globalCompositeOperation="source-in",n.setTransform(1,0,0,1,0,0),n.drawImage(h,0,0),h=a),this.li=m,"source-over"===c||b.utils.specialBlendSupported?(f.save(),f.globalCompositeOperation=c,f.setTransform(1,0,0,1,d[0]-this.li[0],d[1]-this.li[1]),f.drawImage(h,0,0),f.restore()):n.bO(f,c,{x:d[0]-this.li[0],y:d[1]-this.li[1]}),this.m_c=f)},OV:function(a){this.m_c.tm(a)},miterLimit:function(a){this.m_c.miterLimit=
a},vO:function(){this.m_c.cgb()},wO:function(){this.m_c.cge()},setTransform:function(a,d,c,b,e,f){this.m_c.setTransform(a,d,c,b,e,f)},scale:function(a,d){this.m_c.scale(a,d)},rP:function(a,d,c){this.m_c.xw(a+" ",this.ki+d,c)},fillRect:function(a,d,c,b){this.m_c.fillRect(a,d,c,b)},sP:function(a,d,c){this.m_c.xcw(a+" ",this.ki+d,c)},fillTextCustom:function(a,d,c){this.m_c.xc(a,this.ki+d,c)}};c.prototype[0]=c.prototype.save;c.prototype[1]=c.prototype.restore;c.prototype[2]=c.prototype.transform;c.prototype[3]=
c.prototype.translate;c.prototype[4]=c.prototype.HU;c.prototype[5]=c.prototype.FU;c.prototype[6]=c.prototype.iV;c.prototype[7]=c.prototype.zU;c.prototype[8]=c.prototype.AU;c.prototype[9]=c.prototype.jN;c.prototype[10]=c.prototype.KT;c.prototype[11]=c.prototype.kN;c.prototype[12]=c.prototype.WT;c.prototype[13]=c.prototype.beginPath;c.prototype[14]=c.prototype.closePath;c.prototype[15]=c.prototype.fill;c.prototype[16]=c.prototype.stroke;c.prototype[17]=c.prototype.clip;c.prototype[18]=c.prototype.moveTo;
c.prototype[19]=c.prototype.lineTo;c.prototype[20]=c.prototype.quadraticCurveTo;c.prototype[21]=c.prototype.bezierCurveTo;c.prototype[22]=c.prototype.font;c.prototype[23]=c.prototype.fillText;c.prototype[24]=c.prototype.measureText;c.prototype[25]=c.prototype.mV;c.prototype[26]=c.prototype.miterLimit;c.prototype[27]=c.prototype.GU;c.prototype[28]=c.prototype.drawImage;c.prototype[29]=c.prototype.setTransform;c.prototype[30]=c.prototype.scale;c.prototype[31]=c.prototype.rP;c.prototype[32]=c.prototype.vO;
c.prototype[33]=c.prototype.wO;c.prototype[34]=c.prototype.BU;c.prototype[35]=c.prototype.OV;c.prototype[36]=c.prototype.MT;c.prototype[37]=c.prototype.fillRect;c.prototype[39]=c.prototype.sP;c.prototype[38]=c.prototype.fillTextCustom;e.prototype={clone:function(){return new e(this.la,this.data)},run:function(a,d){return this.Pf.length?(this.Zr(),-1===this.ic.indexOf(a)&&this.ic.push(a),this.m_c=a,this.Ac=d,this.dz.Jr(this.Pf.shift(),a,d),!1):this.jz=!0},Fy:function(a){return a}};e.prototype=$.extend(Object.create(b.o.PK.prototype),
e.prototype);f.prototype={ZE:function(a){return new e(this.la,a)},clone:function(){var a=new f(this.la);a.data=this.data;a.index=0;return a},run:function(a,d){var c=this.data.functions[this.index];this.index++;-1===this.ic.indexOf(a)&&this.ic.push(a);return c?(this.dz.Jr(c,a,d),!1):!0}};f.prototype=$.extend(Object.create(b.o.QK.prototype),f.prototype);b.o.oU=function(a){!0===a&&(a=1.4);b.o.fy=a;c.prototype[28]=a?c.prototype.XO:c.prototype.drawImage};b.o.DK=e;b.o.EK=f})(window);
(function(b){var f=window.o;f.hm=function(){this.init()};f.hm.prototype={init:function(){this.fO=!1;this.Fe=this.Sh=this.qn=null;this.en={};this.da=this.yw=null},ZV:function(b){for(var c=0;c<b.length;++c){var a=b[c],d;switch(a.at){case "create":this.en[a.author]||(this.en[a.author]=a.aName);d=this.da.eo(a.xfdf)[0];d["authorId "]=a.author;this.da.Tb(d);this.da.trigger("updateAnnotationPermission",[d]);break;case "modify":d=this.da.eo(a.xfdf)[0];this.da.Tb(d);break;case "delete":this.da.eo("<delete><id>"+
a.aId+"</id></delete>")}}},hR:function(b,c,a){this.Sh&&this.Sh(b,c,a)},sT:function(b){this.one("blackBoxAnnotationsEnabled",this.hR.bind(this,{imported:!1},b,"add"))},NR:function(e,c,a){var d=this;if(e){d.Fe=c;d.da=a.Bb();a.on("documentUnloaded",function(){d.Ry()});d.sW(e);var g=new XMLHttpRequest;g.addEventListener("load",function(){if(200===g.status&&0<g.responseText.length)try{var a=JSON.parse(g.responseText);d.qn=b.o.fC(b.joinPaths(d.Fe,"blackbox/"),"annot");d.yw=a.id;d.en[a.id]=a.user_name;d.da.yB(a.id);
d.qn.KB(function(a){a.t&&a.t.startsWith("a_")&&a.data&&d.ZV(a.data)},function(){d.qn.send({t:"a_retrieve",dId:e});d.trigger("blackBoxAnnotationsEnabled",[d.en[a.id],d.yw])},function(){d.Ry()})}catch(c){console.error(c.message)}});g.open("GET",b.joinPaths(this.Fe,"demo/SessionInfo.jsp"));g.withCredentials=!0;g.send();d.fO=!0;d.da.gJ(function(a){return d.en[a.Author]||a.Author})}else console.error("Document ID required for collaboration")},Ry:function(){this.Sh&&(this.da.off("annotationChanged",this.Sh),
this.Sh=null);this.qn&&this.qn.bz();this.da&&this.da.yB("Guest");this.init();this.trigger("blackBoxAnnotationsDisabled")},sW:function(b){var c=this;this.Sh&&this.da.off("annotationChanged",this.Sh);this.Sh=function(a,d,g){if(!a.imported){a={t:"a_"+g,dId:b,annots:[]};var f=c.da.uu(),h,k;"delete"!==g&&(h=(new DOMParser).parseFromString(f,"text/xml"),k=new XMLSerializer);for(f=0;f<d.length;f++){var m=d[f],n;if("add"===g){n=h.querySelector('[name="'+m.Id+'"]');n=k.serializeToString(n);var r=null;m.InReplyTo&&
(r=c.da.zj(m.InReplyTo).authorId||"default");a.annots.push({at:"create",aId:m.Id,author:c.yw,aName:c.en[c.yw],parent:r,xfdf:"<add>"+n+"</add>"})}else"modify"===g?(n=h.querySelector('[name="'+m.Id+'"]'),n=k.serializeToString(n),a.annots.push({at:"modify",aId:m.Id,xfdf:"<modify>"+n+"</modify>"})):"delete"===g&&a.annots.push({at:"delete",aId:m.Id})}0<a.annots.length&&c.qn.send(a)}}.bind(c);this.da.on("annotationChanged",this.Sh)}};$.extend(f.hm.prototype,b.utils.eventHandler)})(window);
(function(b){function f(a){return g[a]||"Unknown"}b.Annotations=b.Annotations||{};var e=b.Annotations,c;if(!(c=!Object.defineProperty)){var a;try{Object.defineProperty({},"x",{}),a=!0}catch(l){a=!1}c=!a}c&&(Object.defineProperty=function(a,d,c){if(a!==Object(a))throw new TypeError("Object.defineProperty called on non-object");Object.prototype.__defineGetter__&&"get"in c&&Object.prototype.__defineGetter__.call(a,d,c.get);Object.prototype.__defineSetter__&&"set"in c&&Object.prototype.__defineSetter__.call(a,
d,c.set);"value"in c&&(a[d]=c.value);return a});"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(a,d){if(a!==Object(a))throw new TypeError("Object.defineProperties called on non-object");for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&Object.defineProperty(a,c,d[c]);return a});var d,g={arrow:"Arrow",callout:"Callout",caret:"Caret",ellipse:"Ellipse",freeHand:"Free Hand",freetext:"FreeText",highlight:"Highlight",line:"Line",polygon:"Polygon",polyline:"Polyline",
rectangle:"Rectangle",redact:"Redaction",signature:"Signature",squiggly:"Squiggly",stamp:"Stamp",stickyNote:"Comment",strikeout:"Strikeout",underline:"Underline"};b.DC=function(a){this.ju=[a]};b.DC.prototype={writeStartElement:function(a){a=document.createElementNS("",a);this.ju.push(a)},writeAttributeString:function(a,d){this.top().setAttribute(a,d)},writeEndElement:function(){var a=this.ju.pop();this.top().appendChild(a)},top:function(){return this.ju[this.ju.length-1]}};e.ha={kk:1,extraSelectorsEnabled:!1,
Mc:function(a){return f(a)},rU:function(a){f=a},qF:function(a,d){for(var c=[],b=Math.min(a+1,d-1),e=Math.max(0,a-1);e<=b;++e)c.push(e);return c},iF:function(a){return null===a?"":0<a.length?a.replace(/&[^;]*;/g,function(a){switch(a.charAt(1)){case "q":return'"';case "a":return"&";case "l":return"<";case "g":return">";case "#":return"x"===a.charAt(2)?String.fromCharCode(parseInt(a.substring(3,a.length-1),16)):String.fromCharCode(parseInt(a.substring(2,a.length-1),10))}return a}):""},HO:function(a,
d,c){var g=c.u.getDocument(),f=d.getAttribute("page"),f=parseInt(f,10),r=[],p=[];if(d.hasAttribute("selidxs"))var u=d.getAttribute("selidxs"),r=e.ba.IO(u);else b.utils.warn("annot_extra_selectors","deserializeExtraSelectors: No index-based selector in XFDF.");if(d.hasAttribute("surrtxts_0_0"))for(u=0;;){if(d.hasAttribute("surrtxts_"+u+"_0")&&d.hasAttribute("surrtxts_"+u+"_1")){var q=d.getAttribute("surrtxts_"+u+"_0");if(null===q)break;var v=d.getAttribute("surrtxts_"+u+"_1");if(null===v)break;var x=
[];x.push(e.ha.iF(q));x.push(e.ha.iF(v));p.push(x)}else break;u++}else b.utils.warn("annot_extra_selectors","deserializeExtraSelectors: No surrounding-text-based selector in XFDF.");if(0>=r.length&&0>=p.length)b.utils.warn("annot_extra_selectors","deserializeExtraSelectors: No extra selector data deserialized."),a.Wf=!1;else{a.Wf=!0;a.Ng=null;a.sf=null;a.VD=!1;a.Hp=!1;a.ot=!0;var A=function(){var d=c.u.getDocument();if(d!==g)a.Wf=!1;else{var d=new XODText.Ti(d),b;0<r.length&&(b=d.LQ(f,r,a.Zg()),b.status&&
(a.Ng=b.value));0<p.length&&(b=d.KQ(f,p,a.Zg()),b.status&&(a.sf=b.value,a.PageNumber=b.Ll+1));a.trigger("quadsCalculatedFromExtraSelectors");a.VD=!0}},B=function(){var d=c.u.getDocument();if(d!==g)a.Wf=!1;else{var b=d.Db()-1,e=[];0===f&&1<=b?(e.push(f+1),e.push(f),a.ot=!1,d.hr(e).then(A)):0<f&&b>=f+1&&(e.push(f+1),e.push(f-1),e.push(f),a.ot=!1,d.hr(e).then(A))}};0===p.length?(a.ot=!1,g.hr(f).then(A)):(a.SD||(c.u.off("layoutChanged",B),c.u.on("layoutChanged",B),c.u.one("documentUnloaded",function(){c.u.off("layoutChanged",
B)}),a.SD=!0),g.kc().then(function(){c.u.off("layoutChanged",B);a.SD=!1;var d=c.u.getDocument();if(d===g&&a.ot){var b=e.ha.qF(f,d.Db());d.hr(b).then(A)}else c.u.off("layoutChanged",B),a.Wf=!1}))}},yU:function(a){this.extraSelectorsEnabled=a},oG:function(a){return!a||a instanceof Date?a:new Date(a)},mR:function(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},measureText:function(a,d,c,b){var e=document.getElementById("text-width-tester");
"number"===typeof d&&(d+="px");a=a.split("\n").join("<br>&nbsp;").split(" ").join("&nbsp;");if(e)e.style.fontFamily=c,e.style.fontSize=d,e.style.fontWeight=b,e.innerHTML=a;else{var g="display:none;";_.isString(c)&&(g+="font-family:"+c+";");_.isUndefined(d)||(g+="font-size:"+d+";");_.isUndefined(b)||(g+="font-weight:"+b+";");e=document.createElement("span");e.id="text-width-tester";e.cssText=g;e.innerHTML=a;document.getElementsByTagName("body")[0].appendChild(e)}a=$(e);a.show();d={width:a.width(),
height:a.height()};a.hide();return d},Tn:function(a,c){var b=(d||(d=document.createElement("canvas"))).getContext("2d");b.font=c;return b.measureText(a).width},Gz:function(a,d){if(!Array.isArray(d)||!d.length)return console.warn("Number format array for measurement should have at least one number format dictionary in it"),"";var c=Array(d.length),b=c.length;c[0]=a;for(var e=1;e<b;e++){var g=c[e-1],f=g%1;c[e-1]=Math.trunc(g);c[e]=f*d[e].factor}var u=this;return c.map(function(a,c){var e=d[c],g=e.unit;
return c===b-1?u.MS(a,e)+" "+g:u.sE(a.toString(),e.thousandsSymbol)+" "+g}).join(" ")},MS:function(a,d){var c,b,e=d.display;"D"===e?(b=d.precision,0!==b%10&&console.warn("precision for decimal display must be a multiple of 10"),b=a.toFixed((b/10).toString().length).split("."),c=b[0],b=d.decimalSymbol+b[1]):"F"===e?(c=Math.trunc(a).toString(),b=d.precision,b=" "+Math.round(a%1*b)+"/"+b):"R"===e?(c=Math.round(a).toString(),b=""):"T"===e&&(c=Math.trunc(a).toString(),b="");return this.sE(c,d.thousandsSymbol)+
b},sE:function(a,d){for(var c=a.length-3;0<c;c-=3)a=a.slice(0,c)+d+a.slice(c);return a},Cc:function(a,d){var c=e.ha.yG(this),b=c.vI,c=c.Py;if(b)if(Array.isArray(a)&&Array.isArray(d)){var g={mm:.1,cm:1,m:100,km:1E5,mi:160394,yd:91.44,ft:30.48,"in":2.54,pt:.0352778},f=a[0],p=a[1],u=d[0],q=d[1];c.scale=a.join(" ")+" = "+d.join(" ");c[b][c[b].length-1].unit=q;c.axis[0].factor=u/f*(g.pt/g[p])}else console.warn("Both arguments for setScale must be array");else console.warn("setScale can only be called for measurement annotations or tools")},
Uc:function(a){var d=e.ha.yG(this),c=d.vI,d=d.Py;c?"number"!==typeof a?console.warn("The argument of setPrecision must be a number"):d[c].forEach(function(d){d.precision&&(d.precision=1/a)}):console.warn("setScale can only be called for measurement annotations or tools")},yG:function(a){var d,c;a instanceof Tools.Tool&&(d=a.defaults.measure,c=a.defaults.IT);a instanceof e.Annotation&&(d=a.measure,c=a.IT);var b;if("LineDimension"===c||"PolyLineDimension"===c)b="distance";"PolygonDimension"===c&&(b=
"area");return{vI:b,Py:d}},TF:function(a,d,c,b){if(d){d.style.fontSize=c+"px";a=0;for(var e;a<=c;)e=Math.floor((a+c)/2),d.style.overflow="hidden",d.offsetHeight,d.style.fontSize=e+"px",b&&(d.style.lineHeight=b(e)),d.style.overflow="auto",d.scrollHeight>Math.ceil($(d).outerHeight())?c=e-1:a=e+1;d.scrollHeight>Math.ceil($(d).outerHeight())&&(d.style.fontSize=parseFloat(d.style.fontSize)-1+"px");return parseFloat(d.style.fontSize)}return c/2},iP:function(a,d){if(b.utils.disableFormCharacterProcessing)$(a).on("change",
function(){d({change:this.value,sH:!0})});else $(a).on("input",function(a){a.change=this.value;d(a)})},VO:function(a,d,c,e){a.save();a.translate(d.x,d.y);a.rotate(b.Yd.Math.CP(d,c));a.moveTo(0,0);c=5*e+2;d=Math.cos(.2*Math.PI)*c;c*=Math.sin(.2*Math.PI);a.moveTo(d,-c);a.lineTo(0,0);a.lineTo(d,c);a.stroke();a.restore()},fq:function(a,d){var c=a.W({x:0,y:0}),b=a.W({x:Number(d),y:0}),e=c.x-b.x,c=c.y-b.y;return Math.sqrt(e*e+c*c)},wF:function(a,d,c){d.beginPath();var g=b.Yd.Math.eO(c);b.Yd.Math.pI(c)&&
(g[g.length]={x:g[0].x,y:g[0].y});if(!(2>=g.length)){var f=a.Intensity;f||(f=2);var r=1/8092,p=b.Yd.Math.IQ(g);a=1!==Math.round(p);c=0;for(var u=6.5*f,q=g[0],v=u,x=u,A={x:g[1].x-g[0].x,y:g[1].y-g[0].y},B={x:g[0].x-g[g.length-2].x,y:g[0].y-g[g.length-2].y},f=!0,z=!1,y=0,w,E,I,D=0;D<g.length-1;++D){var H=g[D],M=g[D+1],M={x:M.x-H.x,y:M.y-H.y},G=Math.sqrt(M.x*M.x+M.y*M.y);if(!(G<=r)){var L={x:M.x/G,y:M.y/G},F=Math.max(Math.floor(G/u),1),G=G/F;c=b.Yd.Math.DP(L.x,L.y);if(0===D&&3>=g.length){var N=Math.sqrt(A.x*
A.x+A.y*A.y);if(N<u){d.arc(g[0].x,g[0].y,N,0,2*Math.PI);return}if(N<2*G){w=N/2;d.arc(g[0].x,g[0].y,w,0,2*Math.PI);d.moveTo(g[1].x+w,g[1].y);d.arc(g[1].x,g[1].y,w,0,2*Math.PI);d.moveTo(g[0].x+w,g[0].y);return}d.arc(g[0].x,g[0].y,G/2,0,2*Math.PI);d.moveTo(g[1].x+G/2,g[1].y);d.arc(g[1].x,g[1].y,G/2,0,2*Math.PI);d.moveTo(g[0].x+G/2,g[0].y)}0===D&&(y=G,w={x:L.x,y:L.y});H.x-=L.x*G*.5;H.y-=L.y*G*.5;B=b.Yd.Math.tO(B,M);N=0;z||(++N,x=G,f=0>B*p,H.x+=L.x*G,H.y+=L.y*G,q=H,d.moveTo(q.x,q.y),E=q.x,I=q.y,z=!0);
for(v=.25*(v+G);N<F;++N)H.x+=L.x*G,H.y+=L.y*G,I=e.ha.arcTo(E,I,d,v,v,c,0===N&&0>B*p,a,H.x,H.y),E=I.FV,I=I.GV;B=M;v=G}}z||(d.moveTo(q.x,q.y),E=q.x,I=q.y);w&&(r=.25*(x+v),e.ha.arcTo(E,I,d,r,r,c,f,a,g[g.length-1].x+.5*y*w.x,g[g.length-1].y+.5*y*w.y))}},arcTo:function(a,d,c,e,g,f,p,u,q,v){var x=[],A=[];b.Yd.Math.zN(a,d,x,A,e,g,f,p,u,q,v);for(g=e=0;g<A.length;++g)"c"===A[g]?(c.bezierCurveTo(x[e],x[e+1],x[e+2],x[e+3],x[e+4],x[e+5]),a=x[e+4],d=x[e+5],e+=6):(c.lineTo(x[e],x[e+1]),a=x[e],d=x[e+1],e+=2);return{FV:a,
GV:d}}}})(window);
(function(b){b.Annotations=b.Annotations||{};var f=b.Annotations;f.zm={hy:function(e,c){var a=c.da;if(a.vA()){var d=[];if(e)if(_.isArray(e))d=e.filter(function(a){return a instanceof f.qe});else if(e instanceof f.qe)d=[e];else{console.warn("The selected annotation can`t be redacted");return}else d=a.Ye().filter(function(a){return a instanceof f.qe});0===d.length&&console.warn("No redaction annotations selected");var g=c.getDocument(),l=null;b.PDFNet.initialize().then(function(){return g.ol()}).then(function(a){l=a;
return f.zm.ST(a,d)}).then(function(){return b.PDFNet.beginOperation()}).then(function(){return Promise.all(d.map(function(a){return f.zm.ET(l,c,a)}))}).then(function(){return b.PDFNet.getStackCount()}).then(function(a){b.PDFNet.finishOperation();if(0<a)throw Error('Detected not yet deallocated stack. You may have called "PDFNet.startDeallocateStack()" somewhere without calling "PDFNet.endDeallocateStack()" afterwards.');})["catch"](function(){b.PDFNet.finishOperation()})}else console.warn("Applying redactions is not enabled")},
ST:function(b,c){var a=[];c.forEach(function(d){d=d.Mb();-1===a.indexOf(d)&&a.push(d)});return Promise.all(a.map(function(a){return b.requirePage(a)}))},ET:function(e,c,a){b.PDFNet.startDeallocateStack();e.lock();var d=c.Bb(),g=f.zm.MQ(a),l=f.zm.EP(a,c);return Promise.all([l,g]).then(function(g){return b.PDFNet.Redactor.redact(e,g[0],g[1]).then(function(){try{var e=a.Mb();a.Rz().forEach(function(c){f.zm.CO(c,d,a)});d.eg(a,null,!0);c.CI(e);c.Yj();c.getDocument().FI()}finally{b.PDFNet.endDeallocateStack()}})})["catch"](function(a){b.PDFNet.endDeallocateStack();
console.error(a)})},MQ:function(e){var c=e.FillColor;return new Promise(function(a){b.PDFNet.ColorPt.init(c.R/255,c.G/255,c.B/255,c.A).then(function(d){a({text_color:d,positive_overlay_color:d,border:!1})})})},EP:function(e,c){var a=[],d=e.Rz(),g=c.v,f=e.Mb();d.forEach(function(d){var c=g.On(f-1,d.x1,d.y1);d=g.On(f-1,d.x2,d.y2);c=b.PDFNet.Rect.init(c.x,c.y,d.x,d.y).then(function(a){return b.PDFNet.Redactor.redactionCreate(f,a,!1,"").then(function(a){return a})});a.push(c)});return Promise.all(a).then(function(a){return a})},
CO:function(b,c,a){var d=c.Ye();a=a.Mb();for(var g=d.length-1;0<=g;g--){var l=d[g],h=l.X,k=l.Y,k=b.y1>l.Y+l.Height||b.y2<k,h=b.x1>l.X+l.Width||b.x2<h,m=a!==l.PageNumber;l instanceof f.qe||m||k||h||c.eg(l,null,!0)}}}})(window);
(function(b){function f(){this.fonts=[]}function e(a,d,c,b){this.url=_.isUndefined(b)?["data:",this.KS[c],";base64,",btoa(d)].join(""):"'"+b+"'";this.url=["url(",this.url,")"].join("");this.aU=["@font-face { font-family:'",a,"';src:",this.url,"}"].join("");this.name=a}document.head||(document.head=document.getElementsByTagName("head")[0]);b.Jg={};var c=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent),a=c&&14<=c[1],d=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");
e.prototype={LB:null,styleSheet:null,KS:{woff:"application/x-font-woff",opentype:"font/opentype",sfnt:"application/font-sfnt"},insert:function(){if(!b.Jg[this.name]){if(!this.styleSheet){var a=document.createElement("style");document.head.appendChild(a);e.prototype.styleSheet=a.sheet;e.prototype.LB=a}a=this.styleSheet.cssRules.length;this.styleSheet.insertRule(this.aU,a);b.Jg[this.name]=this.styleSheet.cssRules[a]}},remove:function(){if(!b.utils.ie){var a=b.Jg[this.name];if(!a)throw Error("CSS @font-face rule is not in use");
var d,c=this.styleSheet.cssRules.length,e=this.styleSheet.cssRules;for(d=0;d<c;d++)if(e[d]===a){this.styleSheet.deleteRule(d);delete b.Jg[this.name];return}throw Error("CSS @font-face stylesheet has been altered externally");}}};if("undefined"!==typeof document&&document.fonts)try{var g=new e("lt"+Date.now()+"0",d,"opentype");"error"===(new window.FontFace(g.name,g.url,{})).status?b.Bq=!1:b.Bq=!0}catch(h){b.Bq=!1}else b.Bq=!1;f.prototype={MV:1,eN:function(a){this.fonts.push(a)},qR:function(){return 0!==
this.fonts.length},JH:function(c){function e(a,d){return a.charCodeAt(d)<<24|a.charCodeAt(d+1)<<16|a.charCodeAt(d+2)<<8|a.charCodeAt(d+3)&255}function g(a,d){q++;30<q?(console.warn("Load test font never loaded."),d()):(u.font="30px "+a,u.fillText(".",0,20),0<u.getImageData(0,0,1,1).data[3]?d():setTimeout(_.bind(g,null,a,d)))}var f=this,l;if(_.isEmpty(b.Jg)||a){for(l=0;l<f.fonts.length;l++)setTimeout(c,0,f.fonts[l].name);f.fonts=[]}else{var p;l=document.createElement("canvas");l.width=1;l.height=1;
var u=l.getContext("2d"),q=0,v="lt"+Date.now()+this.MV++,x=d,x=x.substr(0,976)+v+x.substr(976+v.length),A=e(x,16);l=0;for(p=v.length-3;l<p;l+=4)A=A-1482184792+e(v,l)|0;l<v.length&&(A=A-1482184792+e(v+"XXX",l)|0);var x=x.substr(0,16)+(String.fromCharCode(A>>24&255)+String.fromCharCode(A>>16&255)+String.fromCharCode(A>>8&255)+String.fromCharCode(A&255))+x.substr(20),B=new b.df.FontFace(v,x,"opentype");B.insert();x=[];l=0;for(p=this.fonts.length;l<p;l++)x.push(this.fonts[l].name);x.push(v);var z=document.createElement("div");
z.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");l=0;for(p=x.length;l<p;++l)A=document.createElement("span"),A.textContent="Hi",A.style.fontFamily=x[l],z.appendChild(A);document.body.appendChild(z);g(v,function(){document.body.removeChild(z);B.remove();for(var a=0;a<f.fonts.length;a++)if(c(f.fonts[a].name),!f.fonts[a].url.startsWith("url(data")){var d=f.fonts[a].url;if(d.startsWith("url('")){if(8>d.length){console.warn("Invalid font ObjectURL.");
return}d=d.substring(5,d.length-2)}URL.revokeObjectURL(d);f.fonts[a].url=null}f.fonts=[]})}},uS:function(a,d,c){var b=document.createElement("div");b.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");b.innerHTML=""+('<span style="font-family:'+a+'">" + testString +"</span>');document.body.appendChild(b);$.get(d,function(){setTimeout(function(){c();document.body.removeChild(b)},300)})}};if(b.Bq){var l=e,e=function(){l.apply(this,arguments);
this.lz=new window.FontFace(this.name,this.url,{})};e.prototype=l.prototype;$.extend(e.prototype,{insert:function(){document.fonts.add(this.lz);b.Jg[this.name]=this},remove:function(){document.fonts["delete"](this.lz)}});$.extend(f.prototype,{JH:function(a){this.fonts.forEach(function(d){d.lz.load().then(function(){a(d.name);if(!d.url.startsWith("url(data")){var c=d.url;if(c.startsWith("url('")){if(8>c.length){console.warn("Invalid font ObjectURL.");return}c=c.substring(5,c.length-2)}URL.revokeObjectURL(c);
d.url=null}})["catch"](function(c){a(d.name);console.warn("loadFonts: font failed to load: "+d.name);c&&console.warn("loadFonts: exception is: "+c.message)})})}})}b.df={FontFace:e,OK:f,Az:function(a,d){return"f"+a+"-"+d}}})(window);
(function(b){function f(c,a,d){this.page=c;this.tb=a;this.De=d;this.MF=a.La.Vd?a.La.Vd.path:void 0;this.Fl=this.paused=!1}var e={Yh:0,Xe:1,tq:2,fg:3};b.asc=function(c){var a=.707106781*c.m_a+.707106781*c.m_b;c=.707106781*c.m_c+.707106781*c.m_d;return Math.sqrt(a*a+c*c)};f.prototype={pause:function(){this.paused=!0;this.vy()},vy:function(){this.gv=!1;b.clearImmediate(this.KH)},yF:function(c,a,d,e,f){function h(){A=!0;n&&n.sr().then(function(){if(k.abort){if(x)return m&&(m=!1,e(q)),n=k.resume=null,
k.vy(),k.abort&&k.abort(),d(q);k.abort&&((r=5<++u)&&p&&m&&f&&(m=!1,e(q)),x=n.run(c,a,50),!x&&n.DR&&e(q),A=!1,k.gv=!1,k.paused||k.dw())}})}var k=this,m=void 0!==e;d=d||function(){};var n=this.tb.rb,r=!1,p=!1,u=0,q=c.canvas,v=setTimeout(function(){p=!0;r&&m&&f&&(m=!1,e(q))},3E3);k.abort=function(){A=!1;k.vy();k.KH=null;k.resume=null;n&&(n.cancel(),n=null);k.tb.rb=null;clearTimeout(v);k.dw=null;_(k.tb.Sa).each(function(a){switch(a.type){case "png":case "jpg":a&&a.data&&!a.data.startsWith("url(data")&&
(URL.revokeObjectURL(a.data),a.data=null);break;case "font":if(a&&a.data&&a.data.url&&!a.data.url.startsWith("url(data")){var d=a.data.url;if(d.startsWith("url('")){if(8>d.length){console.warn("Invalid font ObjectURL.");break}d=d.substring(5,d.length-2)}URL.revokeObjectURL(d);a.data.url=null}}});k.abort=null};var x=!1;k.resume=function(){!1!==A||k.gv||k.dw();k.paused=!1};k.dw=function(){k.gv=!0;k.KH=b.setImmediate(h,0)};var A=!1;k.gv=!1;k.paused||k.dw()},gO:function(c,a,d,g,f,h,k,m,n){a=a||e.Yh;f&&
0<f&&(f=Math.round(f));c=b.o.ya.Mo(this.page,c||1,a,h,f,k,n);this.yF(c.ctx,c.t,d,g,m)},KG:function(c){var a=[];if(c){for(var d=0;d<c.length;++d)a[d]=this.tb.La.Vh(c[d]);return a}_(this.tb.Sa).each(function(d){a.push(d)});return a},EA:function(c,a,d){function e(a){var d=k.De.Vu(a.name);f(a);switch(a.type){case "png":case "jpg":if(b.ci[a.name]){a.data.startsWith("data")||URL.revokeObjectURL(a.data);if(d){h(a.name);break}b.ci[a.name].lq.push(function(){h(a.name)});break}var c=new Image;c.setAttribute("crossOrigin",
"use-credentials");c.onload=function(){c.src.startsWith("data")||URL.revokeObjectURL(c.src);for(var a=0;a<this.lq.length;++a)this.lq[a]();c.lq=[];c=c.onload=c.onerror=null};c.onerror=function(){b.utils.warn("img error "+a.name);c.src.endsWith(b.o.pl()+"1px.png")||(c.src=b.o.pl()+"1px.png")};c.hres=a.hres;c.vres=a.vres;b.ci[a.name]=c;c.lq=[];c.lq[0]=function(){h(a.name)};c.Fb=k.tb.Hf;c.src=a.data;break;case "font":_.isUndefined(k.MF)?n.eN(a.data):n.uS(a.name,k.MF+a.sa,function(){h(a.name)});break;
default:b.utils.warn("unknown resource type: "+a.type),h(a.name)}}function f(a){d&&k.De.ZM(a.name)}function h(d){k.De.loaded(d);if(k.Fl&&1>--m)return k.Fl=!1,c(a[0])}if(this.Fl)throw Error("Multiple calls to loadResource");var k=this;a=this.KG(a);var m=a.length;this.Fl=!0;var n=new b.df.OK,r=!0;_(a).each(function(a){r=!1;k.De.Vu(a.name)?(f(a),h(a.name)):a.data?e(a):k.tb.La.Bf(a.sa,function(d){k.De.Vu(a.name)?(f(a),h(a.name)):e(k.tb.La.Vh(d.sa,d.data))})});n.qR()&&n.JH(_(h).bind(this));r&&(c(),this.Fl=
!1)},IE:function(){this.Fl&&(this.Fl=!1)},dc:function(c){var a=this;a.IE();c=this.KG(c);_(c).each(function(d){if("font"!==d.type&&a.De.release(d.name))switch(d.type){case "png":case "jpg":delete b.ci[d.name];break;case "font":d.data&&d.data.remove()}})}};b.gf=b.gf||{};b.gf.GL=f;b.gf.ws=function(){var c={};return{ZM:function(a){a in c?c[a].c++:c[a]={c:1,l:!1}},loaded:function(a){a in c&&(c[a].l=!0)},tA:function(a){return a in c?!0:!1},Vu:function(a){return a in c?c[a].l:!1},release:function(a){if(!(a in
c))return!1;--c[a].c;return c[a].c?!1:(delete c[a],!0)}}};b.o.Ra=e;b.ld=function(c,a,d,g,f,h){g=g||{x:0,y:0};d.width?(d.x1=0,d.y1=0,d.x2=d.width,d.y2=d.height):(d.width=d.x2-d.x1,d.height=d.y2-d.y1);var k=new XODText.za;_.isUndefined(f)&&(f=!0);f&&(f=h||b.utils.getCanvasMultiplier(),c*=f,g.x*=f,g.y*=f);k.Fa(c,0,0,c,g.x,g.y);c=new XODText.za;a===e.Yh?c.Fa(1,0,0,1,-d.x1,-d.y1):a===e.Xe?c.Fa(1,0,0,1,d.y2,-d.x1):a===e.tq?c.Fa(1,0,0,1,d.x2,d.y2):a===e.fg&&c.Fa(1,0,0,1,-d.y1,d.x2);k.concat(c);k.concat(XODText.za.Rl(Math.PI/
2*(4-a)));return k}})(window);
(function(b){b.Actions||(b.Actions={});var f=b.Actions;f.Action=function(c){_.isObject(c)&&_.isString(c.name)&&(this.uc=c.name)};f.Action.prototype={elementName:null,onTriggered:function(){},serialize:function(){return document.createElementNS("",this.elementName)},deserialize:function(){}};Object.defineProperties(f.Action.prototype,{name:{get:function(){return this.elementName}}});f.ef=function(c){f.Action.call(this,c);this.Vf=new f.ef.jp;_.isObject(c)&&this.Vf.set(c.dest)};f.ef.prototype={elementName:"GoTo",
onTriggered:function(c,a,d){f.Action.prototype.onTriggered.call(this,c,a,d);this.Vf.DE(d)},serialize:function(c){var a=f.Action.prototype.serialize.call(this,c);$(a).append(this.Vf.serialize(c));return a},deserialize:function(c,a,d){f.Action.prototype.deserialize(c,a);this.Vf.deserialize(c,a,d)}};f.ef.prototype=$.extend(Object.create(f.Action.prototype),f.ef.prototype);Object.defineProperties(f.ef.prototype,{dest:{get:function(){return this.Vf}}});f.qm=function(c){f.Action.call(this,c);this.Vf=new f.ef.jp;
_.isObject(c)&&(this.Vf.set(c.dest),this.Qs=c.filename,this.Rx=c.newWindow)};f.qm.prototype={elementName:"GoToR",onTriggered:function(c,a,d){f.Action.prototype.onTriggered.call(this,c,a,d);this.Vf.DE(d)},serialize:function(c){var a=f.Action.prototype.serialize.call(this,c);this.Rx||a.setAttribute("NewWindow","false");var d=document.createElementNS("","File");this.Qs&&d.setAttribute("OriginalName",this.Qs);var b=$(a);b.append(d);b.append(this.Vf.serialize(c));return a},deserialize:function(c,a,d){f.Action.prototype.deserialize(c,
a);this.Vf.deserialize(c,a,d,!0);c=c.getElementsByTagName("GoToR")[0];this.Rx="false"!==c.getAttribute("NewWindow");c=c.getElementsByTagName("File");1===c.length&&(this.Qs=c[0].getAttribute("OriginalName"))}};f.qm.prototype=$.extend(Object.create(f.Action.prototype),f.qm.prototype);Object.defineProperties(f.qm.prototype,{dest:{get:function(){return this.Vf}},filename:{get:function(){return this.Qs}},newWindow:{get:function(){return this.Rx}}});f.ef.jp=function(c){this.Vm=1;this.Ip="Fit";this.uc=this.jj=
this.Mg=this.Pg=this.Re=this.Qe=null;this.set(c)};f.ef.jp.prototype={set:function(c){if(_.isObject(c)){_.isUndefined(c.page)||(this.Vm=Number(c.page));var a=c.fit;_.isString(a)&&(this.Ip=a);switch(a){case "XYZ":_.isUndefined(c.left)||(this.Qe=Number(c.left));_.isUndefined(c.top)||(this.Re=Number(c.top));_.isUndefined(c.zoom)||(this.jj=Number(c.zoom));break;case "FitBH":case "FitH":_.isUndefined(c.top)||(this.Re=Number(c.top));break;case "FitBV":case "FitV":_.isUndefined(c.left)||(this.Qe=Number(c.left));
break;case "FitR":_.isUndefined(c.left)||(this.Qe=Number(c.left));_.isUndefined(c.top)||(this.Re=Number(c.top));_.isUndefined(c.right)||(this.Pg=Number(c.right));_.isUndefined(c.bottom)||(this.Mg=Number(c.bottom));var a=_.min([this.Qe,this.Pg]),d=_.min([this.Re,this.Mg]),b=_.max([this.Qe,this.Pg]),e=_.max([this.Re,this.Mg]);this.Re=d;this.Qe=a;this.Mg=e;this.Pg=b}c=c.name;_.isString(c)&&(this.uc=c,this.Vm=null)}},serialize:function(c){var a=document.createElementNS("","Dest"),d=document.createElementNS("",
this.Ip||"Named"),b=this.Re||0,e=this.Qe||0,f=this.Mg||0,k=this.Pg||0;c=c.inverse();e=c.W({x:e,y:b});f=c.W({x:k,y:f});b=_.isNull(this.Re)?null:e.y;e=_.isNull(this.Qe)?null:e.x;k=_.isNull(this.Pg)?null:f.x;f=_.isNull(this.Mg)?null:f.y;_.isNull(this.Vm)||d.setAttribute("Page",this.Vm);_.isNull(this.jj)||d.setAttribute("Zoom",this.jj);b&&d.setAttribute("Top",b);e&&d.setAttribute("Left",e);k&&d.setAttribute("Right",k);f&&d.setAttribute("Bottom",f);switch(this.Ip){case "XYZ":_.isNull(e)&&d.setAttribute("Left",
"");_.isNull(b)&&d.setAttribute("Top","");_.isNull(this.jj)&&d.setAttribute("Zoom","");break;case "FitBH":case "FitH":_.isNull(b)&&d.setAttribute("Top","");break;case "FitBV":case "FitV":_.isNull(e)&&d.setAttribute("Left","");break;case "FitR":_.isNull(e)&&d.setAttribute("Left",""),_.isNull(b)&&d.setAttribute("Top",""),_.isNull(k)&&d.setAttribute("Right",""),_.isNull(f)&&d.setAttribute("Bottom","")}this.uc&&d.setAttribute("Name",this.uc);$(a).append(d);return a},deserialize:function(c,a,d,b){var e=
Annotations.ba;a=e.getAttribute(c,"PageNum");var f,k,m,n,r,p,u;k=e.getAttribute(c,"Hpos");f=e.getAttribute(c,"Vpos");c=c.getElementsByTagName("Dest");if(!a||0<c.length)if(c=c[0],c=e.zz(c))a=e.getAttribute(c,"Page"),p=e.Cu(c),f=e.getAttribute(c,"Top"),k=e.getAttribute(c,"Left"),m=e.getAttribute(c,"Right"),n=e.getAttribute(c,"Bottom"),r=e.getAttribute(c,"Zoom"),"Named"===e.Cu(c)&&(u=e.getAttribute(c,"Name"));u||b?b&&(f=_.isNull(f)?void 0:f,k=_.isNull(k)?void 0:k,m=_.isNull(m)?void 0:m,n=_.isNull(n)?
void 0:n):(b=d.u.Oc(a-1),d=b.W({x:k||0,y:f||0}),b=b.W({x:m||0,y:n||0}),f=_.isNull(f)?void 0:d.y,k=_.isNull(k)?void 0:d.x,m=_.isNull(m)?void 0:b.x,n=_.isNull(n)?void 0:b.y);this.set({page:_.isNull(a)?void 0:a,fit:_.isNull(p)?void 0:p,top:f,left:k,right:m,bottom:n,zoom:_.isNull(r)?void 0:r,name:u})},DE:function(c){var a=this.Re||0,d=this.Qe||0,b=this.Vm||1;switch(this.Ip){case "XYZ":this.jj&&c.dC(this.jj);c.un(b,d,a);break;case "Fit":case "FitB":case "FitV":case "FitBV":c.Ge(b);c.zB(c.Hg.lC);break;
case "FitH":case "FitBH":c.Ge(b);c.zB(c.Hg.Xw);c.un(b,0,a);break;case "FitR":var e=this.Pg&&this.Qe?Math.abs(this.Pg-this.Qe):null,f=this.Mg&&this.Re?Math.abs(this.Mg-this.Re):null,e=e?c.Ob().innerWidth()/e:Infinity,f=f?c.Ob().innerHeight()/f:Infinity,f=Math.min(e,f);Infinity!==f&&c.dC(f);c.un(b,d,a);break;default:c.Ge(b)}}};Object.defineProperties(f.ef.jp.prototype,{page:{get:function(){return this.Vm},set:function(c){this.set({page:c})}},fit:{get:function(){return this.Ip}},top:{get:function(){return _.isNull(this.Re)?
void 0:this.Re}},left:{get:function(){return _.isNull(this.Qe)?void 0:this.Qe}},bottom:{get:function(){return _.isNull(this.Mg)?void 0:this.Mg}},right:{get:function(){return _.isNull(this.Pg)?void 0:this.Pg}},zoom:{get:function(){return _.isNull(this.jj)?void 0:this.jj}},name:{get:function(){return this.uc}}});f.Vi=function(c){f.Action.call(this,c);this.Up="";_.isObject(c)&&_.isString(c.uri)&&(this.Up=c.uri)};f.Vi.prototype={elementName:"URI",onTriggered:function(c,a,d){f.Action.prototype.onTriggered.call(this,
c,a,d);c=this.Up;0!==c.indexOf("http://")&&0!==c.indexOf("https://")&&0!==c.indexOf("ftp://")&&0!==c.indexOf("mailto:")&&0!==c.indexOf("tel:")&&-1===c.indexOf("://")&&(c=-1!==c.indexOf("@")?"mailto:"+c:"http://"+c);window.open(c)},deserialize:function(c,a){f.Action.prototype.deserialize.call(this,c,a);var d=Annotations.ba,b=d.getAttribute(c,"Target");_.isNull(b)&&(b=d.zz(c),b=d.getAttribute(b,"Name"));this.Up=b},serialize:function(c){c=f.Action.prototype.serialize.call(this,c);c.setAttribute("Name",
this.Up);return c}};f.Vi.prototype=$.extend(Object.create(f.Action.prototype),f.Vi.prototype);Object.defineProperties(f.Vi.prototype,{uri:{get:function(){return this.Up}}});f.vm=function(c){f.Action.call(this,c);this.Im="";_.isObject(c)&&_.isString(c.action)&&(this.Im=c.action)};f.vm.prototype={elementName:"Named",onTriggered:function(c,a,d){f.Action.prototype.onTriggered.call(this,c,a,d);switch(this.Im){case "NextPage":d.Ge(c.Mb()+1);break;case "PrevPage":d.Ge(c.Mb()-1);break;case "FirstPage":d.Ge(1);
break;case "LastPage":d.Ge(d.Db());break;default:console.warn("Invalid named action name: "+this.Im)}},deserialize:function(c,a){f.Action.prototype.deserialize.call(this,c,a);var d=Annotations.ba,b=d.getAttribute(c,"N");_.isNull(b)&&0<c.getElementsByTagName("Named").length&&(b=d.getAttribute(c.getElementsByTagName("Named")[0],"Name"));this.Im=b},serialize:function(c){c=f.Action.prototype.serialize.call(this,c);c.setAttribute("Name",this.Im);return c}};f.vm.prototype=$.extend(Object.create(f.Action.prototype),
f.vm.prototype);Object.defineProperties(f.vm.prototype,{action:{get:function(){return this.Im}}});f.sm=function(c){f.Action.call(this,c);this.xx=this.dt=null;this.set(c)};f.sm.prototype={elementName:"JavaScript",set:function(c){_.isObject(c)&&_.isString(c.javascript)&&(this.dt=c.javascript)},onTriggered:function(c,a,d){f.Action.prototype.onTriggered.call(this,c,a,d);c=d.getDocument().Np;this.xx||(this.xx=c.pn(this.dt,d));c.Bo(this.xx,a,d)},deserialize:function(c,a){f.Action.prototype.deserialize.call(this,
c,a);var d=Annotations.ba.getAttribute(c,"JavaScript");d||(d=c.getElementsByTagName("JavaScript")[0].textContent);this.set({javascript:d})},serialize:function(c){c=f.Action.prototype.serialize.call(this,c);$(c).text(this.dt);return c}};f.sm.prototype=$.extend(!0,new f.Action,f.sm.prototype);Object.defineProperties(f.sm.prototype,{javascript:{get:function(){return this.dt||""}}});f.rk=function(c){f.Action.call(this,c);this.bj=!1;this.nb=null;_.isObject(c)&&(_.isArray(c.fields)&&(this.nb=c.fields.slice()),
_.isUndefined(c.exclude)||(this.bj=!!c.exclude))};f.rk.prototype={elementName:"ResetForm",onTriggered:function(c,a,d){f.Action.prototype.onTriggered.call(this,c,a,d);var b=this,e=d.Bb().nl();c=e.Oo;e.Oo=!1;this.bj||_.isNull(this.nb)?e.Xr({ur:function(a,d,c){b.nb&&-1!==b.nb.indexOf(a)||c.TI()}}):this.nb.forEach(function(a){var d=e.Cb(a);d?d.TI():console.warn("Missing field during reset:",a)});e.Oo=c;e.hq(null,0)},deserialize:function(c,a){f.Action.prototype.deserialize.call(this,c,a);var d=Annotations.ba,
b=[],e=!0;_.isNull(d.getAttribute(c,"ResetFields"))?_.isNull(d.getAttribute(c,"ResetExcludedFields"))?0<c.getElementsByTagName("ResetForm").length&&(c=c.getElementsByTagName("ResetForm")[0],(b=d.getAttribute(c,"Fields"))&&(b=b.split(",")),d=parseInt(d.getAttribute(c,"Flags"),10),_.isNull(b)||_.isUndefined(b)?(b=[],e=!0):e=1===d?!0:!1):(b=d.getAttribute(c,"ResetExcludedFields").split(","),e=!0):(b=d.getAttribute(c,"ResetFields").split(","),e=!1);this.nb=b;this.bj=!!e},serialize:function(c){c=f.Action.prototype.serialize.call(this,
c);this.nb&&c.setAttribute("Fields",this.nb.join(","));c.setAttribute("Flags",this.bj?1:0);return c}};f.rk.prototype=$.extend(Object.create(f.Action.prototype),f.rk.prototype);Object.defineProperties(f.rk.prototype,{fields:{get:function(){return this.nb}},exclude:{get:function(){return this.bj}}});f.wk=function(c){f.Action.call(this,c);this.Ct="";this.nb=[];this._format="xfdf";this.Xs=!1;this._method="POST";this.bj=!1;this.fc=new b.Annotations.Wi({mask:"IncludeNoValueFields IncludeAppendSaves IncludeAnnotations CanonicalFormat WxclNonUserAnnots ExclFKey EmbedForm".split(" ")});
this.set(c)};f.wk.prototype={elementName:"SubmitForm",set:function(c){_.isObject(c)&&(c.url&&(this.Ct=String(c.url)),_.isArray(c.fields)&&(this.nb=c.fields.slice()),c.format&&(this._format=c.format.toLowerCase()),c.includeEmpty&&(this.Xs=!!c.includeEmpty),c.flags&&this.fc.set(c.flags),c.method&&(this._method=String(c.method)),c.exclude&&(this.bj=!!c.exclude))},onTriggered:function(c,a,d){f.Action.prototype.onTriggered.call(this,c,a,d);var b=this,e=[],h=d.Bb(),k=h.nl();0<this.nb.length?this.nb.forEach(function(a){e.push(k.Cb(a))}):
k.Fn(function(a){_.isNull(a.value)&&!b.Xs||e.push(a)});c="";"xfdf"===this._format?c=h.Qk.QL(e):("fdf"===this._format&&console.warn("FDF Export is not supported. Defaulting to export as HTML Forms"),c=h.Qk.RL(e));$.ajax({type:"POST",url:this.Ct,data:c,success:function(a){if(h.TJ)h.TJ(a);else{var d=window.open();_.isNull(d)||_.isUndefined(d)?console.warn("Form popup blocked"):d.document.write(a)}},error:function(){console.warn("Failed to submit form data to server.")}})},deserialize:function(c,a){f.Action.prototype.deserialize.call(this,
c,a);var d=Annotations.ba,b=c.getElementsByTagName("SubmitForm"),e="SubmitURL",h="SubmitFields",k="SubmitFlag";0<b.length&&(c=b[0],e="URL",h="Fields",k="Flags");b=d.getAttribute(c,e);e=null;_.isNull(d.getAttribute(c,h))||(e=d.getAttribute(c,h).split(","));h=0;_.isNull(d.getAttribute(c,k))||(h=parseInt(d.getAttribute(c,k),10));d="fdf";h&4&&(d="html");h&32&&(d="xfdf");this.set({url:b,fields:e||void 0,format:d,flags:0!==(h&2)?["IncludeNoValueFields"]:[]})},serialize:function(c){c=f.Action.prototype.serialize.call(this,
c);c.setAttribute("Fields",this.nb.join(","));c.setAttribute("Flags",("xfdf"===this._format?32:0)|("html"===this._format?4:0)|(this.Xs?2:0));c.setAttribute("URL",this.Ct);return c}};f.wk.prototype=$.extend(Object.create(f.Action.prototype),f.wk.prototype);Object.defineProperties(f.wk.prototype,{url:{get:function(){return this.Ct}},fields:{get:function(){return this.nb}},format:{get:function(){return this._format}},includeEmpty:{get:function(){return this.Xs}},flags:{get:function(){return this.fc},
set:function(c){this.fc.set(c)}},method:{get:function(){return this._method}},exclude:{get:function(){return this.bj}}});f.rm=function(c){f.Action.call(this,c);this.nb=[];this._hide=!0;this.set(c)};f.rm.prototype={elementName:"Hide",set:function(c){_.isObject(c)&&(_.isArray(c.fields)&&(this.nb=c.fields.slice()),_.isUndefined(c.hide)||(this._hide=!!c.hide))},onTriggered:function(c,a,d){f.Action.prototype.onTriggered.call(this,c,a,d);var b=d.Bb().nl(),e=this;this.nb.forEach(function(a){b.Cb(a).Mf(!e.hide)})},
deserialize:function(c,a){f.Action.prototype.deserialize.call(this,c,a);var d=Annotations.ba,b=!0,e;_.isNull(d.getAttribute(c,"HideField"))?0<c.getElementsByTagName("Hide").length?(c=c.getElementsByTagName("Hide")[0],e=d.getAttribute(c,"Fields").split(","),b="false"!==d.getAttribute(c,"Hide")):(e=[d.getAttribute(c,"ShowField")],b=!1):e=[d.getAttribute(c,"HideField")];this._hide=b;this.nb=e},serialize:function(c){c=f.Action.prototype.serialize.call(this,c);c.setAttribute("Fields",this.wY.join(","));
c.setAttribute("Hide",this.hide?"true":"false");return c}};f.rm.prototype=$.extend(Object.create(f.Action.prototype),f.rm.prototype);Object.defineProperties(f.rm.prototype,{fields:{get:function(){return this.nb}},hide:{get:function(){return this._hide}}});f.kC=function(){this.WD={GoTo:f.ef,GoToR:f.qm,URI:f.Vi,Named:f.vm,JavaScript:f.sm,ResetForm:f.rk,SubmitForm:f.wk,Hide:f.rm}};f.kC.prototype={oA:function(c){if(_.isObject(c)){var a=this.WD[c.name];return a?new a(c):null}},OR:function(c,a,d){var b=
Annotations.ba.BP(c);return(b=this.WD[b])?(b=new b,b.deserialize(c,a,d),b):null}};var e=new f.kC;f.BY=function(){return e};f.yh=function(c){this.$i={};this.Cx=null;_.isObject(c)&&_.isObject(c.actions)&&this.Et(c.actions)};f.yh.prototype={Et:function(c,a){a&&(this.$i={});if(_.isObject(c))for(var d in c)if(c.hasOwnProperty(d))for(var b=c[d].length,e=0;e<b;++e)this.Rk(d,c[d][e])},Rk:function(c,a){var d=this.$i[c]||[];if(a instanceof f.Action)-1===d.indexOf(a)&&d.push(a);else if(_.isObject(a)){var b=
e.oA(a);b&&d.push(b)}this.$i[c]=d},xj:function(){return this.$i},Ie:function(c,a){var d=this.$i[c];if(d)for(var b=d.length,e=0;e<b;++e)d[e].onTriggered(this,a,this.Cx)},tg:function(c){this.Cx=c},ah:function(){return this.Cx},cU:function(c,a,d){function b(d,c){c.forEach(function(c){var b=document.createElementNS("","Action");b.setAttribute("Trigger",d);var g=$(b);if(c=c.serialize(a))g.append(c),f=!0;$(e).append(b)})}var e;e=d?d:document.createElementNS("","OnActivation");var f=!1,k;for(k in this.$i)this.$i.hasOwnProperty(k)&&
b(k,this.$i[k]);f&&!d&&$(c).append(e)},kE:function(c,a,d){var b=Annotations.ba;c=b.AP(c);for(var f=c.length,h=0;h<f;++h){var k=c[h],m=b.getAttribute(k,"Trigger")||"U";(k=e.OR(k,a,d))&&this.Rk(m,k)}}}})(window);
(function(b){function f(a,d){return a-d}function e(a){a=new Blob([a]);a.name="AP.xod";var d=new l.V.nC(a),c=new l.Pe;return new Promise(function(a,b){c.loadAsync(d,function(d){d?b(d):a(c)})})}function c(a,d){b.Actions.yh.call(this);this.width=a;this.height=d;this.text=null;this.Hr=[];this.links=[];this.cb=null}function a(a,d,c,e,g,f){var h={getZoom:function(){return 1},getPageRotation:function(){return b.o.Ra.Yh},finishedLoading:function(){return!0},acquireResources:function(){return!0},resourcesLoaded:function(){return!0},
getPageTransform:function(){},drawProgressive:function(){},drawComplete:function(){},onError:function(){}};_.isObject(a)?(h=$.extend(h,a),h.zoom&&(h.getZoom=function(){return h.zoom}),h.pageRotation&&(h.getPageRotation=function(){return h.pageRotation})):h=$.extend(h,{pageIndex:a,getZoom:function(){return d},getPageRotation:function(){return c},drawProgressive:g,drawComplete:e,canvasNum:f});return h}function d(){}function g(a){a in this.ei?(clearImmediate(this.ei[a]),delete this.ei[a]):this.Ca.Rt(a)}
var l=window.o,h=b.o.V.Xi,k=b.o.V.Uw;b.ci=b.ci||{};b.o.rp={jL:0,lL:1,CL:2,HL:10};b.o.tk={ZK:1,DL:2,UK:4,kL:8,dL:16,GK:32};c.prototype=$.extend({nJ:function(a){this.height=a.height;this.width=a.width;this.cb=a.matrix;this.rotation=a.rotation;this.id=a.id;this.Qa=a.pageNum}},Object.create(b.Actions.yh.prototype));var m=null,n=null;b.o.$U=function(a){m=a};b.o.vJ=function(a){n=a};b.o.HG=function(){return m||n};var r=6;b.o.RK=function(){return r};b.o.hx=function(a){r=a;b.im=524288*a*a;b.Ow=524288*a*a;
b.om=3*a;b.JK=50+30*a;b.o.ya&&b.o.ya.hJ(a);switch(a){case 0:b.om=0;b.im=0;b.Ow=0;break;case 1:b.om=0,b.im=0}};b.o.xC=function(a){b.jv=1+2*(a-1);b.kv=a-1;0>b.jv&&(b.jv=0);0>b.kv&&(b.kv=0)};b.o.hx(6);b.o.xC(5);l.cf=function(a,d,c,b,e,g,f){this.children=a;this.name=d;this.Hf=c;this.parent=b;this.Wo=e||0;this.bo=g||0;this.url=f};l.cf.prototype={kG:function(){return this.children},getName:function(){return this.name},Mb:function(){return this.Hf},dR:function(){return this.url},getParent:function(){return this.parent},
eR:function(){return this.Wo},fQ:function(){return this.bo},isValid:function(){return!!this.url||_.isNumber(this.Hf)}};l.Sw=function(a,d){this.ES=a;this.FS=d;this.LS=2;this.sq={};this.xn=[];this.Wk=0;this.gB=!1};l.Sw.prototype={FE:function(a,d){var c=this;c.sq[a]=d;var b=c.xn.indexOf(a);0<=b&&c.xn.splice(b,1);c.xn.push(a);c.hB();d.then(function(a){a=a.J.length;c.Wk+=a;d.numPages=a;c.hB()})},HI:function(){var a=this,d=a.xn.shift(),c=a.sq[d];delete a.sq[d];(d=c.numPages)?a.Wk-=d:(a.gB=!0,c=c.then(function(d){a.Wk-=
d.J.length;a.gB=!1;a.hB()}));c.then(function(a){a.dc()});return!!d},hB:function(){if(!this.gB){for(;this.xn.length>this.ES;)if(!this.HI())return;for(;this.Wk>this.FS&&!(this.xn.length<=this.LS)&&this.HI(););}},LP:function(a){return this.sq[a]},dc:function(){this.sq.forEach(function(a){a.dc()})}};l.Document=function(a,d){b.Actions.yh.call(this);this.Np=b.Annotations.O.vb.nO();this.v=l.Document.YP(d)(a);var c=this;this.v.xU(function(a){c.trigger(a.type,[a.data])});this.type=d||"xod";this.UL=20;this.oo=
[];this.tw={}};var p=Object.create({});l.Document.YP=function(a){_.isUndefined(a)&&(a="xod");if(!p.hasOwnProperty(a))throw Error('Document type "'+a+'" is not registered with CoreControls.Document');return function(d){return new p[a](d)}};l.Document.Cr=function(a,d){if(_.isUndefined(a)||_.isUndefined(d))return!1;p[a]=d;return!0};l.Document.WV=function(a){return p.hasOwnProperty(a)?(delete p[a],!0):!1};l.Document.prototype={QG:function(){return this.type},oj:function(a){return this.v.oj.apply(this.v,
arguments)},XS:function(a){this.Np.pW(a)},Rh:function(a){return this.v.Rh.apply(this.v,arguments)},To:function(a){return this.v.To.apply(this.v,arguments)},kn:function(){return this.v.kn.apply(this.v,arguments)},eG:function(){return this.v.getBookmarks.apply(this.v,arguments)},Mn:function(a){this.v.Mn.apply(this.v,arguments)},Nn:function(){return this.v.Nn.apply(this.v,arguments)},Db:function(){return this.v.Db.apply(this.v,arguments)},zc:function(a){var d={};d.width=this.v.J[a].width;d.height=this.v.J[a].height;
return d},On:function(a,d,c){return this.v.On.apply(this.v,arguments)},XQ:function(a,d,c,b){return c<=d?console.error("End index must be greater than start index"):this.lh(a,function(a){a=a.ce();var e=8*d,g=8*c;if(e>a.length||g>a.length)return console.error("Index out of bounds");for(var f=[];e<g;e+=8)f.push({x1:a[e],y1:a[e+1],x2:a[e+2],y2:a[e+3],x3:a[e+4],y3:a[e+5],x4:a[e+6],y4:a[e+7]});b(f)})},Ou:function(a,d,c){return this.v.Ou.apply(this.v,arguments)},cA:function(a,d,c){return this.v.cA.apply(this.v,
arguments)},getMetadata:function(){return{title:this.v.ge.title,creator:this.v.ge.creator,subject:this.v.ge.subject,keywords:this.v.ge.keywords,created:this.v.ge.created,modified:this.v.ge.modified,description:this.v.ge.description,producer:this.v.ge.producer}},Ij:function(){return this.v.Ij.apply(this.v,arguments)},sl:function(a){return this.v.sl.apply(this.v,arguments)},Jj:function(){return this.v.Jj()},fr:function(a,d,c){var b=this;return this.v.loadAsync.call(this.v,a,function(a){if(!a)for(var c=
b.Nb(),e=c.length,g=b.ah(),f=0;f<e;++f)c[f].tg(g);d(a);return b},c)},fv:function(a,d,c,b,e,g){return this.v.loadCanvasAsync.apply(this.v,arguments)},wS:function(a,d){this.lh(a,function(a){d(a.Za)})},fz:function(a){return this.v.extractXFDF.apply(this.v,arguments)},kr:function(a){return this.v.kr.apply(this.v,arguments)},FA:function(a,d){return this.v.loadThumbnailAsync.apply(this.v,arguments)},Ev:function(a){return this.v.Ev.apply(this.v,arguments)},Wv:function(a){return this.v.Wv.apply(this.v,arguments)},
ol:function(){return this.v.ol.apply(this.v,arguments)},Ko:function(a){return this.v.Ko.apply(this.v,arguments)},Ro:function(a,d){return this.v.Ro.apply(this.v,arguments)},dc:function(){this.Np.Zc();this.dn in this.v&&this.dn.dc();return this.v.dc.apply(this.v,arguments)},ko:function(a,d){return this.v.ko.apply(this.v,arguments)},gr:function(a,d){return this.v.gr.apply(this.v,arguments)},yl:function(){return this.v.yl.apply(this.v,arguments)},pj:function(a){return this.v.pj.apply(this.v,arguments)},
II:function(){var a=this.oo.shift();this.v.J[a].text=null;delete this.tw[a]},FI:function(){for(var a=this.oo.length-1;0<=a;--a)this.II()},lh:function(a,d){this.tw[a]?this.oo.splice(this.oo.indexOf(a),1):(this.oo.length===this.UL&&this.II(),this.tw[a]=!0);this.oo.push(a);var c=this;return this.v.loadTextData.call(this.v,a,function(b){d(b);c.tw[a]||(c.v.J[a].text=null)})},hr:function(a){function d(a,c){return new Promise(function(d){a.loadTextData(c,function(){d()})})}var c=this;a=a.map(function(a){return d(c,
a)});return Promise.all(a)},getFileData:function(a){return this.v.getFileData.apply(this.v,arguments)},Sn:function(){return this.v.Sn?this.v.Sn.apply(this.v):null},mw:function(){this.v.mw&&this.v.mw.apply(this.v);return null},Eq:function(a){return this.v.Eq?this.v.Eq.apply(this.v,arguments):null},fo:function(a,d,c){return this.v.fo.apply(this.v,arguments)},lr:function(a,d){return this.v.lr.apply(this.v,arguments)},wo:function(a){return this.v.wo.apply(this.v,arguments)},Dn:function(){return this.v.Dn.apply(this.v,
arguments)},Ao:function(a,d){return this.v.Ao.apply(this.v,arguments)},En:function(a,d){return this.v.En.apply(this.v,arguments)},tn:function(a,d,c,b,e){return this.v.tn.apply(this.v,arguments)},Kn:function(){return this.v.Kn.apply(this.v,arguments)},cw:function(a){return this.v.cw.apply(this.v,arguments)},ew:function(a){return this.v.ew.apply(this.v,arguments)},Ql:function(){return this.v.Ql.apply(this,arguments)},get numPages(){return this.v.J.length},ud:function(a){return this.v.J[a].width},sd:function(a){return this.v.J[a].height},
Oc:function(a){return a>=this.Db()?(console.warn("Attempting to get page matrix for page "+(a+1)+" that doesn't exist."),null):this.v.J[a].cb},Mq:function(a){return this.v.Mq.apply(this.v,arguments)},Qn:function(){return this.v.Qn.apply(this.v,arguments)},Nq:function(a){return this.v.J[a].rotation},Nz:function(a){return this.v.J[a].text},UU:function(a,d){this.v.J[a].text=d},vQ:function(a){return this.v.J[a].aq},FG:function(a){return this.v.J[a].links},Nb:function(){var a=this;this.v.J.forEach(function(d){d.tg(a.ah())});
return this.v.J},kc:function(){return this.v.kc},Vq:function(a,d,c){return this.v.Vq.apply(this.v,arguments)},Tl:function(a){this.v.Tl.apply(this.v,arguments)},Gj:function(){return this.v.Gj},Wl:function(a){this.v.Wl.apply(this.v,arguments)},Xj:function(){return this.v.Xj.apply(this.v,arguments)},ku:function(a){return this.v.ku.apply(this.v,arguments)},xu:function(){return this.v.xu.apply(this.v,arguments)},lu:function(a,d){return this.v.lu.apply(this.v,arguments)},gl:function(a,d){return 0===a.length?
[]:this.v.gl.apply(this.v,arguments)},Po:function(){return this.v.Po()}};$.extend(l.Document.prototype,Object.create(b.Actions.yh.prototype),b.utils.eventHandler);l.Ki=function(){throw Error("Cannot initialize BaseDocument");};l.Ki.prototype={ku:d,xu:d,lu:d,oj:d,Rh:d,To:d,kn:d,eG:d,Mn:d,Nn:d,Db:d,zc:d,Po:function(){return!0},Xj:function(){return!1},xU:function(a){this.nu=a},wj:function(a){this.nu&&this.nu(a)},On:function(a,d,c){d={x:d,y:c};return this.J[a].cb.inverse().W(d)},Ou:d,cA:function(a,d,
c){return this.J[a].cb.W({x:d,y:c})},Ij:d,sl:d,Jj:d,fr:d,fv:d,fz:d,kr:d,FA:d,Ev:d,Wv:d,Ko:d,Ro:d,dc:d,ko:d,gr:d,pj:d,yl:function(){return!1},correctQuadsForPageRotation:function(a,d){var c=this.J[a],e=(4-c.rotation/90)%4;0!==e&&(c=b.ld(1,e,c,{x:0,y:0},!1),d.xN(c))},lh:d,Sn:function(){return null},getFileData:d,fo:d,wo:d,Ao:d,Dn:d,Mr:d,En:d,tn:d,Tl:function(){},print:function(){},Mq:function(a){return String(a)},Qn:function(){return _.range(0,this.J.length).map(String)},ol:d,Kn:d,cw:d,ew:d,iq:function(){for(var a=
1,d=this.J.length,c=b.utils.getCanvasMultiplier(),c=c*c,e=0;e<d;++e)var g=this.J[e],a=Math.max(a,g.width*g.height*c);return Math.sqrt(8E6/a)},nj:function(a){return 0===a.m_b&&0===a.m_c?0<a.m_a?0:180:0>a.m_b?270:90},jn:function(a,d){var c=this.nj(a),b=d.w,e=d.Df;if(90===c||270===c)var g=b,b=e,e=g;switch(c){case 0:return c=-a.m_h,g=a.m_v,{x1:c,y1:g-e,x2:g-e,y2:g};case 90:return g=-a.m_h,c=-a.m_v,{x1:c,y1:g,x2:c+b,y2:g+e};case 180:return c=a.m_h,g=-a.m_v,{x1:c-b,y1:g,x2:c,y2:g+e};case 270:return g=a.m_h,
c=a.m_v,{x1:c-b,y1:g-e,x2:c,y2:g}}return null},Wl:function(a){this.$a=a},Zy:function(a,d){if(this.$a){var c,b,e=this.J[d].width,g=this.J[d].height,f=a.getContext("2d");f.save();f.textAlign="center";f.textBaseline="top";var h=function(a){f.font=a.fontSize+"pt "+a.fontFamily;f.fillStyle=a.color;f.globalAlpha=a.opacity/100;b=1.5*a.fontSize},l=function(a){var d=[""],c=0;a.split(" ").forEach(function(a){a.split("\n").forEach(function(a,b,g){a&&(f.measureText(d[c]+a).width>=e/3&&(d[++c]=""),d[c]+=a+" ");
b<g.length-1&&(d[++c]="")})});return d};this.$a.diagonal&&(f.save(),h.call(this,this.$a.diagonal),f.translate(e/2,g/2),f.rotate(-Math.atan(g/e)),this.$a.diagonal.text&&(c=this.$a.diagonal.text.split("\n"),c.forEach(function(a,d){f.fillText(a,0,(d-c.length/2)*b)})),f.restore());if(this.$a.header){f.save();h.call(this,this.$a.header);var n=function(a){a.forEach(function(a,d){f.fillText(a,0,d*b)})};f.translate(e/6,0);this.$a.header.left&&n(l(this.$a.header.left));f.translate(e/3,0);this.$a.header.center&&
n(l(this.$a.header.center));f.translate(e/3,0);this.$a.header.right&&n(l(this.$a.header.right));f.restore()}this.$a.footer&&(f.save(),h.call(this,this.$a.footer),h=function(a){a.forEach(function(d,c){f.fillText(d,0,(c-a.length)*b)})},f.translate(e/6,g),this.$a.footer.left&&h(l(this.$a.footer.left)),f.translate(e/3,0),this.$a.footer.center&&h(l(this.$a.footer.center)),f.translate(e/3,0),this.$a.footer.right&&h(l(this.$a.footer.right)),f.restore());this.$a.custom&&(f.save(),this.$a.custom(f,d,e,g),
f.restore());f.restore()}},Ql:function(){return Promise.resolve()},gl:function(d,c){for(var e=this,g=d.length,f=[],h=Promise.resolve(this.dn.LP(this.vu(c))||this.wu(d,c)),l=0;l<g;++l){var n=d[l],k=n.objnum+"-"+n.gennum;n.rN&&(k+="_"+n.rN);n.uN&&(k+="-"+n.uN);f.push(Promise.all([k,h]).then(function(d){var g=d[0],f=d[1];if(g in f.kA){var h=f.kA[g];return new Promise(function(d,g){var l=e.J[c-1],n=a(h,1,0,function(){}),k=_.uniqueId(),m={};m[k]={Gf:null,paused:!1,Fb:n.pageIndex};f.gr(n.pageIndex,k,function(a,
c){a&&g(Error("Error loading page "+n.pageIndex+": "+a));_.isUndefined(m[k])||(m[k].Gf=c,m[k].paused&&c.pause(),n.finishedLoading(a,c)&&c.EA(function(){d({draw:function(a,d,c,e){var g=this;return new Promise(function(f){var h=b.ld(d,c,l,void 0,!0,b.utils.getCanvasMultiplier()),n=new XODText.za,k=b.asc(l.cb)/1.33333;n.Fa(k,0,0,k,e.x,e.y);h.concat(n);a.translate(e.x,e.y);a.scale(k,k);g.Gf.yF(a,h,f)})},Gf:c})},void 0,!0))})})}throw Error("No matching annotation in appearance document.");}))}return f},
gN:function(a){this.J||(this.J=[]);this.J.push(a)},Pn:function(a){return this.J[a]}};var u=0;l.Pe=function(a){this.Jm=this.Ua=null;this.Xm=new b.gf.ws;this.id=a;this.qv=!1;this.bf=null;this.Md={};this.LA=_.bind(this.LA,this);this.qu=null;this.Qf=1;this.oe={};this.$a=null;this.kc=Promise.resolve();this.kA={};this.dn=new l.Sw(10,400);this.la=(++u).toString(16)};l.Pe.prototype=Object.create(l.Ki.prototype);l.Pe.prototype.constructor=l.Pe;l.Document.Cr("xod",l.Pe);$.extend(l.Pe.prototype,{Tf:"Document/FixedDocument.fdoc",
Fg:"Document/DocProps/core.xml",Sf:"Document/Structure/DocStruct.struct",MK:"Struct/font.xml",XL:"Struct/",WL:"Text/",loadAsync:function(a,d){this.Ua=a;this.uf=[];this.ge={};this.J=[];this.xd={};this.xd[this.Tf]=0;this.xd[this.Fg]=0;this.xd[this.Sf]=0;this.Ua.Bi()&&(this.Tj={});var c=this;a.bind("partReady",this.LA);this.bind("documentReady",function(a){1.5>c.Qf&&c.JM();d(a)});a instanceof b.o.V.Bp?(this.qv=!0,this.sl(function(){a.db=c.bf;a.Pl(d)})):a.Pl(d)},extractXFDF:function(a){if(1!==a.length)throw Error("XOD Document does not support extracting XFDF for multiple input pages");
var d=this,c=a[0]-1;return new Promise(function(a){function e(a){var d="",c=0,b,g,f,h=-1;for(2<=a.length&&"{"===a.charAt(0)&&"}"===a.charAt(1)&&(a=a.substr(2));c<a.length;)b=a.charCodeAt(c),128>b?(0>h&&(h=c),c++):(0<=h&&(d+=a.substring(h,c),h=-1),191<b&&224>b?(g=a.charCodeAt(c+1),d+=String.fromCharCode((b&31)<<6|g&63),c+=2):(g=a.charCodeAt(c+1),f=a.charCodeAt(c+2),d+=String.fromCharCode((b&15)<<12|(g&63)<<6|f&63),c+=3));0===h?d=a:0<=h&&(d+=a.substring(h,c));return d}if(1.5<=d.Qf){var g=d.J[c].wK;
d.La.Bf("Annot/Annots"+(g.index?g.index:"")+".xfdf",function(c){c=e(c.data);d.J[0].aq=c;a({xfdfString:c,pages:_.range(g.start,g.end)})})}else d.La.Bf("Annots.xfdf",function(c){c=e(c.data);d.J[0].aq=c;var g=b.Annotations.ba.Sq(c);d.FD(g);a({xfdfString:c,parsedData:g,pages:_.range(1,d.J.length+1)})})})},gr:function(a,d,c){var e=this;if(!this.La)throw Error("Document is not initialized!");1.2===this.Qf&&(this.La.sv=!0);this.La.Mz(a,d,function(d,g){var f=e.J[a],h=null;g&&(h=new b.gf.GL(f,g,e.Xm));c(d,
h)})},ko:function(a,d){if(!this.La)throw Error("Document is not initialized!");return this.La.Bf(a,d)},vS:function(a){var d=this;null===d.qu?d.ko(d.MK,function(c){if(c.error)throw Error("SELECT: Error getting part "+c.sa+": "+c.error);var b=new XODText.Yw(d.la);b.eB(c.data);d.qu=b.mz;a(d.qu)}):a(d.qu)},loadTextData:function(a,d){var c=this;null!==c.J[a].text?d(c.J[a].text):a in c.oe?c.oe[a].push(d):(c.oe[a]=[d],1.4>c.Qf?c.ko(c.WL+(a+1)+".xml",function(d){if(d.error)throw Error("SELECT: Error getting part "+
d.sa+": "+d.error);var b=new XODTextOld.te;b.KR(d.data);d=new XODText.te;d.xr(b);c.correctQuadsForPageRotation(a,d);c.J[a].text=d;c.oe[a].forEach(function(a){a(b)});delete c.oe[a]}):c.vS(function(d){c.ko(c.XL+(a+1)+".xml",function(b){var e=new XODText.te,g=new XODText.za;g.Fa(1,0,0,1,0,0);var f=new XODText.Bm(d);c.La.DG(a,function(d){function h(){return d.sr().then(function(){if(!d.run(f,g))return h()})}h().then(function(){e.eB(b.data,f);c.correctQuadsForPageRotation(a,e);c.J[a].text=e;c.oe[a].forEach(function(a){a(e)});
delete c.oe[a]})["catch"](function(a){console.warn("Custom Canvas has encountered an error: "+a.message)})})})}))},yl:function(){return 1.2>=this.Qf},Ij:function(){return this.$n||0<this.or},loadCanvasAsync:function(d,c,b,e,g,f){var h=this,l=a(d,c,b,e,g,f),n=_.uniqueId();h.Md[n]={Gf:null,paused:!1,Fb:l.pageIndex};h.gr(l.pageIndex,n,function(a,d){if(a)throw Error("Error loading page "+l.pageIndex+": "+a);_.isUndefined(h.Md[n])||(h.Md[n].Gf=d,h.Md[n].paused&&d.pause(),l.finishedLoading(a,d)&&d.EA(function(){l.resourcesLoaded()&&
d.gO(l.getZoom(),l.getPageRotation(),function(a){l.drawComplete(a,l.pageIndex)},function(a){h.Zy(a,l.pageIndex);l.drawProgressive(a,l.pageIndex)},l.canvasNum,l.getPageTransform(),l.renderRect,l.useProgress,l.pageCanvas)},void 0,l.acquireResources()))});return n},Ev:function(a){if(a=this.Md[a])a.paused=!0,a.Gf&&a.Gf.pause()},Wv:function(a){if(a=this.Md[a])a.paused=!1,a.Gf&&a.Gf.resume&&a.Gf.resume()},To:function(a){this.Rh(a)},Rh:function(a){var d=this.Md[a];d&&(this.Rt(d.Fb,a),d=d.Gf)&&(d.dc(),d.abort&&
d.abort());this.pj(a)},pj:function(a){delete this.Md[a]},aF:function(){return"t"+_.uniqueId()},fS:function(a){return _.isString(a)&&0<a.length&&"t"===a[0]},loadThumbnailAsync:function(a,d){if(!this.La)throw Error("Document is not initialized!");var c=this,e;if(this.$n||this.or>a)e=c.aF(),this.La.Zz(a,e,function(a){var e=new Image,g;g=a.data;k&&c.Ua instanceof k?g=c.Ua.path+g:(a=a.sa.match(/\.([a-zA-Z]+)$/)[1].toLowerCase(),g=b.o.vG(a,g));e.onload=function(){e.src.startsWith("data")||URL.revokeObjectURL(e.src);
d(e);e=e.onload=null};e.src=g},name);else{var g=this.J[a];e=this.loadCanvasAsync({pageIndex:a,zoom:g.width>g.height?150/g.width:150/g.height,drawComplete:function(a){a.style.backgroundColor="white";c.To(e);d(a)},pageCanvas:!0})}return e},sl:function(a){if(null===this.bf){if(_.isUndefined(this.id)||_.isNull(this.id)){this.id=b.top.location.href;for(var d=b.top.location.hash.substring(1).split("&"),c=0;c<d.length;c++){var e=d[c].split("=");if("d"===e[0]){this.id=e[1];break}}}var g=this;this.bf=new b.o.qL(this.id);
this.bf.open(a,function(a){g.bf=null;console.error(a)})}else console.warn("Offline DB is already initialized!"),a()},Ro:function(a,d){function c(a){e.Ua.qy(a)}if(!this.La)throw a(),Error("Document is not initialized!");if(!this.bf)throw a(),Error("Offline DB is not initialized!");if(this.Ua instanceof b.o.V.Bp)throw a(),Error("Can't download file while in offline mode!");var e=this;e.Ua.Pz(function(b){e.bf.HV(e.La,b,!!e.Ua.decrypt,a,d,c)})},Jj:function(){if(!this.bf)throw Error("Offline DB is not initialized!");
return this.bf.Jj()},kn:function(){if(!this.bf)throw Error("Offline DB is not initialized!");this.bf.PN()},Nn:function(){return this.qv},Ko:function(a){if(!this.bf)throw Error("Offline DB is not initialized!");this.qv!==a&&(!(this.qv=a)||this.Jm instanceof b.o.V.Bp||(this.Jm=new b.o.V.Bp(this.bf,this.Ua.decrypt,this.Ua.Xk),this.Jm.bind("partReady",this.La.vv)),this.MB())},MB:function(){if(null!==this.Jm){var a=this.Jm;this.Jm=this.Ua;this.Ua=a;this.La.Vd=this.Ua}},Rt:function(a,d){if(!this.La)throw Error("Document is not initialized!");
this.La.jq(a,d)},oj:function(a){this.fS(a)?this.La.QN(a):this.Rh(a)},LA:function(a){if(a.error)return this.xd[a.sa]=3,this.eD();var d;d=this.Ua.decrypt?this.Ua.gF?this.Ua.decrypt(a.data,this.Ua.Xk,a.sa):b.o.zh.lF(a.data,this.Ua.Xk,a.sa):a.data;d=b.Aj(d);this.Ua.Bi()&&(this.Tj[a.sa]={data:d,Ab:a.Ab},this.Ua.decrypt&&(this.Tj[a.sa].lP=a.data));a.Ab&&(d=h.inflate(d));switch(a.sa){case this.Tf:d=new b.Oe(d);d.oa();d.advance();a=d.K("JPGThumbs");this.xA="true"===a;a=d.K("IncludesThumbs");this.$n=null===
a||"false"!==a;!this.$n&&(a=d.K("NumLeadingThumbs"))&&(a=parseInt(a,10),a=isNaN(a)?0:a,this.or=Math.max(a,0));a=d.K("Version");this.Qf=parseFloat(a);if(1.2>this.Qf)throw this.xd[this.Tf]=null,Error("The XOD version is out of date. Please re-convert the file with the most recent version of PDFNet or the command line converter.");if(1.5<this.Qf)throw Error("The XOD file version is too new for this client. Please update the WebViewer client version.");a=1.5<=this.Qf;var c,e;a&&(e=d.K("DefaultMatrix").split(","),
c=new XODText.za,c.Fa(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])),e=this.nj(c));this.xd[this.Tf]=1;for(var g={index:0,start:1},f=1;d.advance();){var l=d.ua();if("PageContent"===l){l=new b.mk(parseFloat(d.K("Width")),parseFloat(d.K("Height")));l.Hr=["Pages/"+f+".xaml","Annot/"+f+".xml","Pages/_rels/"+f+".xaml.rels"];l.wK=g;var n=d.K("trn:Id");n&&(l.offsetX=parseFloat(d.K("trn:X")),l.offsetY=parseFloat(d.K("trn:Y")),this.kA[n]=this.J.length);
this.J.push(l);if(a){(l=d.K("trn:Matrix"))?(n=l.split(","),l=new XODText.za,l.Fa(parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]),parseFloat(n[4]),parseFloat(n[5])),n=this.nj(l)):(l=c,n=e);var k=f-1,m=this.jn(l,{w:this.J[k].width,Df:this.J[k].height});l.Fa(4/3,0,0,-4/3,-m.x1,m.y2);this.J[k].cb=l;this.J[k].rotation=n}++f}else if("trn:AnnotRef"===l)g.end=f,g={index:g.index+1,start:f};else throw Error("Unsupported XOD document element type: "+l);}g.end=f;this.$n&&(this.or=this.J.length);
this.jr=this.iq();break;case this.Fg:this.xd[this.Fg]=1;d=new b.Oe(d);d.oa();for(this.ge={};d.advance();)c=d.ua().split(":"),this.ge[1===c.length?c[0]:c[1]]=d.current.textContent;break;case this.Sf:this.xd[this.Sf]=1;this.uf=[];d=new b.Oe(d);d.oa();d.advance();d.oa();d.advance();d.oa();g=0;for(f=null;d.advance();){c=parseInt(d.K("OutlineLevel"),10);e=new b.CoreControls.Bookmark;e.children=[];e.name=a.Ab?b.utils.utf8_decode(d.K("Description")):d.K("Description");if(g<c)e.parent=f;else for(e.parent=
f.parent;g>c;)e.parent=e.parent.parent,--g;e.Wo=d.K("trn:Vpos");e.Wo=null===e.Wo?0:parseFloat(e.Wo);e.bo=d.K("trn:Hpos");e.bo=null===e.bo?0:parseFloat(e.bo);g=d.K("OutlineTarget").split("#");1===g.length||0===g[1].length?e.url=g[0]:e.Hf=parseInt(g[1],10);null!==e.parent?e.parent.children[e.parent.children.length]=e:this.uf[this.uf.length]=e;g=c;f=e}break;default:if(this.xd[this.Tf])return this.xd[this.Fg]=this.xd[this.Fg]||2,this.xd[this.Sf]=this.xd[this.Sf]||2,this.jD(a)}this.eD()},getBookmarks:function(){return Promise.resolve(this.uf)},
Mn:function(a){return 1.2===this.Qf?this.J[a].aq:this.J[a].links},Db:function(){return this.J.length},zc:function(a){var d={};d.width=this.J[a].width;d.height=this.J[a].height;return d},On:function(a,d,c){d={x:d,y:c};return this.J[a].cb.inverse().W(d)},Ou:function(a,d,c){return this.J[a].cb.W({x:d,y:c})},dc:function(){var a="i"+this.la+"-",d="f"+this.la+"-";if(document.fonts)for(var c in b.Jg)c.startsWith(d)&&(b.Jg[c].remove(),delete b.Jg[c]);for(var e in b.ci)e.startsWith(a)&&delete b.ci[e];_.isEmpty(b.Jg)&&
(a=b.df.FontFace.prototype.LB,null!==a&&(document.head.removeChild(a),b.df.FontFace.prototype.styleSheet=null,b.df.FontFace.prototype.LB=null));this.Xm=new b.gf.ws;this.Ua instanceof b.o.V.AC&&this.Ua.abort();this.Ns()},Ns:function(){this.Ua.unbind("partReady");this.La=new b.o.V.mL(this.Ua,this.J,this.Xm,this.la);this.La.xA=this.xA},eD:function(){this.xd[this.Tf]&&this.xd[this.Fg]&&this.xd[this.Sf]&&this.jD()},jD:function(a){this.Ns();if(this.Ua.Bi()){for(var d in this.Tj)this.La.cache.setItem(d,
this.Tj[d].data,this.Tj[d].Ab),this.Ua.decrypt&&this.La.bl.setItem(d,this.Tj[d].lP,this.Tj[d].Ab);delete this.Tj}this.trigger("documentReady",3===this.xd[this.Tf]);a&&this.Ua.trigger("partReady",a)},JM:function(){var a=new XODText.za;a.Fa(4/3,0,0,-4/3,0,this.J[0].height);for(var d=this.J.length,c=0;c<d;++c)this.J[c].cb=a,this.J[c].rotation=0},FD:function(a){for(var d=this.J.length,c=0;c<d;++c)this.J[c].cb=null;if(a&&a.querySelector("xfdf > pages")){a=a.querySelector("xfdf > pages");for(var b,e,g,
c=0;c<a.childNodes.length;++c){var f=a.childNodes[c].localName;if(f&&(g=a.childNodes[c],"defmtx"===f&&(e=g.getAttribute("matrix").split(","),b=new XODText.za,b.Fa(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])),e=this.nj(b)),"pgmtx"===f)){f=parseInt(g.getAttribute("page"),10);g=g.getAttribute("matrix").split(",");var h=new XODText.za;h.Fa(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2]),parseFloat(g[3]),parseFloat(g[4]),parseFloat(g[5]));var l=
this.nj(h);g=this.jn(h,{w:this.J[f].width,Df:this.J[f].height});this.J[f].rotation=l;h.Fa(4/3,0,0,-4/3,-g.x1,g.y2);this.J[f].cb=h}}for(c=0;c<d;++c)null===this.J[c].cb&&(a=new XODText.za,g=this.jn(b,{w:this.J[c].width,Df:this.J[c].height}),a.Fa(4/3,0,0,-4/3,-g.x1,g.y2),this.J[c].cb=a,this.J[c].rotation=e)}},vu:function(a){return this.J[a-1].wK.index},wu:function(a,d){if(1.5>this.Qf)return Promise.reject("getAppearanceReferences: XOD with version less than 1.5 has no appearances");var c=this,g=this.vu(d);
new l.Pe;var f="Annot/Appearances"+(g||"")+".xod",h;h=new Promise(function(a,d){b.FileReader||d("This browser does not support FileReader");c.La.Bf(f,function(d){a(e(b.RG(d.data)))})});this.dn.FE(g,h);return h},Po:function(){return!this.yl()}});l.Bh=function(){this.uf=[];this.ge={};this.J=[];this.Bv={};this.$n=!1;this.or=0;this.ei={};this.oe={};this.la=null;this.dI=2;this.fJ=!1;this.je=[];this.$a=null;this.dn=new l.Sw(10,400)};l.Bh.prototype=Object.create(l.Ki.prototype);l.Bh.prototype.constructor=
l.Bh;l.Document.Cr("pdf",l.Bh);$.extend(l.Bh.prototype,{Nw:function(a){var d=new b.mk(a.width,a.height);d.cb=new XODText.za;a=a.matrix;d.cb.Fa(a[0],a[1],a[2],a[3],a[4],a[5]);a=this.nj(d.cb);d.cb=this.nB({w:d.width,Df:d.height});d.rotation=a;return d},nB:function(a,d){var c=new XODText.za;c.Fa.apply(c,a);var b=this.jn(c,d);c.Fa(1,0,0,-1,-b.x1,b.y2);return c},RF:function(a,d){this.eT||this.CE({pageDimensions:a});this.jr=this.iq();this.Gj||this.trigger("documentComplete");d()},rQ:function(a,d){var c=
createPromiseCapability(),b=new XMLHttpRequest;b.open("GET",a.url);b.withCredentials=d;var e=a.customHeaders;if(e)for(var g in e)b.setRequestHeader(g,e[g]);b.setRequestHeader("Range","bytes=1-150");b.responseType="arraybuffer";b.onreadystatechange=function(){if(this.readyState===this.DONE){var a=b.response.byteLength;206!==b.status&&200!==b.status?c.reject({message:"Received http error code "+b.status}):150!==a&&c.reject({message:"Byte ranges are not supported by the server.",data:new Uint8Array(b.response)});
var a=new Uint8Array(b.response),d=[76,105,110,101,97,114,105,122,101,100],e=b.getResponseHeader("Content-Range")||b.getResponseHeader("content-range");if(e){var e=e.split("/")[1],g=0;do{a:{for(var f=a.length;g<f;++g)if(a[g]===d[0])break a;g=-1}g+=1;for(f=1;10>f;++f)if(a[g]===d[f])++g;else break;if(10===f){c.resolve(parseInt(e,10));return}}while(0!==g);c.reject({message:"The file is not linearized."})}else c.reject({message:"Could not retrieve Content-Range header."})}};b.onerror=function(){c.reject({message:"Network or Cross Domain Access Error."})};
b.send();return c.promise},loadAsync:function(a,d,c){function e(a){L.uf=[];L.ge={};L.J=[];L.$n=!1;L.or=0;L.Gj=!1;L.bind("documentReady",d);var c,b;u.then(function(d){L.Ca=d;d="object"===typeof a&&"url"in a;var e;if(e=F){e=F;var g=Object.prototype.toString.call(e);e="object"===typeof e&&null!==e&&("[object File]"===g||"[object Blob]"===g)}e&&L.Ca&&"ems"===L.Ca.getWorkerType()?(c="file",b=F):d?(c="url",b=a,L.Gj=!0):"string"===typeof a?(c="filepath",b=a):"object"===typeof a&&null!==a&&void 0!==a.byteLength?
(c="array",b=a.buffer):"object"===typeof a&&"type"in a&&"id"===a.type?(c="id",b=a.id):console.warn("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");n({type:c,value:b,extension:m,defaultPageSize:r,pageSizes:p})})}function g(a,d){console.warn("Could not use incremental download for url "+a+". Reason: "+d)}function f(a){N=a;L.Ca.fW(L.la,a).then(function(a){a.success?l(a.pageDimensions):k(f)})}function h(){L.kc=new Promise(function(a){L.bind("documentComplete",
function(){L.unbind("documentComplete");a()})});L.Ca.addEventListener(L.la,function(a){L.$A(a)})}function l(c){L.Gj?L.Ca.WR(L.la).then(function(b){b?L.RF(c,d):(g(F.url,"Linearization data is invalid."),L.dc(),a.getFileData(e))}):L.RF(c,d)}function n(a){L.Ca.pP(a).then(function(a){L.la=a.docId;h();l(a.pageDimensions)},function(a){"NeedsPassword"===a.type&&k?(L.la=a.docId,h(),N?f(N):k(f)):(L.kc=Promise.reject(a),d(a))})}this.Ua=a;var k=c.getPassword,m=c.extension,r=c.defaultPageSize,p=c.pageSizes,u=
c.workerTransportPromise,L=this,F=a.getFile();b.utils.isJSWorker&&b.jsworker?(F=b.jsworker.worker.getPlatformFormatFilePath(F),e(F)):F&&F.url?this.rQ(F,a.withCredentials).then(function(d){F.size=d;F.withCredentials=-1===F.url.indexOf(window.parent.location.hostname)?a.withCredentials:!0;e(F)},function(d){g(F.url,d.message);d.data?e(d.data):a.getFileData(e)}):F&&!b.utils.isChrome?e(F):a.getFileData(e);var N=null},CE:function(a){var d=this;d.eT=!0;a=a.pageDimensions;for(var b=Object.keys(a),e=this.J,
g=Array(e.length),f=0;f<e.length;++f){var h=e[f];h.text&&(g[f]=h.text)}this.J.length=0;var l=this.Bv,n=[],k={};b.forEach(function(b){var f=a[b],h=!!f.contentChanged,f={width:f.width,height:f.height,matrix:d.nB(f.matrix,{w:f.width,Df:f.height}),rotation:90*f.rotation,id:f.id,pageNum:b,contentChanged:h};l[f.id]&&n.push({before:l[f.id],after:f});l[f.id]=new c(f.width,f.height);var m=l[f.id];m.nJ(f);!h&&(h=g[b-1])&&(m.text=h);e[b-1]=m;k[f.id]=!0});this.jr=this.iq();Object.keys(l).forEach(function(a){a in
k||delete l[a]});return n},$A:function(a){switch(a.type){case "pagesUpdated":a=this.CE(a.data);this.wj({type:"pagesDiff",data:a});this.wj({type:"pagesUpdated",data:a.map(function(a){return a.after})});break;case "bookmarksUpdated":this.wj({type:"bookmarksUpdated",data:a.data});break;case "documentComplete":this.trigger("documentComplete");this.wj({type:"documentComplete",data:a.data});break;default:console.warn("Unknown event type: ",a.type)}},getBookmarks:function(){function a(d){var c=[];d.children.forEach(function(d){c.push(a(d))});
return new l.cf(c,d.name,d.pageNumber,d.parent,d.verticalOffset,d.horizontalOffset,d.url)}return this.Ca.sS(this.la).then(function(d){var c=[];d.bookmarks.forEach(function(d){c.push(a(d))});return c})},loadTextData:function(a,d){var c=this;null!==c.J[a].text?d(c.J[a].text):a in c.oe?c.oe[a].push(d):(this.Ql(a+1).then(function(){c.Ca.lh(c.la,a).then(function(d){var b=new XODText.te;b.xr({m_Struct:d.struct,m_Str:d.str,m_Offsets:d.offsets,m_Quads:d.quads,m_Ready:!0});c.correctQuadsForPageRotation(a,
b);c.J[a].text=b;c.oe[a].forEach(function(a){a(b)});delete c.oe[a]},function(a){console.warn("Text generation failed: "+(a&&a.message?a.message:a))})}),c.oe[a]=[d])},extractXFDF:function(a){return this.Ca.qS(this.la,a).then(function(d){d.pages=a;return d})},kr:function(a){return this.Ca.kr(this.la,a)},getFileData:function(a){var d=this;a=a||{};"finishedWithDocument"in a||(a.finishedWithDocument=!1);"printDocument"in a||(a.printDocument=!1);a.docId=d.la;return"filePath"in a?d.kc.then(function(){return d.Ca.fU(a)}):
d.kc.then(function(){return d.Ca.eU(a)}).then(function(a){return a.fileData})},Db:function(){return this.J.length},gH:function(a,d,c,e,g,f,h,l){var n=this,k=b.o.jm===b.o.jm.Bs;if(k){d=b.innerWidth;c=b.innerHeight;var m=b.utils.getCanvasMultiplier(),r={x:h.x,y:h.y};b.ld(e.Av,e.zv,{x1:e.page.x1,x2:e.page.x2,y1:e.page.y1,y2:e.page.y2,width:e.page.width,height:e.page.height},r,!0,m);r.x=r?Math.round(r.x):0;r.y=r?Math.round(r.y):0;m=b.o.ya.qh;b.o.ya.Zm(m,d,c);var p=r.x>=m.width/2;console.log("imagePathReceived for: "+
a);console.log("tCanvas.width: "+m.width);console.log("translation.x: "+r.x);console.log("isRightPage: "+p);"undefined"===typeof n.dr&&(n.dr=!1);if(p&&!n.dr){n.Wy=function(){var d=b.o.ya.Mo(e.page,e.Av,e.zv,h,f,l).canvas,c=h?Math.round(h.x):0,n=h?Math.round(h.y):0;console.log("Drawing: "+a);var k=new Image;$(k).css("width",e.gI);$(k).css("height",e.eI);var m=a;0!==m.indexOf("file://")&&(m="file://"+m);k.onload=function(){var a=d.getContext("2d");a.setTransform(1,0,0,1,0,0);a.drawImage(k,c,n);g||$(d).addClass("progressive");
e.Vy(d);g&&e.Uy(d);k=null;b.utils.isJSWorker&&(console.log("[WebViewer|JSWorker]: Deleting file: "+m),b.jsworker.worker.deleteGeneratedImageRenderFile(m))};k.src=m};return}}var u=b.o.ya.Mo(e.page,e.Av,e.zv,h,f,e.Ud,l).canvas,L=h?Math.round(h.x):0,F=h?Math.round(h.y):0;console.log("Drawing: "+a);var N=new Image;$(N).css("width",e.gI);$(N).css("height",e.eI);var O=a;0!==O.indexOf("file://")&&(O="file://"+O);N.onload=function(){var a=u.getContext("2d");a.setTransform(1,0,0,1,0,0);a.drawImage(N,L,F);
g||$(u).addClass("progressive");e.Vy(u);g&&e.Uy(u);N=null;b.utils.isJSWorker&&(console.log("[WebViewer|JSWorker]: Deleting file: "+O),b.jsworker.worker.deleteGeneratedImageRenderFile(O));k&&(p?n.dr=!1:(n.dr=!0,"function"===typeof n.Wy&&(n.Wy(),n.Wy=void 0,n.dr=!1)))};N.src=O},cS:function(a){if("Alpha"===a.name)return!0;for(var d=0;d<this.je.length;++d)if(this.je[d].name===a.name)return this.je[d].enabled;d=Array(3);this.ZJ(a.color,d);a={color:a.color,name:a.name,rgb:d,enabled:!0};this.je.push(a);
this.wj({type:"colorSeparationAdded",data:a});return!0},va:function(a,d){var c=a*d+128;return(c>>8)+c>>8},kb:function(a,d,c){a=a*d+128;a=((a>>8)+a>>8)+c;return 255>a?a:255},ZJ:function(a,d){var c=a[0],b=a[1],e=a[2],g=a[3],f=255-c,h=255-b,l=255-e,n=255-g,k=this.va(this.va(this.va(f,h),l),n),m=k,r=k,p=k,k=this.va(this.va(this.va(f,h),l),g),m=this.kb(35,k,m),r=this.kb(31,k,r),p=this.kb(32,k,p),k=this.va(this.va(this.va(f,h),e),n),m=this.kb(255,k,m),r=this.kb(242,k,r),k=this.va(this.va(this.va(f,h),e),
g),m=this.kb(28,k,m),r=this.kb(26,k,r),k=this.va(this.va(this.va(f,b),l),n),m=this.kb(236,k,m),p=this.kb(140,k,p),k=this.va(this.va(this.va(f,b),l),g),m=this.kb(36,k,m),k=this.va(this.va(this.va(f,b),e),n),m=this.kb(237,k,m),r=this.kb(28,k,r),p=this.kb(36,k,p),k=this.va(this.va(this.va(f,b),e),g),m=this.kb(34,k,m),k=this.va(this.va(this.va(c,h),l),n),r=this.kb(173,k,r),p=this.kb(239,k,p),k=this.va(this.va(this.va(c,h),l),g),r=this.kb(15,k,r),p=this.kb(36,k,p),k=this.va(this.va(this.va(c,h),e),n),
r=this.kb(166,k,r),p=this.kb(80,k,p),k=this.va(this.va(this.va(c,h),e),g),r=this.kb(19,k,r),k=this.va(this.va(this.va(c,b),l),n),m=this.kb(46,k,m),r=this.kb(49,k,r),p=this.kb(146,k,p),k=this.va(this.va(this.va(c,b),l),g),p=this.kb(2,k,p),k=this.va(this.va(this.va(c,b),e),n);d[0]=this.kb(54,k,m);d[1]=this.kb(54,k,r);d[2]=this.kb(57,k,p)},GN:function(a,d,c,b){for(var e=this,g=a.length-1;0<=g;--g)this.cS(a[g])||a.splice(g,1);return function(a,d,c){return new Promise(function(g){function f(){for(var a=
Math.min(u+v,c);u<a;++u)for(var x=u*d,z=4*x,y=0;y<d;++y){q[0]=0;q[1]=0;q[2]=0;for(r=q[3]=0;r<m;++r){var R=q,V=n[r],X=l[r][x+y];R[0]=Math.min(e.va(V[0],X)+R[0],255);R[1]=Math.min(e.va(V[1],X)+R[1],255);R[2]=Math.min(e.va(V[2],X)+R[2],255);R[3]=Math.min(e.va(V[3],X)+R[3],255)}e.ZJ(q,p);R=z+4*y;k[R]=p[0];k[R+1]=p[1];k[R+2]=p[2];k[R+3]=h[x+y]}u<c?(a=setImmediate(f),b&&(e.ei[b.id]=a)):g(k)}for(var h,l=[],n=[],k=new Uint8ClampedArray(d*c*4),m=0,r=0;r<a.length;++r)"Alpha"!==a[r].name?(n.push(a[r].color),
l.push(new Uint8Array(a[r].data)),++m):h=new Uint8Array(a[r].data);var p=Array(3),q=[0,0,0,0],v=Math.ceil(1E5/d),u=0;f()})}(a,d,c)},KE:function(a,d,c,e,g,f,h,l){function n(f){function h(){g||$(m).addClass("progressive");e.page&&k.Zy(m,e.page.Qa-1);e.Vy(m);g&&e.Uy(m,{data:a,width:d,height:c});g&&delete k.ei[e.id]}if(b.utils.supportsImageDataConstructor){var l=new b.ImageData(f,d,c);u.putImageData(l,r,p,0,0,d,c);h()}else{var w=Math.ceil(1E6/d),z=c,y=u.createImageData(d,Math.min(w,c)),Q=0,U=function(){var a=
Math.min(w,z),b=c-z,l=a*d*4;y.data.set(f.subarray(Q,Q+l));Q+=l;u.putImageData(y,r,p+b,0,0,d,a);z-=a;0===z?h():(a=setImmediate(U),g&&(k.ei[e.id]=a))};U()}}var k=this,m=e.fP?e.fP:b.o.ya.Mo(e.page,e.Av,e.zv,h,f,e.Ud,l).canvas,r=h&&0<h.x?Math.round(h.x):0,p=h&&0<h.y?Math.round(h.y):0,u=m.getContext("2d");a.length?this.GN(a,d,c,g?e:null).then(n):n(new Uint8ClampedArray(a))},loadCanvasAsync:function(d,c,e,g,f,h){var l=this,n=a(d,c,e,g,f,h),k=n.pageIndex;d=n.getZoom();e=n.getPageRotation();c=n.renderRect;
f=e===b.o.Ra.Xe||e===b.o.Ra.fg;var m=b.utils.getCanvasMultiplier(),r=n.getPageTransform();"undefined"===typeof c?(g=(f?l.J[k].height:l.J[k].width)*d,f=(f?l.J[k].width:l.J[k].height)*d):(g=(f?c.y2-c.y1:c.x2-c.x1)*d,f=(f?c.x2-c.x1:c.y2-c.y1)*d);g=Math.round(g);f=Math.round(f);var p=Math.floor(g*m),u=Math.floor(f*m);if(!p||!u)return e=l.Ca.Lq(),this.ei[e]=setImmediate(function(){var a=document.createElement("canvas");a.width=p||1;a.height=u||1;n.drawComplete(a)}),e;var G,m=l.fJ?b.o.rp.HL:l.dI;b.utils.isJSWorker&&
b.jsworker.worker.useFilePathForImageRenders()?(G=b.jsworker.worker.generateImageRenderFilePath(k),G=b.jsworker.worker.getPlatformFormatFilePath(G),console.log("imageRenderFilePath for page "+k+' is: "'+G+'".'),m=l.Ca.NP(l.la,k,p,u,e,l.zA,m,c,G)):m=l.Ca.MP(l.la,k,p,u,e,l.zA,m,c);var L=m.LN,F={Vy:n.drawProgressive,Uy:function(a,d){n.drawComplete(a,k,d)},gI:g,eI:f,Av:d,zv:e,page:l.J[k],Ud:c,id:L},N=1,O;n.useProgress&&(O=setInterval(function(){var a;b.utils.isJSWorker&&b.jsworker.worker.useFilePathForImageRenders?
(a=b.jsworker.worker.generateNextImageRenderFilePath(G,N++),a=b.jsworker.worker.getPlatformFormatFilePath(a),a=l.Ca.iG(L,a)):a=l.Ca.iG(L);a.then(function(a){"undefined"!==typeof a.filePath?l.gH(a.filePath,a.pageWidth,a.pageHeight,F,!1,h,r,n.pageCanvas):l.KE(a.pageBuf,a.pageWidth,a.pageHeight,F,!1,h,r,n.pageCanvas)},function(a){"type"in a&&"Queued"===a.type||clearInterval(O)})},b.o.HG()));m.promise.then(function(a){clearInterval(O);"undefined"!==typeof a.filePath?l.gH(a.filePath,a.pageWidth,a.pageHeight,
F,!0,h,r,n.pageCanvas):l.KE(a.pageBuf,a.pageWidth,a.pageHeight,F,!0,h,r,n.pageCanvas)},function(a){clearInterval(O);n.onError(a)});return L},pj:function(){},dc:function(){this.la&&(this.Ca.WN(this.la),this.Ca.Ly(this.la),this.la=null);this.Ua.abort&&this.Ua.abort()},Vq:function(a,d,c){var b=this;return this.kc.then(function(){return b.Ca.Vq(b.la,a,d||612,c||792)})},fo:function(a,d,c){var b=this;a instanceof l.Document&&(a=a.v.la);return this.kc.then(function(){return b.Ca.fo(b.la,a,d,c,!0)})},lr:function(a,
d){var c=this;return this.kc.then(function(){return c.Ca.lr(c.la,a,d)})},wo:function(a){var d=this;a.sort(f);return this.kc.then(function(){return d.Ca.wo(d.la,a)})},Dn:function(){return this.Ca.Dn(this.la,this.zA)},Ao:function(a,d){var c=this;a.sort(f);return this.kc.then(function(){return c.Ca.Ao(c.la,a,d)})},En:function(a,d){var c=this;return this.kc.then(function(){return c.Ca.En(c.la,a,d).then(function(a){return a.fileData})})},tn:function(a,d,c,b,e){var g=this;a.sort(f);return this.kc.then(function(){return g.Ca.tn(g.la,
a,d,c,b,e)})},Mq:function(a){return this.J[a].id},Qn:function(){return Object.keys(this.Bv)},ol:function(){var a=this;if(!b.o.xl())throw Error("getPDFDoc called without PDFNet being loaded. Are you running a lean version of PDFNetJS?");return a.Ca.ol(a.la).then(function(d){d=new b.PDFNet.PDFDoc(d);d.documentCompletePromise=a.kc;return d})},Kn:function(){return this.Ca.Kn(this.la).then(function(a){return a})},cw:function(a){this.zA=a},ew:function(a){this.dI=a},Ql:function(a){if(1!==arguments.length)throw new RangeError(arguments.length+
" arguments passed into function 'requirePage'. Expected 1 argument. Function Signature: requirePage(number)");if(a instanceof Promise)throw new TypeError("Received a Promise object in 1st input argument 'requirePage'. Promises require a 'yield' statement before being accessed.");if("number"!==typeof a)throw new TypeError("1st input argument '"+a+"' in function 'requirePage' is of type '"+typeof a+"'. Expected type 'number'. Function Signature: requirePage(number).");if(0>=a)throw Error("1st input argument '"+
a+"' in function 'requirePage' is invalid. Expected number between 1 and number of pages in the document.");return this.Gj?this.Ca.Ql(this.la,a):Promise.resolve()},loadThumbnailAsync:function(a,d,c){var e="page"===c;c=this.J[a];var g=b.utils.getCanvasMultiplier(),e=e?2E3:150*g,f=c.width>c.height?e/c.width:e/c.height,f=f/g;return this.loadCanvasAsync({pageIndex:a,getZoom:function(){return f},getPageRotation:function(){return b.o.Ra.Yh},drawComplete:function(a){d(a)},drawProgressive:function(){},useProgress:!1,
pageCanvas:!0})},oj:g,Rh:g,Ij:function(){return!1},Tl:function(a){this.Gj&&this.Ca.Tl(this.la,a)},ku:function(a){this.fJ=a},xu:function(){return this.je},lu:function(a,d){for(var c=0;c<this.je.length;++c)if(this.je[c].name===a){this.je[c].enabled=d;break}},Po:function(){return!this.Gj},vu:function(a){return a},wu:function(a,d){var c=this.vu(d),b=this.Ca.wu(this.la,a).then(function(a){return e(a.data)});this.dn.FE(c,b);return b}});_(l.Ki.prototype).extend(Backbone.Events);b.mk=c})(window);
(function(b){b.Annotations=b.Annotations||{};var f=b.Annotations;f.Color=function(b,c,a,d){this.A=this.B=this.G=this.R=0;b instanceof f.Color?(this.R=b.R,this.G=b.G,this.B=b.B,this.A=b.A):_.isArray(b)?1===b.length?(this.B=this.G=this.R=b=Math.round(255*(b[0]||0)),this.A=1):3===b.length?(this.R=Math.round(255*(b[0]||0)),this.G=Math.round(255*(b[1]||0)),this.B=Math.round(255*(b[2]||0)),this.A=1):4===b.length&&(c=b[1]||0,a=b[2]||0,d=b[3]||0,this.R=Math.round(255*(1-(b[0]||0))*(1-d)),this.G=Math.round(255*
(1-c)*(1-d)),this.B=Math.round(255*(1-a)*(1-d)),this.A=1):_.isString(b)&&"#"===b[0]?(b=f.ba.tj(b),this.R=b.R,this.G=b.G,this.B=b.B,this.A=1):(_.isUndefined(b)||(this.R=Number(b)),_.isUndefined(c)||(this.G=Number(c)),_.isUndefined(a)||(this.B=Number(a)),_.isUndefined(d)?_.isUndefined(b)&&_.isUndefined(c)&&_.isUndefined(a)||(this.A=1):this.A=Number(d))};f.Color.prototype={toString:function(){var b=this.R+","+this.G+","+this.B;return"undefined"===typeof this.A?"rgb("+b+")":"rgba("+b+","+this.A+")"},
toHexString:function(){return f.ba.sg(this)},RV:function(){return f.ba.toFixed(this.R/255,3)+" "+f.ba.toFixed(this.G/255,3)+" "+f.ba.toFixed(this.B/255,3)+" rg"},ul:function(){return 0===this.R&&0===this.G&&0===this.B&&1===this.A},zH:function(){return 0===this.A}};f.Point=function(b,c){this.x=b;this.y=c;"string"===typeof b&&(this.x=parseFloat(b));"string"===typeof c&&(this.y=parseFloat(c))};f.Point.prototype={toString:function(){return"[Point: x="+this.x+" y="+this.y+"]"}};f.ab=function(b,c,a,d,g,
f,h,k){this.x1=b;this.y1=c;this.x2=a;this.y2=d;this.x3=g;this.y3=f;this.x4=h;this.y4=k};f.ab.prototype={normalize:function(){},pz:function(){var b=[];b.push(this.x1);b.push(this.y1);b.push(this.x2);b.push(this.y2);b.push(this.x3);b.push(this.y3);b.push(this.x4);b.push(this.y4);return b}};f.Rect=function(b,c,a,d){b instanceof f.Rect?(this.x1=b.x1,this.y1=b.y1,this.x2=b.x2,this.y2=b.y2):_.isArray(b)?(this.x1=b[0],this.y1=b[1],this.x2=b[2],this.y2=b[3]):_.isObject(b)?(this.x1=b.x1,this.y1=b.y1,this.x2=
b.x2,this.y2=b.y2):(this.x1=b,this.y1=c,this.x2=a,this.y2=d)};f.Rect.prototype={Ba:function(){return this.x2-this.x1},xa:function(){return this.y2-this.y1},translate:function(b,c){this.x1+=b;this.y1+=c;this.x2+=b;this.y2+=c},pu:function(b){var c=0,a=0;if(this.Ba()<=b.Ba()){var d=b.x2-this.x2;0>d&&(c=d);d=b.x1-this.x1;0<d&&(c=d)}this.xa()<=b.xa()&&(d=b.y2-this.y2,0>d&&(a=d),b=b.y1-this.y1,0<b&&(a=b));this.translate(c,a)},normalize:function(){var b;0>this.Ba()&&(b=this.x1,this.x1=this.x2,this.x2=b);
0>this.xa()&&(b=this.y1,this.y1=this.y2,this.y2=b)},LF:function(){var b;this.x1>this.x2&&(b=this.x1,this.x1=this.x2,this.x2=b);this.y2>this.y1&&(b=this.y1,this.y1=this.y2,this.y2=b)},isEqual:function(b){return this.x1===b.x1&&this.y1===b.y1&&this.x2===b.x2&&this.y2===b.y2},AH:function(){return 0===this.x1&&0===this.y1&&0===this.x2&&0===this.y2}};f.Math={};f.Math.JS=function(b,c){return b instanceof f.Point&&c instanceof f.Point?new f.Point((b.x+c.x)/2,(b.y+c.y)/2):null};f.Math.distance=function(b,
c){if(!(b instanceof f.Point&&c instanceof f.Point))return null;var a=b.x-c.x,d=b.y-c.y;return Math.sqrt(a*a+d*d)};f.ControlHandle=function(b,c,a,d){this.x=b;this.y=c;this.width=a;this.height=d};f.ControlHandle.handleWidth=12;f.ControlHandle.handleHeight=12;f.ControlHandle.selectionAccuracyPadding=1;f.ControlHandle.prototype={testSelection:function(b,c,a,d,g){b=this.getDimensions(b,c,a);c=0;1<f.ControlHandle.selectionAccuracyPadding&&(c=f.ControlHandle.selectionAccuracyPadding);return d>=b.x1-c&&
d<=b.x1+b.Ba()+c&&g>=b.y1-c&&g<=b.y1+b.xa()+c},draw:function(b,c,a,d){"undefined"===typeof d&&(d=1);this.cc(b,d);var g=this.getDimensions(c,a,d);c=g.x1;a=g.y1;d=g.Ba();g=g.xa();b.beginPath();b.arc(c+d/2,a+g/2,d/2,0,2*Math.PI);b.stroke();b.fill()},cc:function(b,c){b.strokeStyle=f.SelectionModel.defaultSelectionOutlineColor.toString();b.fillStyle="rgb(255, 255, 255)";b.lineWidth=f.SelectionModel.selectionOutlineThickness/c},move:function(){console.warn("ControlHandle move() not implemented")},getDimensions:function(){console.warn("ControlHandle getDimensions() not implemented");
return new f.Rect(0,0,0,0)}};f.Me=function(b,c,a,d){this.width=b;this.height=c;this.Ff=a;this.zg=d};f.Me.prototype={getDimensions:function(b,c,a){b=c.x1;var d=c.y1,g=this.width/a;a=this.height/a;this.Ff===f.pa.oc.left?b+=-(g/2):this.Ff===f.pa.oc.St?b+=(c.Ba()-g)/2:this.Ff===f.pa.oc.right?b+=c.Ba()-g/2:console.warn("Invalid HorizonalAlignment");this.zg===f.pa.Fc.top?d+=-(a/2):this.zg===f.pa.Fc.lv?d+=(c.xa()-a)/2:this.zg===f.pa.Fc.bottom?d+=c.xa()-a/2:console.warn("Invalid VerticalAlignment");return new f.Rect(b,
d,b+g,d+a)},move:function(b,c,a){var d=c||a;if(!d)return!1;var g=b.Qc();if(b.MaintainAspectRatio){var l=b.Width,h=b.Height;if(l>h){if(a=h/l*(l+c)-h,this.Ff===f.pa.oc.left&&this.zg===f.pa.Fc.bottom||this.Ff===f.pa.oc.right&&this.zg===f.pa.Fc.top)a*=-1}else if(c=l/h*(h+a)-l,this.Ff===f.pa.oc.left&&this.zg===f.pa.Fc.bottom||this.Ff===f.pa.oc.right&&this.zg===f.pa.Fc.top)c*=-1}this.Ff===f.pa.oc.left?g.x1+=c:this.Ff===f.pa.oc.right&&(g.x2+=c);this.zg===f.pa.Fc.top?g.y1+=a:this.zg===f.pa.Fc.bottom&&(g.y2+=
a);b.resize(g);return d}};f.Me.prototype=$.extend(!0,new f.ControlHandle,f.Me.prototype);f.xk=function(b,c,a,d,g){this.x=b;this.y=c;this.width=a;this.height=d;this.wl=g};f.xk.prototype={getDimensions:function(b,c,a){b=this.width/a;a=this.height/a;return this.wl?new f.Rect(this.x-.5*b,this.y,this.x+.5*b,this.y+a):new f.Rect(this.x-.5*b,this.y-a,this.x+.5*b,this.y)},move:function(b,c,a,d,g,f){a=b.ce();c=a[0];if("undefined"===typeof c)return!1;a=a[a.length-1];f=new window.ca.Ec(f);f.annotation=b;f.pageCoordinates[0]=
g;d=Math.min(c.x1,c.x2,c.x3,c.x4);b=Math.max(a.x1,a.x2,a.x3,a.x4);c=Math.min(c.y1,c.y2,c.y3,c.y4);a=Math.max(a.y1,a.y2,a.y3,a.y4);this.wl?c={x:d+1,y:c,pageIndex:g.pageIndex}:(c=g,g={x:b-1,y:a,pageIndex:g.pageIndex});if(g.y<c.y)return!1;(c.x<g.x||c.y<g.y)&&f.select(c,g);return!0},draw:function(b,c,a,d){var g,l,h,k;this.cc(b,d);g=c.ce();this.wl?(k=g[g.length-1],g=k.x2,l=k.y2,h=k.x3,k=k.y3):(k=g[0],g=k.x1,l=k.y1,h=k.x4,k=k.y4);b.beginPath();b.moveTo(g,l);b.lineTo(h,k);b.stroke();f.ControlHandle.prototype.draw.call(this,
b,c,a,d)}};f.xk.prototype=$.extend(!0,new f.ControlHandle,f.xk.prototype);f.Kg=function(b,c,a,d,g){this.x=b;this.y=c;this.width=a;this.height=d;this.Bc=g};f.Kg.prototype={getDimensions:function(b,c,a){b=this.width/a;a=this.height/a;c=this.x-.5*b;var d=this.y-.5*a;return new f.Rect(c,d,c+b,d+a)},move:function(b,c,a){var d=b.bi(this.Bc);b.Lf(this.Bc,d.x+c,d.y+a);return!0}};f.Kg.prototype=$.extend(!0,new f.ControlHandle,f.Kg.prototype);f.us=function(b,c,a,d,g){f.Kg.apply(this,arguments)};f.us.prototype=
{move:function(b,c,a,d,g){f.Kg.prototype.move.apply(this,arguments);if(0===this.Bc){var l=b.bi(0);b.Lf(b.getPath().length-1,l.x,l.y)}return!0}};f.us.prototype=$.extend(!0,new f.Kg,f.us.prototype);f.ds=function(b,c,a,d,g){this.x=b;this.y=c;this.width=a;this.height=d;this.Bc=g};f.ds.prototype={move:function(b,c,a,d,g,l){g=b.getPath().length-4;d=g+1;var h=d+1,k=h+1;g=b.bi(g);var m=b.bi(d),n=b.bi(h),r=b.bi(k);if(this.Bc===h){if(r.y<n.y+a||r.x<n.x+c)return}else if(this.Bc===k&&(r.y+a<n.y||r.x+c<n.x))return;
c=f.Kg.prototype.move.call(this,b,c,a);this.Bc===h&&(r.y<n.y&&b.Lf(h,n.x,r.y),r.x<n.x&&b.Lf(h,r.x,n.y),b.Lf(d,n.x,n.y+.5*(r.y-n.y)),c=!0);this.Bc===k&&(r.y<n.y&&b.Lf(h,r.x,n.y),r.x<n.x&&b.Lf(h,n.x,r.y),b.Lf(d,m.x,n.y+.5*(r.y-n.y)),c=!0);l=l.Oc(b.Lb());l=b.yj(l)/2;a=f.Math.JS(n,r);l=[new f.Point(a.x,n.y+l),new f.Point(a.x,r.y-l),new f.Point(n.x+l,a.y),new f.Point(r.x-l,a.y)];n=[f.Math.distance(g,l[0]),f.Math.distance(g,l[1]),f.Math.distance(g,l[2]),f.Math.distance(g,l[3])];n=n.indexOf(Math.min.apply(Math,
n));if(g.x!==l[n].x||g.y!==l[n].y)b.Lf(d,l[n].x,l[n].y),c=!0;return c}};f.ds.prototype=$.extend(!0,new f.Kg,f.ds.prototype);f.um=function(b,c,a,d,g){this.x=b;this.y=c;this.width=a;this.height=d;this.wl=g};f.um.prototype={getDimensions:function(b,c,a){b=this.width/a;a=this.height/a;c=this.x-.5*b;var d=this.y-.5*a;return new f.Rect(c,d,c+b,d+a)},move:function(b,c,a){this.wl?(b.End.x+=c,b.End.y+=a):(b.Start.x+=c,b.Start.y+=a);b.adjustRect();return!0}};f.um.prototype=$.extend(!0,new f.ControlHandle,f.um.prototype);
f.SelectionModel=function(b,c,a){this.Kc=[];this.vx=c;this.Jx=a};f.SelectionModel.selectionOutlineThickness=2;f.SelectionModel.selectionAccuracyPadding=2;f.SelectionModel.defaultSelectionOutlineColor=new f.Color(65,140,252);f.SelectionModel.defaultNoPermissionSelectionOutlineColor=new f.Color(255,0,0);f.SelectionModel.selectionOutlineDashSize=4;f.SelectionModel.prototype={testSelection:function(b,c,a){return f.Vb.Vk(b,c,a)},Pr:function(b,c,a,d){for(var g=this.Kc.length-1;0<=g;g--){var f=this.Kc[g];
if(f.testSelection(b,this.getDimensions(b),c,a,d))return f}},SP:function(){return this.Kc},getDimensions:function(b){return new f.Rect(b.X,b.Y,b.X+b.Width,b.Y+b.Height)},Ld:function(){return this.vx},draw:function(b,c,a,d){b.save();this.drawSelectionOutline(b,c,a,d);b.restore();for(d=0;d<this.Kc.length;d++)this.Kc[d]&&this.Kc[d].draw(b,c,this.getDimensions(c),a)},drawSelectionOutline:function(b,c,a){b.save();c=this.getDimensions(c);"undefined"===typeof a&&(a=1);b.lineWidth=f.SelectionModel.selectionOutlineThickness/
a;this.Ld()?b.strokeStyle=f.SelectionModel.defaultSelectionOutlineColor.toString():b.strokeStyle=f.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();b.beginPath();b.moveTo(c.x1,c.y1);b.lineTo(c.x2,c.y1);b.lineTo(c.x2,c.y2);b.lineTo(c.x1,c.y2);b.closePath();b.stroke();"undefined"!==typeof b.setLineDash||"undefined"!==typeof b.mozDash?(a=f.SelectionModel.selectionOutlineDashSize/a,a=[a,a],b.setLineDash?b.setLineDash(a):b.mozDash=a):b.lineWidth/=2;b.strokeStyle="rgb(255, 255, 255)";
b.beginPath();b.moveTo(c.x1,c.y1);b.lineTo(c.x2,c.y1);b.lineTo(c.x2,c.y2);b.lineTo(c.x1,c.y2);b.closePath();b.stroke();b.restore()}};f.rs=function(){f.SelectionModel.call(this,0,!1,!1)};f.rs.prototype={testSelection:function(){return!1},getDimensions:function(){return new f.Rect(0,0,0,0)},draw:function(){},drawSelectionOutline:function(){}};f.rs.prototype=$.extend(!0,new f.SelectionModel,f.rs.prototype);f.pa=function(b,c,a){f.SelectionModel.call(this,0,c,a);a=f.ControlHandle.handleWidth;var d=f.ControlHandle.handleHeight;
(this.vx=c)?(this.Kc=[new f.Me(a,d,f.pa.oc.left,f.pa.Fc.top),new f.Me(a,d,f.pa.oc.left,f.pa.Fc.lv),new f.Me(a,d,f.pa.oc.left,f.pa.Fc.bottom),new f.Me(a,d,f.pa.oc.St,f.pa.Fc.top),new f.Me(a,d,f.pa.oc.St,f.pa.Fc.bottom),new f.Me(a,d,f.pa.oc.right,f.pa.Fc.top),new f.Me(a,d,f.pa.oc.right,f.pa.Fc.lv),new f.Me(a,d,f.pa.oc.right,f.pa.Fc.bottom)],b.MaintainAspectRatio&&(this.Kc.splice(3,2),this.Kc.splice(1,1),this.Kc.splice(-2,1))):this.Kc=[]};f.pa.oc={left:1,St:2,right:4};f.pa.Fc={top:16,lv:32,bottom:64};
f.pa.prototype={testSelection:function(b,c,a,d){return this.Jx?f.Vb.Vk(b,c,a):f.Vb.kq(b,c,a,d)},getDimensions:function(b){return new f.Rect(b.X,b.Y,b.X+b.Width,b.Y+b.Height)}};f.pa.prototype=$.extend(!0,new f.SelectionModel,f.pa.prototype);f.wm=function(b,c,a){f.SelectionModel.call(this,0,c,a);if(c)for(b=b.getPath(),c=0;c<b.length;c++)a=b[c],this.Kc.push(new f.Kg(a.x,a.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,c))};f.wm.prototype={testSelection:function(b,c,a,d){return this.Jx?f.Vb.Vk(b,
c,a):f.Vb.kq(b,c,a,d)},draw:function(b,c,a){f.SelectionModel.prototype.draw.call(this,b,c,a)}};f.wm.prototype=$.extend(!0,new f.SelectionModel,f.wm.prototype);f.ax=function(b,c,a){f.SelectionModel.call(this,0,c,a);if(c)for(b=b.getPath(),c=0;c<b.length-1;c++)a=b[c],this.Kc.push(new f.us(a.x,a.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,c))};f.ax.prototype=$.extend(!0,new f.SelectionModel,f.ax.prototype);f.pp=function(b,c,a){f.SelectionModel.call(this,0,c,a);this.Kc=c?[new f.um(b.Start.x,
b.Start.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,0),new f.um(b.End.x,b.End.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,1)]:[]};f.pp.prototype={testSelection:function(b,c,a,d){return f.Vb.kq(b,c,a,d)},drawSelectionOutline:function(b,c,a,d){"undefined"===typeof a&&(a=1);b.lineWidth=f.SelectionModel.selectionOutlineThickness/a;var g=Math.atan((c.End.y-c.Start.y)/(c.End.x-c.Start.x)),l=Math.max(.5*c.yj(d),1)*Math.sin(g);d=Math.max(.5*c.yj(d),1)*Math.cos(g);this.Ld()?b.strokeStyle=
f.SelectionModel.defaultSelectionOutlineColor.toString():b.strokeStyle=f.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();b.beginPath();b.moveTo(c.Start.x+l,c.Start.y-d);b.lineTo(c.End.x+l,c.End.y-d);b.stroke();b.beginPath();b.moveTo(c.Start.x-l,c.Start.y+d);b.lineTo(c.End.x-l,c.End.y+d);b.stroke();"undefined"!==typeof b.setLineDash||"undefined"!==typeof b.mozDash?(a=f.SelectionModel.selectionOutlineDashSize/a,a=[a,a],b.setLineDash?b.setLineDash(a):b.mozDash=a):b.lineWidth/=2;b.strokeStyle=
"rgb(255, 255, 255)";b.beginPath();b.moveTo(c.Start.x+l,c.Start.y-d);b.lineTo(c.End.x+l,c.End.y-d);b.stroke();b.beginPath();b.moveTo(c.Start.x-l,c.Start.y+d);b.lineTo(c.End.x-l,c.End.y+d);b.stroke()}};f.pp.prototype=$.extend(!0,new f.pa,f.pp.prototype);f.np=function(b,c,a){f.pa.apply(this,arguments)};f.np.prototype={getDimensions:function(b){return f.SelectionModel.prototype.getDimensions.apply(this,arguments)},testSelection:function(b,c,a){return f.Vb.Vk(b,c,a)}};f.np.prototype=$.extend(!0,new f.pa,
f.np.prototype);f.es=function(b,c,a){f.SelectionModel.call(this,0,c,a);if(c)for(b=b.getPath(),c=0;c<b.length;c++)c!==b.length-3&&(a=b[c],this.Kc.push(new f.ds(a.x,a.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,c)))};f.es.prototype={testSelection:function(b,c,a,d){if(this.Jx)return f.Vb.Vk(b,c,a);var g=b.getPath().slice(-2),l=g[0],g=g[1];return c<l.x||c>g.x||a<l.y||a>g.y?f.Vb.kq(b,c,a,d):!0}};f.es.prototype=$.extend(!0,new f.SelectionModel,f.es.prototype);f.Ui=function(b,c,a,d,g){f.SelectionModel.call(this,
0,c,a);this.vx=c;if(a=b.ce())_.isUndefined(d)&&(d=!0),_.isUndefined(g)&&(g=!0),this.Kc=[],c&&!b.NoResize&&(b=a[0],c=a[a.length-1],b&&(this.Kc=[],d&&this.Kc.push(new f.xk(b.x1,b.y3,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,!1)),g&&this.Kc.push(new f.xk(c.x3,c.y1,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,!0))))};f.Ui.prototype={testSelection:function(b,c,a){return f.Vb.PB(b,c,a)},getDimensions:function(b){var c=b.X-2,a=b.Y-2;return new f.Rect(c,a,c+(b.Width+4),a+(b.Height+
4))}};f.Ui.prototype=$.extend(!0,new f.SelectionModel,f.Ui.prototype);f.vs=function(b,c,a){var d=b.IsText?f.Ui:f.pa;d.apply(this,[b,c,a]);return $.extend(!0,this,d.prototype,f.vs.prototype)};f.vs.prototype={testSelection:function(b,c,a,d){return b.IsText?f.Vb.PB(b,c,a):f.Vb.Vk(b,c,a,d)}};f.Ap=function(b,c,a){f.SelectionModel.call(this,0,c,a)};f.Ap.prototype={testSelection:function(b,c,a,d,g){d=b.NoZoom?g:1;b=new f.Rect(b.Ln(),b.Un(),b.Ln()+b.SIZE/d,b.Un()+b.SIZE/d);return c>=b.x1&&c<=b.x2&&a>=b.y1&&
a<=b.y2},getDimensions:function(b){return new f.Rect(b.X,b.Y,b.X+b.SIZE,b.Y+b.SIZE)}};f.Ap.prototype=$.extend(!0,new f.SelectionModel,f.Ap.prototype);f.Vb={Vk:function(b,c,a){b=b.Qc();return c>=b.x1&&c<=b.x2&&a>=b.y1&&a<=b.y2},kq:function(b,c,a,d){var g;f.Vb.fH?g=f.Vb.fH:(g=document.createElement("canvas"),f.Vb.fH=g);var l=g.getContext("2d");g.width=4;g.height=4;l.setTransform(1,0,0,1,-(c-b.Yn()),-(a-b.Zn()));c=b.StrokeThickness;b.Zi=c+f.Vb.canvasVisibilityPadding;l.translate(-1*b.Yn(),-1*b.Zn());
b.draw(l,d);d=1<l.getImageData(0,0,1,1).data[3];l.setTransform(1,0,0,1,0,0);l.clearRect(0,0,2,2);b.Zi=c;return d},PB:function(b,c,a){b=b.Quads;for(var d=0;d<b.length;d++){var g=b[d],f=Math.min(g.y1,g.y2,g.y3,g.y4),h=Math.max(g.y1,g.y2,g.y3,g.y4),k=Math.max(g.x1,g.x2,g.x3,g.x4);if(c>=Math.min(g.x1,g.x2,g.x3,g.x4)&&c<=k&&a>=f&&a<=h)return!0}return!1}};f.Vb.canvasVisibilityPadding=5})(window);
(function(b){function f(a){return JSON.parse(JSON.stringify(a))}function e(){return"url("+b.o.pl()+"dragginghand.cur), url("+b.o.pl()+"dragginghand.png), pointer"}function c(){return"url("+b.o.pl()+"hand.cur), url("+b.o.pl()+"hand.png), pointer"}function a(a,d){l!==d&&(a.Rc().css("cursor",d),l=d)}var d=XODText,g="../core/assets/";b.o.cV=function(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");g=a};b.o.pl=function(){return g};var l;b.ca=function(){};var h=b.ca;h.eX={};h.Tool=function(a){this.Eb=this.Rd=null;
this.u=this.docViewer=a;this.pageCoordinates=[]};h.Tool.ENABLE_TEXT_SELECTION=!0;h.Tool.ENABLE_AUTO_SWITCH=!0;h.Tool.ENABLE_ANNOTATION_HOVER_CURSORS=!0;h.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE=!1;h.Tool.prototype={ig:function(a){var d={},c=this.u.Ob(),b=c.scrollLeft()||0,c=c.scrollTop()||0;a.originalEvent&&a.originalEvent.touches?(a=0===a.originalEvent.touches.length?a.originalEvent.changedTouches[0]:a.originalEvent.touches[0],d.x=b+a.clientX,d.y=c+a.clientY):(d.x=b+a.pageX,d.y=c+a.pageY);return d},mouseLeftDown:function(d){var c=
this.ig(d),b=this.u.da;this.Rd=c;this.Eb={x:c.x,y:c.y};this.pageCoordinates[0]=this.be(this.Rd);this.pageCoordinates[1]=this.pageCoordinates[0];d.data={mouseCoordinate:{x:c.x,y:c.y},pageCoordinate:this.pageCoordinates[0]};(d=b.hl(d))&&(d instanceof Annotations.wb?a(this.u,this.cursor):a(this.u,"move"))},mouseLeftUp:function(a){var d=this.ig(a);this.Eb=d;this.pageCoordinates[1]=this.be(this.Eb);a.data={mouseCoordinate:{x:d.x,y:d.y},pageCoordinate:this.pageCoordinates[1]}},mouseMove:function(a){var d=
this.ig(a),c=this.u.da;this.Eb=d;var b=this.be(this.Eb);b&&(this.iK(c,b),this.hK(c,a),this.cW(c,b));if(null!==this.Rd){c=this.be(this.Rd);if(null===c)return;var e=c.pageIndex,c=this.u.ud(e),b=this.u.sd(e),e=this.be(this.Eb,e);h.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE||(0>e.x&&(e.x=0),0>e.y&&(e.y=0),e.x>c&&(e.x=c),e.y>b&&(e.y=b));this.pageCoordinates[1]=e}else this.pageCoordinates[1]=this.be(this.Eb);a.data={mouseCoordinate:{x:d.x,y:d.y},pageCoordinate:this.pageCoordinates[1]}},iK:function(d,c){var b=!h.Tool.ENABLE_TEXT_SELECTION||
!h.Tool.ENABLE_AUTO_SWITCH,e=this.u.Mu(),e=!(e instanceof h.fk||e instanceof h.Cm||e instanceof h.yp),g=this.xe&&0<Object.keys(this.xe).length;b||this.Tc||e||g||0<d.ee().length||this.u.dJ(c.pageIndex,c,function(d,c){this instanceof h.yp?(this.cursor=0<c.length?"text":"crosshair",a(this.u,this.cursor)):0<c.length?this.u.iw(this.u.Qq("TextSelect")):0===c.length&&this.u.iw(this.u.Qq("AnnotationEdit"))}.bind(this))},hK:function(d,c){if(h.Tool.ENABLE_ANNOTATION_HOVER_CURSORS){var b=d.hl(c);b&&b.Listable?
d.tl(b)?b instanceof Annotations.qe&&!b.IsText?a(this.u,"move"):b instanceof Annotations.wb?a(this.u,this.cursor):a(this.u,"move"):a(this.u,"pointer"):a(this.u,this.cursor)}},cW:function(d,c){if(h.Tool.ENABLE_ANNOTATION_HOVER_CURSORS)for(var b=d.ee(),e=0;e<b.length;e++){var g=b[e],f=(new g.selectionModel(g,d.Ld(g))).Pr(g,this.u.ub(g.PageNumber-1),c.x,c.y);if(!f)break;g=this.u.ye(g.PageNumber);f instanceof Annotations.Me?a(this.u,(f.zg===Annotations.pa.Fc.lv?0===g%2?"ew":"ns":f.Ff===Annotations.pa.oc.St?
0===g%2?"ns":"ew":f.zg===Annotations.pa.Fc.top?f.Ff===Annotations.pa.oc.right?0===g%2?"nesw":"nwse":0===g%2?"nwse":"nesw":f.Ff===Annotations.pa.oc.right?0===g%2?"nwse":"nesw":0===g%2?"nesw":"nwse")+"-resize"):f instanceof Annotations.xk?0===g%2?a(this.u,"ew-resize"):a(this.u,"ns-resize"):a(this.u,"default")}},mouseDoubleClick:function(a){var d=this.ig(a);this.Rd={x:d.x,y:d.y};this.Eb={x:d.x,y:d.y};var d=this.u.da,c=this.be(this.Eb);c&&(this.an=c.x,this.bn=c.y,(a=d.hl(a))&&!a.hi()&&a.Al()&&d.trigger("annotationDoubleClicked",
a))},mouseLeave:function(){},tap:function(){},keyDown:function(){},contextMenu:function(){},switchIn:function(){},switchOut:function(){a(this.u,"default");this.u.da.Od()},ah:function(){return this.u},be:function(a,d){var c=this.docViewer.ll().Ku(a,a);if("undefined"===typeof d){if(c=null===c.first?c.last:c.first,null===c)return null}else c=d;c=this.docViewer.ll().ak(a,c);return{pageIndex:c.pageIndex,x:c.x,y:c.y}},cc:function(a){var d=this.defaults;if(a=a(d))this.defaults=Object.assign({},d,a),this.u.trigger("toolUpdated",
[this])},LU:function(a){this.name=a;this.u.trigger("toolUpdated",[this])}};var k=h.Tool;h.AnnotationSelectTool=function(a){k.call(this,a);this.bn=this.an=0;this.gj={x:0,y:0};this.qj=this.wc=null;this.state=h.AnnotationSelectTool.Sb.NONE;this.wf=NaN;this.Tc=!1;this.cursor="default";this.overrideSelection=!1};h.AnnotationSelectTool.Sb={NONE:0,Qw:1,vC:2,ns:3,Pw:4};h.AnnotationSelectTool.PAGE_PADDING=new Annotations.Rect(2,2,2,2);h.AnnotationSelectTool.prototype=$.extend(new k,{mouseLeftDown:function(a){k.prototype.mouseLeftDown.call(this,
a);if(this.overrideSelection)this.state=h.AnnotationSelectTool.Sb.NONE;else{this.Tc=!0;this.state=h.AnnotationSelectTool.Sb.NONE;var d=this.u.da,c=this.be(this.Eb);if(c){this.wf=c.pageIndex;this.an=c.x;this.bn=c.y;this.gj.x=this.an;this.gj.y=this.bn;for(var b=d.ee(),e=0;e<b.length;e++){var g=b[e];if("undefined"!==typeof g.selectionModel){var f=(new g.selectionModel(g,d.Ld(g))).Pr(g,this.u.ub(g.Lb()),c.x,c.y);if(f){this.wc=g;this.qj=f;!this.wc.NoResize&&d.Ld(this.wc)?this.state=h.AnnotationSelectTool.Sb.Pw:
(this.state=h.AnnotationSelectTool.Sb.NONE,d.Od());return}}else if(console.warn("no selection model for annotation"),this.qj=d.mG(this.wf,c)){this.wc=this.qj.pN;!this.wc.NoResize&&d.Ld(this.wc)?this.state=h.AnnotationSelectTool.Sb.vC:(this.state=h.AnnotationSelectTool.Sb.NONE,d.Od());return}}if(0<d.ee().length&&(c=d.cG(a),0<c.length)){this.wc=null;for(b=0;b<c.length;++b)if(d.tl(c[b])){this.wc=c[b];break}this.wc||(this.wc=c[0]);c=d.tl(this.wc);!this.wc.NoMove&&d.Ld(this.wc)&&c?this.state=h.AnnotationSelectTool.Sb.Qw:
a.ctrlKey?this.state=h.AnnotationSelectTool.Sb.ns:(this.state=h.AnnotationSelectTool.Sb.NONE,d.Od());return}}d.Od()}},mouseMove:function(d){k.prototype.mouseMove.call(this,d);!this.Tc||!this.isSelecting()&&(this instanceof h.tp||this instanceof h.fk)||document.activeElement instanceof HTMLTextAreaElement||document.activeElement instanceof HTMLInputElement||d.preventDefault();if(!this.overrideSelection&&this.state!==h.AnnotationSelectTool.Sb.NONE){d=this.u.da;var c=this.pageCoordinates[1];if(c&&this.wf===
c.pageIndex){var b=c.x-this.gj.x,e=c.y-this.gj.y;if(this.state===h.AnnotationSelectTool.Sb.Qw&&this.wc){a(this.u,"move");var g=d.ee(),f,l,m,B,z,y,w,E=!1;for(f=0;f<g.length;f++)m=g[f],d.Ld(m)&&!m.NoMove&&(l=m.Qc(),E?(l.x1<B&&(B=l.x1),l.y1<z&&(z=l.y1),l.x2>y&&(y=l.x2),l.y2>w&&(w=l.y2)):(B=l.x1,z=l.y1,y=l.x2,w=l.y2,E=!0));l=this.u.ud(this.wf);m=this.u.sd(this.wf);f=new Annotations.Rect;this.u.ub(this.wc.Lb());f.x1=1*h.AnnotationSelectTool.PAGE_PADDING.x1;f.y1=1*h.AnnotationSelectTool.PAGE_PADDING.y1;
f.x2=l-1*h.AnnotationSelectTool.PAGE_PADDING.x2;f.y2=m-1*h.AnnotationSelectTool.PAGE_PADDING.y2;B=Math.max(0+h.AnnotationSelectTool.PAGE_PADDING.x1,B);z=Math.max(0+h.AnnotationSelectTool.PAGE_PADDING.y1,z);y=Math.min(y,l-h.AnnotationSelectTool.PAGE_PADDING.x2);w=Math.min(w,m-h.AnnotationSelectTool.PAGE_PADDING.y2);if(E){B=B+b>=f.x1||h.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE?b:f.x1-B;z=z+e>=f.y1||h.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE?e:f.y1-z;y=y+b<=f.x2||h.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE?b:f.x2-y;w=w+e<=f.y2||h.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE?
e:f.y2-w;b=0<=b?Math.min(B,y):Math.max(B,y);e=0<=e?Math.min(z,w):Math.max(z,w);this.gj.x=c.x;this.gj.y=c.y;c={};for(f=0;f<g.length;f++)if(m=g[f],d.Ld(m)&&!m.NoMove&&(l=m.Qc(),l.x1+=b,l.y1+=e,l.x2+=b,l.y2+=e,0!==b||0!==e))m.resize(l),m.wE=!0,c[m.Mb()]=!0;for(var I in c)this.u.da.Pd(parseInt(I,10))}}else this.state===h.AnnotationSelectTool.Sb.Pw&&this.qj&&this.wc&&(I=this.qj.move(this.wc,b,e,this.be(new Annotations.Point(this.Rd.x,this.Rd.y)),c,this.u),this.gj.x=c.x,this.gj.y=c.y,I&&this.u.da.Tb(this.wc))}}},
mouseLeftUp:function(){if(!this.overrideSelection){this.Tc=!1;var d=this.u.da,c=d.ee();if(this.state===h.AnnotationSelectTool.Sb.Qw){for(var b=[],e=0;e<c.length;e++){var g=c[e];g.wE&&(g.wE=void 0,b.push(g))}0<b.length&&d.trigger("annotationChanged",[b,"modify"])}else this.state===h.AnnotationSelectTool.Sb.vC?(b=this.qj.pN,this.qj&&d.trigger("annotationChanged",[[b],"modify"])):this.state===h.AnnotationSelectTool.Sb.Pw&&this.wc&&d.trigger("annotationChanged",[[this.wc],"modify"]);0<c.length?a(this.u,
"default"):a(this.u,this.cursor);this.state=h.AnnotationSelectTool.Sb.NONE}},kB:function(){this.u.da.eg(this.annotation);this.annotation=null},keyDown:function(a){27===a.which&&void 0!==this.annotation&&null!==this.annotation&&this.kB();46!==a.which&&8!==a.which||b.utils.isEditableElement($(a.target))||(a=this.u.Bb().ee(),this.u.Bb().Ky(a))},tap:function(a){if(!this.overrideSelection){var d=this.u.Bb(),c=d.hl(a);if(c){var b=d.tl(c);a.originalEvent.ctrlKey||a.originalEvent.metaKey?b?d.rq(c):d.Do(c):
b||(d.Od(),d.Do(c));this.u.Nr("none");a.preventDefault()}}},isSelecting:function(){return this.state!==h.AnnotationSelectTool.Sb.NONE}});h.tp=function(a,d){h.AnnotationSelectTool.call(this,a);this.Vx={x:0,y:0};this.bt=!1;this.cursor=c();this.name=d||"PanTool"};h.tp.prototype=$.extend(new h.AnnotationSelectTool,{switchIn:function(){a(this.u,this.cursor)},mouseLeftDown:function(d){h.AnnotationSelectTool.prototype.mouseLeftDown.call(this,d);this.isSelecting()||(this.Vx=this.ig(d),this.bt=!0,this.cursor=
e(),a(this.u,this.cursor))},mouseLeftUp:function(d){h.AnnotationSelectTool.prototype.mouseLeftUp.call(this,d);this.isSelecting()||(this.cursor=c(),a(this.u,this.cursor),this.bt=!1)},mouseMove:function(d){h.AnnotationSelectTool.prototype.mouseMove.call(this,d);if(!this.isSelecting()&&this.bt){var c=this.u.Ob(),b=this.ig(d);d=this.Vx.x-b.x;b=this.Vx.y-b.y;this.u.scrollTo((c.scrollLeft()||0)+d,(c.scrollTop()||0)+b);a(this.u,e())}},mouseLeave:function(){this.bt=!1;a(this.u,this.cursor)}});h.Wb=function(a){k.call(this,
a);this.Tc=!1;this.cursor="text"};h.Wb.SELECTION_MODE="structural";h.Wb.prototype={switchIn:function(){this.LE(null,this.u.ye());this.u.on("rotationUpdated.textTool",_.bind(this.LE,this))},switchOut:function(a){k.prototype.switchOut.call(this,a);this.u.off("rotationUpdated.textTool")},LE:function(d,c){this.cursor=c===b.o.Ra.Xe||c===b.o.Ra.fg?"vertical-text":"text";a(this.u,this.cursor)},mouseLeftDown:function(a){h.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);this.isSelecting()||(a.altKey&&
(h.Wb.SELECTION_MODE="rectangular"),this.Tc=!0,this.u.oq())},mouseMove:function(a){h.AnnotationSelectTool.prototype.mouseMove.call(this,a);this.isSelecting()||!0!==this.Tc||(1!==a.which&&0!==a.which?this.Tc=!1:(a.data&&(this.pageCoordinates[1]=this.be(a.data.mouseCoordinate)),this.select(this.pageCoordinates[0],this.pageCoordinates[1])))},select:function(a,c){var b=this.u;if(a&&c){var e,g;c.pageIndex>=a.pageIndex?(e=a,g=c):(e=c,g=a);var f=e.pageIndex,l=g.pageIndex;if(null!==f&&null!==l){var k=new d.Na,
m=b.v.zc(f);1<=l-f?k.Fa(e.x,e.y,m.width,m.height):k.Fa(e.x,e.y,g.x,g.y);this.u.io="rectangular"===h.Wb.SELECTION_MODE?(new XODText.Ti(this.u.getDocument())).eJ:(new XODText.Ti(this.u.getDocument())).cJ;this.u.wi=[[f,k]];this.u.Eo(f,k,_.bind(this.textSelected,this));for(e=f+1;e<l;e++)this.u.wi.unshift([e,k]),m=b.v.zc(e),k=new d.Na,k.Fa(0,0,m.width,m.height),b.Eo(e,k,_.bind(this.textSelected,this));f!==l&&(k=new d.Na,k.Fa(0,0,g.x,g.y),this.u.wi.unshift([l,k]),b.Eo(l,k,_.bind(this.textSelected,this)))}}},
textSelected:function(){},mouseLeftUp:function(a){h.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||(a.altKey&&"rectangular"===h.Wb.SELECTION_MODE&&(h.Wb.SELECTION_MODE="structural"),this.Tc=!1)}};h.Wb.prototype=$.extend(new h.AnnotationSelectTool,h.Wb.prototype);h.Cm=function(a,d){h.Wb.call(this,a);this.xe={};this.nD=this.fE=this.Km=null;this.name=d||"TextSelectTool"};h.Cm.prototype=$.extend(new h.Wb,{select:function(){this.u.RE();this.xe={};h.Wb.prototype.select.apply(this,
arguments)},mouseLeftDown:function(a){this.Km=null;var d=this.be(this.ig(a));if(d){var c=d.pageIndex,b=this.AM(c),e=this;b.ce=function(){return e.xe[c]};var g=!1,f=!1,l=this.Ex();0<l.length&&(c===l[0]&&(g=!0),c===l[l.length-1]&&(f=!0));if(d=(new Annotations.Ui(b,!0,!1,g,f)).Pr(b,this.u.ub(c),d.x,d.y))this.Km=d,this.Km.wl?this.fE=this.CM():this.nD=this.BM()}this.Km||(h.Wb.prototype.mouseLeftDown.apply(this,arguments),this.xe={});this.Tc=!0},mouseMove:function(a){a.preventDefault();if(this.Tc&&this.Km){var d=
this.be(this.ig(a));if(d){var c;this.Km.wl?c=this.fE:(c=d,d=this.nD);this.xe={};this.select(c,d)}}else h.Wb.prototype.mouseMove.apply(this,arguments)},mouseLeftUp:function(){h.Wb.prototype.mouseLeftUp.apply(this,arguments);0<Object.keys(this.xe).length?(a(this.u,"default"),this.Xx()):0===this.u.Bb().ee().length&&a(this.u,this.cursor)},textSelected:function(d,c,b){this.u.Hv(d,c,b);0<c.length&&(a(this.u,"default"),this.xe[d]=c.map(function(a){return a.fh()}));this.Tc||this.Xx()},mouseDoubleClick:function(){var a=
this.pageCoordinates[0];if(a){var d=this;this.u.dJ(a.pageIndex,a,function(){d.textSelected.apply(d,arguments);d.Xx()})}},oq:function(){this.xe={}},Xx:function(){var a=this.wD();a.quad&&this.trigger("selectionComplete",[a,this.xe])},Ex:function(){return Object.keys(this.xe).map(function(a){return parseInt(a,10)}).sort(function(a,d){return a-d})},wD:function(){var a=this.Ex()[0],d=this.xe[a];return{quad:d?d[0]:null,pageIndex:a}},CM:function(){var a=this.wD(),d=a.quad;return{x:d.x1,y:(d.y1+d.y3)/2,pageIndex:a.pageIndex}},
BM:function(){var a=this.Ex(),a=a[a.length-1],d=this.xe[a],d=d[d.length-1];return{x:d.x3,y:(d.y1+d.y3)/2,pageIndex:a}},AM:function(a){var d=Infinity,c=Infinity,b=0,e=0;if(a=this.xe[a])for(var g=0;g<a.length;++g)var f=a[g],d=Math.min(d,f.x1,f.x2,f.x3,f.x4),c=Math.min(c,f.y1,f.y2,f.y3,f.y4),b=Math.max(b,f.x1,f.x2,f.x3,f.x4),e=Math.max(e,f.y1,f.y2,f.y3,f.y4);return{X:d,Y:c,Width:b-d,Height:e-c}}},b.utils.eventHandler);h.gb=function(a,d,c){h.AnnotationSelectTool.call(this,a);this.annotation=null;this.gy=
d;this.iO=c;this.cursor="crosshair";this.defaults={StrokeColor:new Annotations.Color(0,0,0),FillColor:new Annotations.Color(0,0,0,0),StrokeThickness:1,Opacity:1}};h.gb.prototype=$.extend(new h.AnnotationSelectTool,{switchIn:function(){a(this.u,this.cursor);this.u.ke({annotMode:!0})},switchOut:function(a){null!==this.annotation&&void 0!==this.annotation&&(this.nq&&this.nq(),this.u.da.eg(this.annotation),this.annotation=null);h.AnnotationSelectTool.prototype.switchOut.call(this,a);this.u.ke({annotMode:!1})},
mouseLeftDown:function(a){h.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);if(!this.isSelecting()&&!this.annotation&&(a=this.pageCoordinates[0])){var d=this.u.da;this.annotation=new this.gy(this.iO);this.annotation.X=a.x;this.annotation.Y=a.y;this.annotation.PageNumber=a.pageIndex+1;this.annotation.Author=d.jl();null!==this.annotation.StrokeColor&&(a=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(a.R,a.G,a.B,a.A));null!==this.annotation.StrokeThickness&&(this.annotation.StrokeThickness=
this.defaults.StrokeThickness);null!==this.annotation.FillColor&&(a=this.defaults.FillColor,this.annotation.FillColor=new Annotations.Color(a.R,a.G,a.B,a.A));this.annotation.Opacity=this.defaults.Opacity;this.annotation.ToolName=this.name;this.trigger("annotationCreated",[this.annotation])}},mouseLeftUp:function(a){h.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||this.finish()},mouseMove:function(a){h.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&
this.annotation&&"undefined"!==typeof this.pageCoordinates){a=this.pageCoordinates[0];var d=this.pageCoordinates[1];null!==d&&null!==a&&a.pageIndex===d.pageIndex&&(a=new Annotations.Rect(a.x,a.y,d.x,d.y),a.normalize(),this.annotation.ug(a),this.u.da.Tb(this.annotation))}},finish:function(){if(this.annotation){var a=this.annotation.Ba(),d=this.annotation.xa(),c=2*(this.annotation.getRectPadding()+1);a<=c&&d<=c?this.u.da.eg(this.annotation):(this.u.da.Tg(this.annotation),this.trigger("annotationAdded",
[this.annotation]));this.annotation=null}}},b.utils.eventHandler);new h.gb;h.fk=function(a,d){h.AnnotationSelectTool.call(this,a);this.Mj=null;this.name=d||"AnnotationEditTool"};h.fk.prototype=$.extend(new h.AnnotationSelectTool,{switchIn:function(){a(this.u,"default");this.u.Nr("auto")},switchOut:function(a){k.prototype.switchOut.call(this,a);this.u.Nr("none")},ZA:function(a){this.pointerType=a.originalEvent.pointerType},mouseLeftDown:function(a){h.AnnotationSelectTool.prototype.mouseLeftDown.call(this,
a);if(!this.isSelecting()){this.Tc=!0;this.state=h.AnnotationSelectTool.Sb.NONE;var d=this.u.da,c=this.be(this.Eb);!c||(a.originalEvent.touches||this.pointerType&&"mouse"!==this.pointerType)&&this.u.ll().lc().mode!==b.o.Dd.Rf||(this.wf=c.pageIndex,d.Od(),this.state=h.AnnotationSelectTool.Sb.ns)}},mouseMove:function(a){h.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(this.state===h.AnnotationSelectTool.Sb.ns&&(a=this.pageCoordinates[1])&&this.wf===a.pageIndex){var d=a.x,c=a.y;a=0>d-this.an?
d:this.an;var e=0>c-this.bn?c:this.bn,d=Math.abs(d-this.an),c=Math.abs(c-this.bn),g=$("#annoteditselectrect");0===g.length&&(g=$("<div id='annoteditselectrect' class='ui-selectable-helper'></div>").appendTo(this.u.Rc()));var f=this.Eb.x-this.Rd.x,l=this.Eb.y-this.Rd.y,k=this.u.Ob(),m=k.scrollLeft()||0,k=k.scrollTop()||0,z=this.Rd.x-m,y=this.Rd.y-k,w=this.Eb.x-m,E=this.Eb.y-k,I=this.u.ud(this.wf),D=this.u.sd(this.wf),y=Math.min(E,y),z=Math.min(w,z),w=this.docViewer.ll().Jf({x:0,y:0},this.wf),H=this.docViewer.ll().Jf({x:I,
y:D},this.wf),I=Math.min(w.x,H.x),D=Math.min(w.y,H.y),E=Math.max(w.x,H.x),w=Math.max(w.y,H.y),I=I-m,D=D-k;D>y&&(l+=D-y,y=D);I>z&&(f+=I-z,z=I);f=b.Yd.Math.NE(Math.abs(f),0,E-m-z);l=b.Yd.Math.NE(Math.abs(l),0,w-k-y);m="inline";if(5>f||5>l)m="none";g.css({width:f,height:l,top:y,left:z,"z-index":"44",position:"absolute",border:"1px dotted black",display:m});this.Mj=b.Yd.OH(a,e,d,c)}},mouseLeftUp:function(a){if(this.state!==h.AnnotationSelectTool.Sb.ns)h.AnnotationSelectTool.prototype.mouseLeftUp.call(this,
a);else{var d=this;this.Tc=!1;var c=function(){d.Mj=null;d.state=h.AnnotationSelectTool.Sb.NONE;$("#annoteditselectrect").css("display","none")};if(!this.Mj||!this.u.wq){c();return}if(this.Mj.x1===this.Mj.x2&&this.Mj.y1===this.Mj.y2)h.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);else{var b=this.yM(this.wf,this.Mj);this.u.Bb().rB(b)}c()}if(c=this.pageCoordinates[1])b=this.u.da,this.iK(b,c),this.hK(b,a)},yM:function(a,d){for(var c,e=[],g=this.u.Bb().$d.filter(function(d){return d.Lb()===
a&&d.Al()}),f=0;f<g.length;f++){c=g[f];var h=1;!0===c.NoZoom&&(h=this.u.ub(c.Lb()));b.Yd.CT(d,b.Yd.OH(c.Ln(),c.Un(),c.Ba()/h,c.xa()/h))&&e.push(c)}return e}});h.Ah=function(a,d){h.gb.call(this,a,b.Annotations.md);delete this.defaults.FillColor;this.name=d||"LineCreateTool"};h.Ah.prototype=$.extend(new h.gb,{mouseLeftDown:function(a){h.gb.prototype.mouseLeftDown.call(this,a);this.isSelecting()||this.annotation&&(this.annotation.Start={x:this.pageCoordinates[0].x,y:this.pageCoordinates[0].y})},mouseMove:function(a){h.AnnotationSelectTool.prototype.mouseMove.call(this,
a);if(!this.isSelecting()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){a=this.pageCoordinates[0];var d=this.pageCoordinates[1];null!==d&&null!==a&&a.pageIndex===d.pageIndex&&(this.annotation.End={x:d.x,y:d.y},this.annotation.adjustRect(),this.u.da.Tb(this.annotation))}}});h.Jw=function(a,d){h.Ah.call(this,a);this.name=d||"ArrowCreateTool"};h.Jw.prototype=$.extend(new h.Ah,{mouseLeftDown:function(a){h.Ah.prototype.mouseLeftDown.call(this,a);this.annotation&&this.annotation.Io("OpenArrow")}});
h.bx=function(a,d){h.gb.call(this,a,b.Annotations.qk);this.name=d||"RectangleCreateTool"};h.bx.prototype=new h.gb;h.Tw=function(a,d){h.gb.call(this,a,b.Annotations.lm);this.name=d||"EllipseCreateTool"};h.Tw.prototype=new h.gb;h.FreeHandCreateTool=function(a,d){h.gb.call(this,a,b.Annotations.FreeHandAnnotation);this.Bc=0;this.Yt=null;this.Tc=!1;this.pointerType=null;delete this.defaults.FillColor;this.name=d||"FreeHandCreateTool"};h.FreeHandCreateTool.prototype=$.extend(new h.gb,{createDelay:1500,
simplifyPen:!1,mouseLeftDown:function(a){h.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);if(!this.isSelecting()&&this.pageCoordinates[0]){this.Tc=!0;if(this.annotation)if(this.pageCoordinates[0].pageIndex===this.annotation.PageNumber-1){var d=this.pageCoordinates[0].x,c=this.pageCoordinates[0].y,b=!1,e=this.annotation.getPath(this.Bc);e&&0<e.length&&(e=e[e.length-1],e.x===d&&e.y===c&&(b=!0));b||this.annotation.hc(d,c,this.Bc)}else{var g=this;this.complete().then(function(){h.FreeHandCreateTool.prototype.mouseLeftDown.call(g,
a)})}else h.gb.prototype.mouseLeftDown.call(this,a);clearTimeout(this.Yt)}},complete:function(){var a=this;if(this.annotation&&0<this.annotation.Dj().length)return this.u.da.Tb(this.annotation).then(function(){a.annotation.finish();h.gb.prototype.mouseLeftUp.call(a,null);a.XD()});this.annotation=null;return Promise.resolve()},mv:function(){this.complete()},switchOut:function(a){var d=this;this.complete().then(function(){h.gb.prototype.switchOut.call(d,a)})},mouseLeftUp:function(){h.AnnotationSelectTool.prototype.mouseLeftUp.apply(this,
arguments);if(!this.isSelecting()&&(this.Tc=!1,this.annotation)){var a=this.u.da,d=this.annotation.getPath(this.Bc);if(d){if(4>d.length)this.annotation.Dj().pop(),this.annotation.adjustRect(),a.Tb(this.annotation);else{if("pen"!==this.pointerType||this.simplifyPen)this.annotation.AV(.75),a.Tb(this.annotation);this.Bc++}this.Yt=setTimeout(_.bind(this.complete,this),this.createDelay)}0===this.annotation.Dj().length&&(this.complete(),clearTimeout(this.Yt))}},mouseMove:function(a){h.AnnotationSelectTool.prototype.mouseMove.call(this,
a);!this.isSelecting()&&!1!==this.Tc&&this.annotation&&null!==this.pageCoordinates&&null!==this.pageCoordinates[1]&&this.pageCoordinates[0].pageIndex===this.pageCoordinates[1].pageIndex&&(this.annotation.hc(this.pageCoordinates[1].x,this.pageCoordinates[1].y,this.Bc),this.u.da.Tb(this.annotation))},XD:function(){this.Bc=0;this.Tc=!1;clearTimeout(this.Yt)},kB:function(){this.XD();h.AnnotationSelectTool.prototype.kB.call(this)},contextMenu:function(a){a.preventDefault()},ZA:function(a){this.pointerType=
a.originalEvent.pointerType}});h.SignatureCreateTool=function(a,d){h.Tool.call(this,a);this.Si=100;this.location=null;this.vq=!1;this.zw=this.Bc=0;this.visible=!1;this.Jy=null;this.cursor="crosshair";this.gP=3;var c=this;$(document).on("mouseup",function(){c.vq&&(c.visible=!0);c.qD()});this.defaults={StrokeColor:new Annotations.Color(0,0,0),StrokeThickness:1,Opacity:1};this.name=d||"SignatureCreateTool"};h.SignatureCreateTool.FB=function(a){h.SignatureCreateTool.prototype.Pm=a};h.SignatureCreateTool.prototype=
{switchIn:function(){a(this.u,this.cursor);this.initAnnot()},uD:function(a){var d,c=this.canvas[0].getBoundingClientRect();a.originalEvent&&a.originalEvent.touches&&(a=0===a.originalEvent.touches.length?a.originalEvent.changedTouches[0]:a.originalEvent.touches[0]);d=a.clientX;a=a.clientY;return{x:d-c.left,y:a-c.top}},fD:function(){this.ctx.setTransform(1,0,0,1,0,0);this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)},cO:function(){this.fD();this.freeHandAnnot.hP();this.zw=this.Bc=
0},qD:function(){this.vq&&(this.Bc++,this.visible&&(this.zw++,this.visible=!1));this.vq=!1},Pm:function(){return"Sign Here"},drawBackground:function(){var a=window.utils.getCanvasMultiplier();this.ctx.scale(a,a);this.ctx.save();var d=2/3*this.ctx.canvas.height/a;this.ctx.strokeStyle="#000";this.ctx.lineCap="square";this.ctx.lineWidth=1;this.ctx.beginPath();this.ctx.moveTo(10,d);this.ctx.lineTo(this.ctx.canvas.width/a-10,d);this.ctx.stroke();this.ctx.fillStyle="#000";var c=this.Pm();this.ctx.textAlign=
"center";this.ctx.textBaseline="top";this.ctx.font="15px Verdana,Arial,sans-serif";this.ctx.fillText(c,this.ctx.canvas.width/a/2,d-20);this.ctx.restore()},kD:function(){this.fD();this.drawBackground();this.ctx.save();var a=this.u.Oc(0);this.freeHandAnnot.draw(this.ctx,a);this.ctx.restore()},initAnnot:function(){var a=this.u.Bb();this.freeHandAnnot=new Annotations.FreeHandAnnotation;this.freeHandAnnot.Author=a.jl();this.freeHandAnnot.StrokeColor=this.defaults.StrokeColor;this.freeHandAnnot.StrokeThickness=
this.defaults.StrokeThickness*this.gP;this.freeHandAnnot.Opacity=this.defaults.Opacity;this.freeHandAnnot.Subject=Annotations.ha.Mc("signature");this.freeHandAnnot.ToolName=this.name;this.freeHandAnnot.MaintainAspectRatio=!0},iH:function(a){this.Jy=a=$.extend(!0,[],a)},VM:function(a){this.iH(a);this.trigger("saveDefault",[a])},oR:function(){return this.Jy?!0:!1},$S:function(){this.initAnnot();this.drawBackground()},cN:function(){var a=this.Jy;if(a){for(var a=$.extend(!0,[],a),d=0;d<a.length;++d){for(var c=
0;c<a[d].length;++c)a[d][c]=new Annotations.Point(a[d][c].x,a[d][c].y);this.freeHandAnnot.setPath(a[d],d)}this.zw=a.length;this.rE()}},rE:function(a){if(this.rH())return!1;a&&this.VM(this.freeHandAnnot.Dj());a=this.u.Bb();var d=this.location.pageIndex+1;this.freeHandAnnot.PageNumber=d;this.freeHandAnnot.StrokeThickness=this.defaults.StrokeThickness;d=this.u.ye(d);d!==b.o.Ra.Yh&&this.freeHandAnnot.rotate(d*-Math.PI/2,this.location);var c=this.freeHandAnnot.Width,e=this.freeHandAnnot.Height,g,f;c>e?
(d=this.location.x-this.Si,g=this.location.y-e/c*this.Si,f=this.location.x+this.Si,e=this.location.y+e/c*this.Si):(d=this.location.x-c/e*this.Si,g=this.location.y-this.Si,f=this.location.x+c/e*this.Si,e=this.location.y+this.Si);c=this.u.getDocument().zc(this.location.pageIndex);d=new Annotations.Rect(d,g,f,e);d.pu(new Annotations.Rect(0,0,c.width,c.height));this.freeHandAnnot.resize(d);a.Tg(this.freeHandAnnot);a.Tb(this.freeHandAnnot);this.trigger("annotationAdded",[this.freeHandAnnot]);this.initAnnot();
return!0},rH:function(){return 0===this.zw},hV:function(a){var d=this;this.canvas=a;this.canvas[0].style.touchAction="none";this.ctx=a[0].getContext("2d");this.canvas.on("mousedown touchstart",function(a){if(1===a.which||0===a.which)a=d.uD(a),d.freeHandAnnot.hc(a.x,a.y,d.Bc),d.kD(),d.vq=!0});this.canvas.on("touchmove",function(a){a.preventDefault()});this.canvas.on("mousemove touchmove",_.throttle(function(a){d.vq&&(a=d.uD(a),d.freeHandAnnot.hc(a.x,a.y,d.Bc),d.kD(),d.visible=!0)},20));this.canvas.on("mouseup touchend",
function(){d.qD()})},mouseLeftDown:function(a){a.preventDefault();h.Tool.prototype.mouseLeftDown.apply(this,arguments);this.u.da.Od()},mouseLeftUp:function(a){a.preventDefault();h.Tool.prototype.mouseLeftUp.apply(this,arguments);var d=this.pageCoordinates[1];d&&(this.location=d,this.trigger("locationSelected",d))}};h.SignatureCreateTool.prototype=$.extend(new h.Tool,h.SignatureCreateTool.prototype,b.utils.eventHandler);h.Ec=function(a,d){h.Wb.call(this,a);this.text=this.annotation=null;this.gy=d;
this.defaults={Opacity:1,StrokeColor:new Annotations.Color(255,0,0)}};h.Ec.AUTO_SET_TEXT=!0;h.Ec.prototype=$.extend(new h.Wb,{switchIn:function(a){h.Wb.prototype.switchIn.call(this,a);this.u.ke({annotMode:!0})},switchOut:function(a){h.Wb.prototype.switchOut.call(this,a);this.u.ke({annotMode:!1})},mouseLeftDown:function(a){h.Wb.prototype.mouseLeftDown.call(this,a);this.isSelecting()||this.annotation||!this.pageCoordinates||(a=this.u.da,this.annotation=new this.gy,this.annotation.Author=a.jl(),a=this.defaults.StrokeColor,
this.annotation.StrokeColor=new Annotations.Color(a.R,a.G,a.B,a.A),this.annotation.Opacity=this.defaults.Opacity||1,this.annotation.ToolName=this.name,this.trigger("annotationCreated",[this.annotation]))},textSelected:function(a,d,c){this.annotation&&this.pageCoordinates[0].pageIndex===a&&0<d.length&&(this.annotation.hw(d.map(function(a){return a.fh()})),this.annotation.PageNumber=a+1,this.text=c,!h.Ec.AUTO_SET_TEXT||this.annotation instanceof Annotations.qe||this.annotation.Di(this.text),this.u.da.Tb(this.annotation))},
mouseLeftUp:function(a){h.Wb.prototype.mouseLeftUp.call(this,a);!this.isSelecting()&&this.annotation&&(a=this.u.da,!this.text||1>this.text.length?a.eg(this.annotation):(a.Tg(this.annotation),this.trigger("annotationAdded",[this.annotation])),this.annotation=this.text=null)}},b.utils.eventHandler);h.mx=function(a,d){h.Ec.call(this,a,b.Annotations.Fh);this.defaults.StrokeColor=new Annotations.Color(255,255,0);delete this.defaults.Opacity;this.name=d||"TextHighlightCreateTool"};h.mx.prototype=new h.Ec;
h.yp=function(a,d){h.Ec.call(this,a,b.Annotations.qe);this.name=d||"RedactCreateTool";this.defaults={StrokeColor:new Annotations.Color(255,0,0),FillColor:new Annotations.Color(0,0,0,1),StrokeThickness:1.5,Opacity:1}};h.yp.prototype=$.extend(new h.Ec,{mouseMove:function(a){"text"===this.cursor?h.Ec.prototype.mouseMove.call(this,a):h.gb.prototype.mouseMove.call(this,a)},mouseLeftDown:function(a){"text"===this.cursor?(h.Ec.prototype.mouseLeftDown.call(this,a),this.annotation&&(this.annotation.IsText=
!0)):(h.gb.prototype.mouseLeftDown.call(this,a),this.annotation&&(this.annotation.IsText=!1,this.annotation.NoMove=!1))},finish:h.gb.prototype.finish,mouseLeftUp:function(a){this.annotation&&this.annotation.IsText?h.Ec.prototype.mouseLeftUp.call(this,a):h.gb.prototype.mouseLeftUp.call(this,a)}});h.px=function(a,d){h.Ec.call(this,a,b.Annotations.Fm);this.name=d||"TextUnderlineCreateTool"};h.px.prototype=new h.Ec;h.ox=function(a,d){h.Ec.call(this,a,b.Annotations.Em);this.name=d||"TextStrikeoutCreateTool"};
h.ox.prototype=$.extend(new h.Ec,{mouseLeftUp:function(){h.Ec.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()){var a=this.annotation,d=this.u.da;a&&d.Fj(a)&&d.Tb(a)}}});h.nx=function(a,d){h.Ec.call(this,a,b.Annotations.Dm);this.name=d||"TextSquigglyCreateTool"};h.nx.prototype=new h.Ec;h.jx=function(a,d){k.call(this,a);this.annotation=null;this.defaults={StrokeColor:new Annotations.Color(255,255,0),Opacity:1};this.cursor="crosshair";this.name=d||"StickyCreateTool"};h.jx.prototype=
$.extend(new h.Tool,{switchIn:function(){a(this.u,this.cursor)},mouseLeftUp:function(a){k.prototype.mouseLeftUp.call(this,a);var d=this.pageCoordinates[1];if(d){var c=this.u.da;c.Od();this.annotation=new Annotations.Eh;var b=this.u.ub(d.pageIndex);this.annotation.X=d.x-this.annotation.Ba()/2/b;this.annotation.Y=d.y-this.annotation.xa()/2/b;this.annotation.PageNumber=d.pageIndex+1;this.annotation.Author=c.jl();d=this.defaults.StrokeColor;this.annotation.StrokeColor=new Annotations.Color(d.R,d.G,d.B,
d.A);this.annotation.Opacity=this.defaults.Opacity;this.annotation.ToolName=this.name;this.trigger("annotationCreated",[this.annotation]);c.Tg(this.annotation);this.trigger("annotationAdded",[this.annotation]);c.Tb(this.annotation);this.annotation=null;a.preventDefault()}}},b.utils.eventHandler);h.zp=function(a,d){k.call(this,a);this.annotation=null;this.defaults={Opacity:1};this.cursor="crosshair";this.name=d||"StampCreateTool"};h.zp.ACCEPTED_IMAGE_TYPES=".jpg,.jpeg,.png";h.zp.prototype=$.extend(new h.Tool,
{switchIn:function(){a(this.u,this.cursor)},mouseLeftDown:function(a){if(!this.annotation){k.prototype.mouseLeftDown.call(this,a);this.u.Bb().Od();var d=this.pageCoordinates[0];if(d){var c=this.be(this.Eb).pageIndex,b=document.createElement("input");b.setAttribute("type","file");b.setAttribute("accept",h.zp.ACCEPTED_IMAGE_TYPES);b.setAttribute("display","none");b.onchange=function(){if(b.files&&b.files[0])if("image/png"!==b.files[0].type&&"image/jpeg"!==b.files[0].type)console.warn("Invalid file type. Please choose a png/jpg/jpeg file.");
else{var a=new FileReader;a.onload=function(a){var b=this.u.da;this.annotation=new Annotations.vk;this.annotation.X=d.x;this.annotation.Y=d.y;this.annotation.PageNumber=d.pageIndex+1;this.annotation.Author=b.jl();this.annotation.ImageData=a.target.result;var e=90*this.u.ye(this.annotation.PageNumber);this.annotation.Rotation=e;var g=new Image;g.onload=function(){var a=g.width,d=g.height;if(90===e||270===e)var f=a,a=d,d=f;var h=a/d,f=this.u.ud(c),l=this.u.sd(c),a=Math.min(a,f),d=Math.min(d,l);a/d!==
h&&(d*h<a?a=d*h:d=a/h);this.annotation.Width=a;this.annotation.Height=d;this.annotation.X-=this.annotation.Width/2;this.annotation.Y-=this.annotation.Height/2;a=this.annotation.Qc();a.pu(new Annotations.Rect(0,0,f,l));this.annotation.resize(a);this.annotation.ToolName=this.name;this.annotation.Opacity=this.defaults.Opacity;this.trigger("annotationCreated",[this.annotation]);b.Tg(this.annotation);this.trigger("annotationAdded",[this.annotation]);b.Tb(this.annotation);this.annotation=null}.bind(this);
g.src=a.target.result}.bind(this);a.readAsDataURL(b.files[0]);document.body.removeChild(b)}}.bind(this);document.body.appendChild(b);b.click()}}}},b.utils.eventHandler);h.Ch=function(a,d){h.gb.call(this,a,b.Annotations.xm);this.annotation=null;this.Nl=!1;delete this.defaults.FillColor;this.name=d||"PolylineCreateTool"};h.Ch.prototype=$.extend(new h.gb,{mouseLeftDown:function(a){var d;h.gb.prototype.mouseLeftDown.call(this,a);!this.isSelecting()&&this.annotation&&((d=a.data.pageCoordinate,d&&d.pageIndex===
this.annotation.Lb())?null!==d.x&&null!==d.y&&(0===this.annotation.ma.length?this.annotation.hc(d.x,d.y):this.Nl||(this.annotation.Uj(),this.annotation.hc(d.x,d.y)),this.Nl=!0):this instanceof h.CalloutCreateTool?(this.nq(),this.u.da.eg(this.annotation),this.annotation=null):this.mouseDoubleClick(a))},mouseLeftUp:function(a){h.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a)},mouseMove:function(a){h.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(this.annotation&&!this.isSelecting()&&
a.data&&(a=a.data.pageCoordinate,null!==a&&null!==a.x&&null!==a.y&&a.pageIndex===this.annotation.Lb())){this.Nl||this.annotation.Uj();var d=this.annotation.getPath();0===d.length?(this.annotation.hc(a.x,a.y),this.Nl=!1):0<d.length&&(d[d.length-1].x!==a.x||d[d.length-1].y!==a.y)&&(this.annotation.hc(a.x,a.y),this.Nl=!1);this.annotation.X=this.annotation.Xa.x;this.annotation.Y=this.annotation.Xa.y;this.u.da.Tb(this.annotation)}},mouseDoubleClick:function(){this.annotation&&(this.annotation.finish(),
this.finish())},mv:function(a){this.annotation&&this.mouseDoubleClick(a)},contextMenu:function(a){a.preventDefault()},tap:function(){},nq:function(){for(;0<this.annotation.getPath().length;)this.annotation.Uj()}});h.Lg=function(a,d){h.gb.call(this,a,b.Annotations.Qi);this.annotation=null;this.Nl=!1;this.name=d||"PolygonCreateTool"};h.Lg.prototype={nq:function(){for(;0<this.annotation.getPath().length;)this.annotation.Uj()}};h.Lg.prototype=$.extend(new h.Ch,h.Lg.prototype);h.xp=function(a,d){h.gb.call(this,
a,b.Annotations.Qi);this.annotation=null;this.Nl=!1;this.name=d||"PolygonCloudCreateTool"};h.xp.prototype={mouseLeftDown:function(){h.Lg.prototype.mouseLeftDown.apply(this,arguments);this.annotation&&(this.annotation.Style="cloudy",this.annotation.Intent="PolygonCloud")}};h.xp.prototype=$.extend(new h.Lg,h.xp.prototype);var m={scale:"1 inch = 1 inch",axis:[{factor:.0138889,unit:"in",decimalSymbol:".",thousandsSymbol:",",display:"D",precision:100,unitPrefix:"",unitSuffix:"",unitPosition:"S"}],distance:[{factor:1,
unit:"in",decimalSymbol:".",thousandsSymbol:",",display:"D",precision:100,unitPrefix:"",unitSuffix:"",unitPosition:"S"}],area:[{factor:1,unit:"in",decimalSymbol:".",thousandsSymbol:",",display:"D",precision:100,unitPrefix:"",unitSuffix:"",unitPosition:"S"}]};h.lp=function(a,d){h.Ah.call(this,a);this.name=d||"DistanceMeasurementCreateTool";this.defaults.IT="LineDimension";this.defaults.measure=f(m)};h.lp.prototype=$.extend(new h.Ah,{mouseLeftDown:function(a){h.Ah.prototype.mouseLeftDown.call(this,
a);this.annotation&&(this.annotation.caption="yes",this.annotation["caption-style"]="Top",this.annotation.IT=this.defaults.IT,this.annotation.measure=f(this.defaults.measure),this.annotation.Fi("OpenArrow"),this.annotation.Io("OpenArrow"))},Cc:Annotations.ha.Cc,Uc:Annotations.ha.Uc});h.vp=function(a,d){h.Ch.call(this,a);this.name=d||"PerimeterMeasurementCreateTool";this.defaults.IT="PolyLineDimension";this.defaults.measure=f(m)};h.vp.prototype=$.extend(new h.Ch,{mouseLeftDown:function(a){h.Ch.prototype.mouseLeftDown.call(this,
a);this.annotation&&(this.annotation.measure=f(this.defaults.measure),this.annotation.IT=this.defaults.IT)},Cc:Annotations.ha.Cc,Uc:Annotations.ha.Uc});h.bp=function(a,d){h.Lg.call(this,a);this.name=d||"AreaMeasurementCreateTool";this.defaults.IT="PolygonDimension";this.defaults.measure=f(m)};h.bp.prototype=$.extend(new h.Lg,{mouseLeftDown:function(a){h.Lg.prototype.mouseLeftDown.call(this,a);this.annotation&&(this.annotation.measure=f(this.defaults.measure),this.annotation.IT=this.defaults.IT)},
Cc:Annotations.ha.Cc,Uc:Annotations.ha.Uc});h.CalloutCreateTool=function(a,d){h.gb.call(this,a,b.Annotations.Ja,Annotations.Ja.qc.FreeTextCallout);this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt";this.defaults.Width=150;this.defaults.Height=30;this.name=d||"CalloutCreateTool"};h.CalloutCreateTool.prototype=$.extend(new h.Ch,{lineCount:2,Yq:function(){return this.u.Bb().xz().Tq},mouseLeftDown:function(a){var d=0<this.u.Bb().ee().length;if(this.Yq()||d)this.annotation=
null;else if(h.Ch.prototype.mouseLeftDown.call(this,a),null!==this.annotation&&(this.annotation.CalloutLineCount=this.lineCount,this.annotation.getPath().length>=this.annotation.CalloutLineCount+1)){this.annotation.getPath().length>this.annotation.CalloutLineCount+1&&this.annotation.Uj();var d=this.annotation.getPath()[this.annotation.CalloutLineCount],c=90*this.u.ye(this.annotation.PageNumber),b=this.defaults.Width,e=this.defaults.Height/2,g=this.u.ud(this.annotation.Lb()),f=this.u.sd(this.annotation.Lb());
d.x+b>g&&(d.x-=b);d.y+e>f?d.y-=e:0>d.y-e&&(d.y+=e);90===c||270===c?(this.annotation.hc(d.x-e,d.y),this.annotation.hc(d.x+e,d.y+b)):(this.annotation.hc(d.x,d.y-e),this.annotation.hc(d.x+b,d.y+e));this.annotation.Rotation=c;d=this.defaults.TextColor;this.annotation.TextColor=new Annotations.Color(d.R,d.G,d.B,d.A);this.annotation.FontSize=this.defaults.FontSize;this.u.da.Tb(this.annotation);this.finish();a.preventDefault()}},mouseDoubleClick:function(a){this.annotation||h.Tool.prototype.mouseDoubleClick.call(this,
a)},mv:function(){null!==this.annotation&&(this.nq(),this.u.da.eg(this.annotation),this.annotation=null)},contextMenu:function(a){a.preventDefault()}});h.pm=function(a,d){h.gb.call(this,a,b.Annotations.Ja);this.defaults.StrokeThickness=0;this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt";this.name=d||"FreeTextCreateTool"};h.pm.FB=function(a){h.pm.prototype.Pm=a};h.pm.prototype=$.extend(new h.gb,{initialText:"Insert text here",Pm:function(){return this.initialText},
Yq:function(){return this.u.Bb().xz().Tq},mouseLeftDown:function(a){var d=0<this.u.Bb().ee().length;h.gb.prototype.mouseLeftDown.call(this,a);this.isSelecting()||(this.Yq()||d?this.annotation=null:this.annotation&&(this.annotation.StrokeThickness=Math.max(this.annotation.StrokeThickness,1),this.annotation.FillColor=new Annotations.Color(200,220,250,.2),this.annotation.Jo(Annotations.Ja.qc.FreeText),this.annotation.Di(this.Pm()),this.annotation.Rotation=90*this.u.ye(this.annotation.PageNumber),a=this.defaults.TextColor,
this.annotation.TextColor=new Annotations.Color(a.R,a.G,a.B,a.A),this.annotation.FontSize=this.defaults.FontSize))},mouseMove:function(a){h.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&!this.Yq()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){a=this.pageCoordinates[0];var d=this.pageCoordinates[1];null!==d&&null!==a&&a.pageIndex===d.pageIndex&&(a=new Annotations.Rect(a.x,a.y,d.x,d.y),a.normalize(),this.annotation.ug(a),this.annotation.Lo(new Annotations.Rect(0,
0,0,0)),this.u.da.Tb(this.annotation))}},mouseLeftUp:function(a){h.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);if(!this.isSelecting()){if(this.u.Bb().hl(a)&&this.annotation){a=this.annotation.Ba();var d=this.annotation.xa(),c=2*(this.annotation.getRectPadding()+1);if(a<=c||d<=c){this.annotation=null;return}}if(this.Yq())this.annotation=null;else if(this.annotation){a=this.annotation.Ba();d=this.annotation.xa();c=2*(this.annotation.getRectPadding()+1);if(a<=c||d<=c)d=Number(this.annotation.FontSize.split("pt")[0]),
a=10*d,d*=5,0!==this.annotation.Rotation%180&&(c=a,a=d,d=c),this.annotation.CJ(a),this.annotation.Kr(d);this.annotation.StrokeThickness=this.defaults.StrokeThickness;a=this.defaults.FillColor;this.annotation.FillColor=new Annotations.Color(a.R,a.G,a.B,a.A);a=this.annotation.getRectPadding();this.annotation.Lo(new Annotations.Rect(a,a,a,a));this.u.da.Tb(this.annotation);this.u.da.Tg(this.annotation);this.trigger("annotationAdded",[this.annotation]);this.annotation=null}}}})})(window);
(function(b){function f(a,c){this.tf=a;this.u=c;this.onAnnotationHover=function(c,b){var e=a.hl(b),g=a.Ye().filter(function(a){return a.IsHovering});g.forEach(function(a){a.IsHovering=!1});e&&e.Listable&&e.IsHoverable&&(e.IsHovering=!0,g.push(e));a.$k(g)};this.u.on("mouseMove.hover",this.onAnnotationHover)}function e(a){var c=this;this.tf=a;this.Tq=!1;this.onEditBoxAnnotationChanged=function(a,d,b){for(var e=0;e<d.length;++e){var f=d[e];"add"===b&&c.YG(f)&&c.tf.oy(f)?(c.kH(f),a.imported||(c.VF(f),
f.Ad.select())):"delete"===b&&f.Ad&&(f.Ad.remove(),delete f.Ad)}};this.onEditBoxAnnotationDoubleClicked=function(a,d){c.tf.oy(d)&&c.YG(d)&&(d.Ad||c.kH(d),c.Tq&&d.Ad.val()!==d.Zg()&&c.tf.BB(d,d.Ad.val()),c.VF(d))};this.tf.on("annotationChanged.editbox",this.onEditBoxAnnotationChanged);this.tf.on("annotationDoubleClicked.editbox",this.onEditBoxAnnotationDoubleClicked)}function c(a){this.tf=a;this.Sl=[]}var a=window.o;a.ja=function(a){if(!a)throw Error("AnnotationManager requires DocumentViewer to initialize");
var g=this;g.Zt="";g.qA=!1;g.readOnly=!1;g.vY=!1;g.iE=!0;g.u=a;g.Qg=new c(g);g.NX=new f(g,a);g.mD=new e(g);g.Qk=new b.o.dM(g);g.init();g.Yg=new b.Annotations.O.ik(this);g.xE=function(a){return a.Author};g.YA={get:function(a,d){return this[a]&&this[a][d]},set:function(a,d,c){this[a]=this[a]||{};this[a][d]=c},"delete":function(a,d){delete this[a][d]}};g.hu={get:function(a,d){return this[a]&&this[a][d]},set:function(a,d,c){this[a]=this[a]||{};this[a][d]=c},"delete":function(a,d){delete this[a][d]}};
a.on("contentRemoved.annotManager",function(){g.$d.forEach(function(a){a.trigger("contentRemoved")})});a.on("documentLoaded",function(){g.SO()});g.nY={};g.lj={line:[Annotations.md],circle:[Annotations.lm],square:[Annotations.qk],freetext:[Annotations.Ja],stamp:[Annotations.vk],text:[Annotations.Eh],ink:[Annotations.FreeHandAnnotation],polyline:[Annotations.xm],polygon:[Annotations.Qi],strikeout:[Annotations.Em],highlight:[Annotations.Fh],redact:[Annotations.qe],underline:[Annotations.Fm],squiggly:[Annotations.Dm],
caret:[Annotations.gp],widget:[Annotations.yk,Annotations.Gg,Annotations.Ni,Annotations.Ri,Annotations.xh,Annotations.pk,Annotations.uk],link:[Annotations.nd],custom:[Annotations.ip]};g.controlPointSize=8;g.controlPointHitBoxScale=1;g.on("annotationChanged",function(a,d,c){"add"===c&&d.forEach(function(a){if(a.Listable&&!a.ToolName)switch(a.elementName){case "line":a.ToolName="None"===a.bh()&&"None"===a.Ze()?"AnnotationCreateLine":"AnnotationCreateArrow";break;case "circle":a.ToolName="AnnotationCreateEllipse";
break;case "square":a.ToolName="AnnotationCreateRectangle";break;case "freetext":a.ToolName=a.Zh()===Annotations.Ja.qc.SW?"AnnotationCreateFreeText":"AnnotationCreateCallout";break;case "stamp":a.ToolName="AnnotationCreateStamp";break;case "ink":a.kX===Annotations.ha.Mc("signature")?a.ToolName="AnnotationCreateSignature":a.ToolName="AnnotationCreateFreeHand";break;case "polyline":a.ToolName="AnnotationCreatePolyline";break;case "polygon":a.ToolName="cloudy"===a.jX&&"PolygonCloud"===a.qc?"AnnotationCreatePolygonCloud":
"AnnotationCreatePolygon";break;case "strikeout":a.ToolName="AnnotationCreateTextStrikeout";break;case "highlight":a.ToolName="AnnotationCreateTextHighlight";break;case "underline":a.ToolName="AnnotationCreateTextUnderline";break;case "squiggly":a.ToolName="AnnotationCreateTextSquiggly";break;case "text":a.ToolName="AnnotationCreateSticky";break;case "redact":a.ToolName="AnnotationCreateRedaction"}})});g.on("annotationChanged",function(a,d,c,b){if(!b&&!a.MY&&Annotations.ha.extraSelectorsEnabled&&
d&&0!==d.length&&!(1<d.length)){var e=d[0],f=g.u.getDocument(),p=e.Lb();if(-1!==p&&g.u.io&&0!==g.u.wi.length&&e.Xj())if(g.u.wi[g.u.wi.length-1][0]!==p)g.u.io=null,g.u.wi=[];else{var u=g.u.wi.pop(),q=function(){if(e&&u&&g.u.io){var a=g.u.getDocument();a===f&&g.zj(e.WW)&&(a=new XODText.Ti(a),g.u.io.apply(a,u),e.TextIndices=a.kt,e.SurroundingTexts=a.mt,e.mb(!0),g.trigger("annotationChanged",[[e],"modify",!0]))}};f.kc().then(function(){var a=g.u.getDocument();if(a===f){var d=Annotations.ha.qF(p,a.Db());
a.hr(d).then(q)}})}}})};a.ja.prototype={init:function(){this.$d=[];this.My=[];this.Zp=[];this.au={};this.Qg.Od();this.so=null},SO:function(){this.vn=!1},jl:function(){return this.Zt},yB:function(a){this.Zt=a;this.trigger("updateAnnotationPermission")},mQ:function(){return this.qA},EU:function(a){this.qA=a;this.trigger("updateAnnotationPermission")},IG:function(){return this.readOnly},aV:function(a){this.readOnly=a;this.trigger("updateAnnotationPermission")},mW:function(){return this.iE},LO:function(){this.iE=
!1;this.mD.disable()},ZU:function(a){this.hF=a},HE:function(a){return(this.hF?this.hF(a.Author,a):this.qA||a.Author===this.Zt||null===a.Author||"undefined"===typeof a.Author)&&!this.readOnly&&!a.ReadOnly},Ld:function(a){return this.HE(a)&&!a.Locked},oy:function(a){return this.HE(a)&&!a.LockedContents},jV:function(a){this.TJ=a},nl:function(){return this.Yg},fB:function(a){a=a.map(Number);var c=[];this.$d=this.$d.filter(function(b){return-1!==a.indexOf(b.PageNumber)&&b.pA?(c.push(b),b.vw(),!1):!0});
if(0<c.length){var b=this;setTimeout(function(){b.trigger("annotationChanged",[c,"delete"])},0)}},HT:function(a){var c=this;a.on("layoutChanged",function(a,d){c.fB(d.removed);c.$d.forEach(function(a){var c=d.moved[a.PageNumber];c&&(a.PageNumber=c)})});a.on("pageContentChanged",function(a,d){0<d.length&&c.fB(d)});a.on("pageDiff",function(a,d){var b={};c.$d.forEach(function(a){var d=a.Mb();d in b?b[d].push(a):b[d]=[a]});d.forEach(function(a){var d=a.before;a=a.after;var c=b[a.pageNum];if(c){var e=new XODText.za;
e.rl(a.matrix);e.concat(d.cb.inverse());c.forEach(function(a){var d=a.IsModified,c=a.Qc(),b=c.x1,g=c.y1,f=c.x2,h=c.y2;a.wh(e);d||c.x1!==b||c.x2!==f||c.y1!==g||c.y2!==h||(a.IsModified=d)})}})})},GJ:function(a){return(!(a instanceof Annotations.HTMLAnnotation)||a instanceof Annotations.Ri)&&a.zf()},Pd:function(a,c,e,f){var k=a;_.isObject(a)||(k={pageNumber:a,overrideCanvas:c,majorRedraw:e,overrideContainer:f});a=k.pageNumber;c=k.namespace||"default";k.namespace=c;f=b.o.ya.Bj(a-1);k.ln=f;if(!this.hu.get(f,
c))return this.AS(k);this.YA.set(f,c,{Hf:a,DS:e});return this.hu.get(f,c)},AS:function(a){var c=a.pageNumber,e=a.overrideCanvas,f=a.overrideContainer,k=a.majorRedraw,m=a.namespace,n=a.ln,r=c-1;if(isNaN(r))throw Error("Invalid page index given");var p=this.u.ub(r);a=this.gl(c);var u=!!e,q=e;u||(q=this.u.rn(r))&&this.u.No(r,$(q));if(!q||!this.u.il(r)&&!u)return Promise.resolve();var v=q.getContext("2d"),x=this.u.ye(r+1),A=90*x,B=this.u.Oc(c-1);u||(A=this.u.ml(r+1),this.VN(q,r,A));for(var z=f||b.o.ya.eA(r),
y=Promise.resolve(),w=0;w<this.$d.length;w++){var E=this.$d[w];E.Lb()===r&&(y=y.then(this.xF.bind(this,E,v,B,A,x,a,u,e,k,z)))}this.so&&this.so.PageNumber===c&&(this.Fj(this.so)?this.so=null:y=y.then(this.xF.bind(this,this.so,v,B,A,x,a,u,e,k,z)));var I=this,c=y.then(function(){u||I.u.dH(r,q);I.hu["delete"](n,m);u||p!==I.u.ub(r)||I.u.Mv(r,q);var a=I.YA.get(n,m);if(a)return I.YA["delete"](n,m),I.Pd({pageNumber:a.Hf,overrideCanvas:e,overrideContainer:f,majorRedraw:a.DS,namespace:m})});this.hu.set(n,m,
c);return c},VN:function(a,c,e){var f=this.u.Pn(c);c=f.width;f=f.height;if(90===e||270===e)e=c,c=f,f=e;b.o.ya.mq(a,c,f)},TO:function(a,c,b,e,f,m,n,r,p,u){var q=this;return new Promise(function(v){if(q.u.wq||a.tH())if(r?a.Printable&&a.Al():a.Al()){if(p){var x=r?1:q.u.ub(a.PageNumber-1);a.render(u,q,x,r)}q.UO(n,a,c,b,e,f,m).then(function(){v()})}else r||a.vw(),v();else v()})},UO:function(a,c,b,e,f,m,n){return!this.GJ(c)||c.IsHovering?(c.draw(b,e,f),Promise.resolve()):a.vN[a.cg.indexOf(c)].then(function(a){b.save();
return a.draw(b,n,m,c.zf().offset).then(function(){b.restore()})})["catch"](function(){c.draw(b,e,f)})},xF:function(a,c,b,e,f,m,n,r,p,u){c.save();var q=this.u.ub(a.Lb());this.vV(a,c,n);c.save();var v=this;return a.UI().then(function(){return v.TO(a,c,b,e,f,q,m,n,p,u)}).then(function(){c.restore();n||v.Xy(a,c,b);c.restore()})},vV:function(a,c,b){var e=this.u.ub(a.Lb());!0===a.NoZoom&&(c.translate(a.Yn(),a.Zn()),b||(c.scale(1/e,1/e),b=this.u.de(a.PageNumber),0<b&&(3===b?c.translate(a.Ba(),0):2===b?
c.translate(a.Ba(),a.xa()):1===b&&c.translate(0,a.xa()),c.rotate(-1*b*Math.PI/2))))},Xy:function(a,c,b){if("undefined"!==typeof a.selectionModel){if(this.tl(a)&&a.Al()){var e=new a.selectionModel(a,this.Ld(a)),f=this.u.ub(a.Lb());!0===a.NoZoom&&(c.translate(-a.Yn(),-a.Zn()),f=1);e.draw(c,a,f,b)}}else(a=this.Qg.IY(a))&&a.draw(c)},gl:function(a){var c=this,b=this.Ye().filter(function(b){return b.PageNumber===a&&c.GJ(b)}),e=b.map(function(a){return a.zf()});return{vN:this.u.getDocument().gl(e,a),cg:b}},
Tb:function(a){this.Fj(a)||(this.so=a);return this.Pd(a.PageNumber)},bV:function(d){this.Tb=_.throttle(a.ja.prototype.Tb.bind(this),d)},lS:function(a){this.u.BH(a.Mb()-1,[{x4:a.Ln(),y4:a.Un(),x2:a.LG(),y2:a.fG()}])},yR:function(a){this.cH([a])},cH:function(a){0!==a.length&&(a.forEach(function(a){a.Hidden=!0}),this.Od(),this.$k(a),this.trigger("annotationHidden",[a,!0]))},yV:function(a){this.LJ([a])},LJ:function(a){a.forEach(function(a){a.Hidden=!1});this.$k(a);this.trigger("annotationHidden",[a,!1])},
Fj:function(a){return-1<this.$d.indexOf(a)},BB:function(a,c){a.Di(c);this.trigger("annotationChanged",[[a],"modify"])},Tg:function(a,c){this.Ug([a],c)},Ug:function(a,c){if(a){for(var b=0;b<a.length;++b){var e=a[b];0>=e.PageNumber&&console.warn("Invalid annotation PageNumber: "+e.PageNumber);this.$d.push(e);this.DJ(e)}0<a.length&&(b=$.Event("annotationChanged"),b.imported=c,this.trigger(b,[a,"add"]))}},YV:function(a){this.DJ(a);if(a.hi()){var c=this.Oq(a);this.trigger("setNoteText",[a,c])}else this.trigger("setNoteText",
a)},DJ:function(a){function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}a.Id||(a.Id=c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c());a.tg&&a.tg(this.u);a.Kj()&&a.Gb(a.Cb().value)},EJ:function(a){function c(a,d){return d.DateCreated-a.DateCreated}var b=[],e;for(e=0;e<a.length;++e){var f=a[e];if(f instanceof Annotations.Annotation)if(f.hi()){var m=this.zj(f.InReplyTo);m&&m.cy(f)}else b.push(f)}for(e=0;e<b.length;++e)if(a=b[e],0!==a.Hu().length)for(f=[],f.push({kj:a,Qy:null});0<f.length;){var n=
f.pop(),m=n.kj;null!==n.Qy&&this.trigger("addReply",[m,n.Qy,a]);for(var n=m.Hu().sort(c),r=0;r<n.length;++r)f.push({kj:n[r],Qy:m})}},tV:function(a){if(a.hi()){var c=this.zj(a.InReplyTo);c&&(c.cy(a),this.trigger("addReply",[a,c,this.Oq(a)]))}},Oq:function(a){for(;null!==a&&a.hi();)a=this.zj(a.InReplyTo);return a},lO:function(a,c){var b=new Annotations.Eh;b.InReplyTo=a.Id;b.X=a.X;b.Y=a.Y;b.PageNumber=a.PageNumber;b.Author=this.jl();b.Di(c||"");a.cy(b);this.Tg(b);this.trigger("addReply",[b,a,this.Oq(a)]);
return b},gK:function(a){this.Fj(a)&&this.Pd(a.Mb())},hy:function(a){Annotations.zm.hy(a,this.u)},vA:function(){var d=this.u.getDocument();return a.xl()&&this.az&&d&&"blackbox"!==d.QG()},az:function(a){this.az=a},SR:function(a){var c=!1;a?a instanceof Annotations.qe&&(c=!0):c=!1;return c&&this.vA()},eg:function(a,c,b){this.Ky([a],c,b)},Ky:function(a,c,b){var e=this,f={};if(!c&&this.IG())this.u.trigger("notify","readOnlyDelete");else{var m=[],n=!1;a=a.slice();for(var r=0;r<a.length;r++){var p=a[r];
p.vw();if(this.Fj(p))if(b||c||this.Ld(p)){this.Qg.rq(p);this.trigger("annotationSelected",[[p],"deselected"]);var u=this.$d.splice(this.$d.indexOf(p),1);m.push(u[0]);p.IsAdded||c||this.My.push(u[0]);p.hi()&&(p.ZG&&(u=this.Oq(p),this.trigger("deleteReply",[p,u])),this.zj(p.InReplyTo).DO(p));p.Hu().forEach(function(a){e.trigger("setNoteText",[a]);a.InReplyTo=null;e.EJ([a])});f[p.Mb()]=!0}else n=!0;else f[p.Mb()]=!0}0<m.length&&(b=$.Event("annotationChanged"),b.imported=c,this.trigger(b,[m,"delete"]));
n&&this.u.trigger("notify","permissionDelete");$.each(f,function(a){e.Pd(parseInt(a,10))})}},aW:function(){if(!this.readOnly){this.Zp=[];for(var a=this.ee(),c=0;c<a.length;c++)if(!(a[c]instanceof Annotations.wb)){var b=this.oz(a[c]);this.Zp.push(b)}this.Js=0}},mT:function(){if(!this.readOnly&&"undefined"!==typeof this.Js){this.Js++;for(var a=[],c=0;c<this.Zp.length;c++){var b=this.oz(this.Zp[c]);a.push(b);var e=this.u.Hn(),f=this.u.v.ud(e-1),m=this.u.v.sd(e-1),f=new Annotations.Rect(0,0,f,m),m=b.Qc();
b.Mb()===e?m.translate(5*this.Js,5*this.Js):b.sJ(e);m.pu(f);b.resize(m)}this.Ug(a);this.Zp=a;this.Od();this.rB(a)}},oz:function(a){function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var b=this.NQ(a);if(null===b)return null;var e=a.Lb(),e=this.u.Oc(e),f=e.inverse(),m=document.createElementNS("",a.elementName),m=a.serialize(m,f);a=new b;a.deserialize(m,e,this);a.Id=c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c();a.Author=this.Zt;a.DateCreated=new Date;a.DateModified=new Date;a.IsAdded=
!0;a.IsModified=!1;return a},FP:function(a){return a.TW()},tl:function(a){return this.Qg.yE(a)},Do:function(a){a.Listable&&this.Fj(a)&&(this.Qg.Do(a),this.Pd(a.Mb()),this.trigger("annotationSelected",[[a],"selected"]))},rB:function(a){var c=[],b={};if(a&&$.isArray(a)){for(var e=0;e<a.length;e++){var f=a[e];f.Listable&&this.Fj(f)&&(this.Qg.Do(f),b[f.Mb()]=f.Mb(),c.push(f))}var m=this;$.each(b,function(a){m.Pd(parseInt(a,10))})}0<c.length&&this.trigger("annotationSelected",[c,"selected"])},Od:function(){if(0!==
this.ee().length){this.Qg.Od();for(var a=this.u.fa.Ae(),c=0;c<a.length;c++)this.Pd(a[c]+1);this.trigger("annotationSelected",[null,"deselected"])}},rq:function(a){this.Qg.rq(a);this.Pd(a.Mb());this.trigger("annotationSelected",[[a],"deselected"])},ee:function(){return this.Qg.ee()},Ye:function(){return this.$d},zj:function(a,c){c=c||this.$d;if(_.isUndefined(a)||_.isNull(a))return null;for(var b=0;b<c.length;b++)if(c[b].Id===a)return c[b];return null},bG:function(a,c,b){b=b||this.$d;if(_.isUndefined(a)||
_.isNull(a))return[];for(var e=[],f=0;f<b.length;f++)b[f].Id===a&&e.push(b[f]);return _.isUndefined(c)?e:e.filter(function(a){return a.PageNumber-1===c})},hl:function(a){a=this.cG(a);return 0<a.length?a[0]:null},cG:function(a){if(!this.u.wq)return[];var c=new window.ca.Tool(this.u);a=c.be({x:c.ig(a).x,y:c.ig(a).y});c=[];if(null!==a)for(var b=this.Ye(),e=new Annotations.Rect(a.x,a.y,a.x,a.y),f=b.length-1;0<=f;f--){var m=b[f];if(m.selectionModel&&m.Al()&&m.Mb()-1===a.pageIndex){var n=Annotations.Vb.canvasVisibilityPadding,
r=m.Qc();r.translate(-n,-n);r.x2+=2*n;r.y2+=2*n;if(window.utils.isRectIntersecting(r,e)||m instanceof Annotations.Eh){var n=this.u.ub(m.Lb()),r=this.u.Oc(m.Lb()),p=this.tl(m),u=new m.selectionModel(m,this.Ld(m),p);u.testSelection(m,a.x,a.y,r,n)?c.push(m):p&&u.Pr(m,n,a.x,a.y)&&c.push(m)}}}return c},mG:function(a,c){return this.Qg.mG(a,c)},KF:function(a){this.u.AE||console.warn("exportAnnotations was called before all annotations were loaded.");return this.Qk.SL(a)},uu:function(){return this.Qk.uu()},
QF:function(a){this.EJ(a);this.u.JG().vi("DocumentViewer.renderRequest",{type:"annotations",pages:_.uniq(a.map(function(a){return a.Mb()-1}))})},ER:function(a,c){var e=b.Annotations.ba.Sq(a),e=this.Qk.aL(e,c&&c.pA);this.QF(e);return e},hH:function(a,c,e){c=c||function(){};var f=this;a=b.Annotations.ba.Sq(a);e=$.extend({vl:function(){return f.vn},batchSize:100,batchDelay:0},e);this.Qk.bL(a,function(a){f.vn?c([]):(a=a.cg,f.QF(a),c(a))},e)},eo:function(a){a=b.Annotations.ba.Sq(a);a=this.Qk.eo(a);var c=
[];a.Jt&&(c=c.concat(a.Jt),0<a.Jt.length&&this.tV(a.Jt[0]));a.nF&&(c=c.concat(a.nF));a.PH&&(c=c.concat(a.PH));return c},$k:function(a){a=_.uniq(a.map(function(a){return a.PageNumber}));for(var c=[],b=0;b<a.length;b++)c.push(this.Pd(a[b],void 0,!0));return Promise.all(c)},Zc:function(){this.Ye().forEach(function(a){a.off();a.Ad&&a.Ad.off();a.innerElement&&a.innerElement.off();a.element&&a.element.off()});this.init();this.vn=!0;this.Yg.Zc();return Promise.resolve()},GT:function(a,c){if("string"!==typeof a||
!c)return!1;"undefined"===typeof this.lj[a]&&(this.lj[a]=[]);this.lj[a].push(c);return!0},GO:function(a,c){if("string"!==typeof a||!c)return!1;this.lj[a]=$.grep(this.lj[a],function(a){return a!==c});return!0},OQ:function(){return this.lj},NQ:function(a){if(!a||!a.elementName)return null;var c=this.lj[a.elementName];if(c&&0<c.length)for(var b=0;b<c.length;b++){var e=c[b];if(a instanceof e)return e}return null},tS:function(a){var c=this.au[a];if(c){var b=c.length;a=this.u.Oc(a);for(var e=[],f=0;f<b;++f){var m=
c[f].kj,n=c[f].data;m.isImporting=!0;m.deserialize(n,a,this);m.isImporting=!1;m.IsAdded=!1;m.IsModified=!1;e.push(m)}this.Ug(e,!0);this.$k(e)}},xz:function(){return this.mD},qU:function(a,c){var b="StrokeColor TextColor FillColor FontSize Opacity StrokeThickness".split(" ").reduce(function(c,b){if(a[b]||0===a[b])c[b]=a[b];return c},{}),e=c(b);e&&(Object.keys(e).forEach(function(c){a[c]=e[c]}),this.gK(a),this.trigger("annotationChanged",[[a],"modify"]))},gJ:function(a){this.xE=a},WP:function(a){return this.xE(a)}};
$.extend(a.ja.prototype,b.utils.eventHandler);c.prototype={Do:function(a){this.yE(a)||this.Sl.push(a)},rq:function(a){this.Sl=$.grep(this.Sl,function(c){return c!==a})},Od:function(){this.Sl=[]},yE:function(a){for(var c=0;c<this.Sl.length;c++)if(a===this.Sl[c])return!0;return!1},ee:function(){return this.Sl.slice()}};e.prototype={disable:function(){this.tf.off("annotationChanged.editbox");this.tf.off("annotationDoubleClicked.editbox")},YG:function(a){return a instanceof Annotations.Ja},kH:function(a){var c=
this.tf,b=this;a.Ad=$('<textarea class="freetext">');a.Ad.on("blur",function(){b.Tq=!1;c.BB(a,a.Ad.val());a.Ad.hide();c.$k([a])});a.Ad.on("touchstart touchmove touchend mousedown mousemove mouseup",function(a){a.stopPropagation()})},VF:function(a){this.Tq=!0;var c=a.Lb();b.o.ya.eA(c).append(a.Ad);var e=this.tf.u.Oc(c),f=Annotations.ha.fq(e,parseFloat(a.FontSize)||12),k=a.Cz(),c=this.tf.u.ub(c),f=f*c*.75+k,e=a.yj(e)*c,m=a.getPath().slice(-2),k=m[0].x*c,n=Math.min(m[0].y,m[1].y)*c,r=Math.abs(m[1].x-
m[0].x)*c,m=Math.abs(m[1].y-m[0].y)*c,p=360-a.Rotation;if(90===p||270===p)var u=r,r=m,m=u;var q=u=0;switch((360-p)%360){case 90:q=r;break;case 180:u=r;q=m;break;case 270:u=m}u="translate("+u+"px,"+q+"px) rotate("+p+"deg)";p=Math.abs(p%360/90);p===b.o.Ra.Yh?(k+=e,n+=e):p===b.o.Ra.Xe?(k-=e,n+=e):p===b.o.Ra.tq?(k-=e,n-=e):p===b.o.Ra.fg&&(k+=e,n-=e);p=1>a.FillColor.A?new Annotations.Color(255,255,255):a.FillColor;a.Ad.css({top:n,left:k,width:r-2*e,height:m-2*e,font:f+" "+a.Font,color:a.TextColor.toString(),
background:p.toString(),transform:u,"transform-origin":"top left","line-height":b.utils.ie?1:"normal","padding-top":b.utils.ie?Math.max(1,1+1.5*(c-1)):0});a.Ad.val(a.Zg()||"");this.zV(a)},zV:function(a){a.Ad.show().focus()}}})(window);
(function(b){b.Yd={OH:function(b,e,c,a){return null===b||null===e||null===c||null===a?null:{x1:b,y1:e,x2:b+c,y2:e+a}},yZ:function(b,e){if(!e||!b)return!1;var c,a;"undefined"!==typeof e.x1&&"undefined"!==typeof e.y1&&"undefined"!==typeof e.x2&&"undefined"!==typeof e.y2||console.warn("rect points are undefined");c=b.x>=e.x1&&b.x<=e.x2;a=b.y>=e.y1&&b.y<=e.y2;return c&&a},CT:function(b,e){return b&&e?b.x1<=e.x2&&b.x2>=e.x1&&b.y1<=e.y2&&b.y2>=e.y1?!0:!1:!1},sZ:function(b,e,c,a,d){b=d.W(new XODText.Ed(b,
e));c=d.W(new XODText.Ed(c,a));return{x:Math.min(b.x,c.x),y:Math.min(b.y,c.y),w:Math.abs(b.x-c.x),Df:Math.abs(b.y-c.y)}},Math:{pS:function(b,e,c,a){function d(a,c,d){return(d.y-a.y)*(c.x-a.x)>(c.y-a.y)*(d.x-a.x)}return d(b,c,a)!==d(e,c,a)&&d(b,e,c)!==d(b,e,a)},CP:function(b,e){var c=Math.atan(Math.abs(b.y-e.y)/Math.abs(b.x-e.x));e.x<b.x&&e.y>b.y?c=Math.PI-c:e.x<=b.x&&e.y<b.y?(c=Math.PI-c,c*=-1):e.x>=b.x&&e.y<b.y&&(c*=-1);0===c&&b.x>e.x&&(c=Math.PI);return c},$T:function(b,e,c){c=c||{x:0,y:0};var a=
b.x-c.x;b=b.y-c.y;return{x:Math.cos(e)*a-Math.sin(e)*b+c.x,y:Math.sin(e)*a+Math.cos(e)*b+c.y}},NE:function(b,e,c){c=void 0!==c?c:Infinity;e=void 0!==e?e:-Infinity;return Math.max(Math.min(b,c),e)},DP:function(b,e){return Math.atan2(e,b)},IQ:function(b){if(!(3>b.length)){for(var e=b[0],c=0,a=1;a<b.length;a++)var d=b[a],c=c+(d.x-e.x)*(d.y+e.y),e=d;return 0<=c?1:-1}},eO:function(b){for(var e=[],c=0;c<b.length;c++)e.push({x:b[c].x,y:b[c].y});return e},pI:function(b){if(1>b.length)return!1;var e=Math.abs(b[b.length-
1].y-b[0].y);return 1.2358E-4<Math.abs(b[b.length-1].x-b[0].x)||1.2358E-4<e?!0:!1},Rl:function(b){var e=Math.cos(b);b=Math.sin(b);return{m_a:e,m_b:-b,m_c:b,m_d:e,m_h:0,m_v:0}},translate:function(b,e,c){b.m_h+=e;b.m_v+=c;return b},W:function(b,e,c){return{x:e*b.m_a+c*b.m_c+b.m_h,y:e*b.m_b+c*b.m_d+b.m_v}},zN:function(b,e,c,a,d,g,l,h,k,m,n){0>d&&(d=-d);0>g&&(g=-g);var r=(b-m)/2,p=(e-n)/2,u=Math.cos(l),q=Math.sin(l),v=u*r+q*p,r=-q*r+u*p,p=d*d,x=g*g,A=v*v,B=r*r,z=A/p+B/x;1<z&&(d*=Math.sqrt(z),g*=Math.sqrt(z),
p=d*d,x=g*g);if(z=p*B+x*A){p=(p*x-p*B-x*A)/z;h=(h===k?-1:1)*Math.sqrt(0>p?0:p);x=d*r/g*h;A=h*-(g*v/d);h=(b+m)/2+(u*x-q*A);u=(e+n)/2+(q*x+u*A);q=(v-x)/d;p=(r-A)/g;x=(-v-x)/d;r=(-r-A)/g;A=Math.sqrt(q*q+p*p);v=(0>p?-1:1)*Math.acos(q/A);A=Math.sqrt((q*q+p*p)*(x*x+r*r));p=(0>q*r-p*x?-1:1)*Math.acos(Math.max(Math.min((q*x+p*r)/A,1),-1));!k&&0<p?p-=2*Math.PI:k&&0>p&&(p+=2*Math.PI);r=[];q=!1;if(1E-9>Math.abs(p))k=4,q=!0,r[0]=d*Math.cos(v),r[1]=g*Math.sin(v),r[2]=d*Math.cos(v+p),r[3]=g*Math.sin(v+p);else{x=
0;k=2;B=!1;do{0>p?(z=x,A=.5*-Math.PI,x-=.5*Math.PI,x<=p+.01&&(A=p-z,B=!0)):(z=x,A=.5*Math.PI,x+=.5*Math.PI,x>=p-.01&&(A=p-z,B=!0));var y=Math.cos(A/2),w=Math.sin(A/2),E=4*(1-y)/3,I=w-E*y/w,z=[],D=[];z[0]=y;D[0]=-w;z[1]=y+E;D[1]=-I;z[2]=y+E;D[2]=I;z[3]=y;D[3]=w;y=Math.sin(v+A/2);w=Math.cos(v+A/2);for(E=0;4>E;E++)r[k-2+2*E]=d*(z[E]*w-D[E]*y),r[k-1+2*E]=g*(z[E]*y+D[E]*w);k+=6;v+=A}while(!B&&26>k)}d=this.Rl(-l);this.translate(d,h,u);for(g=2;g<k-2;g+=2)l=void 0===r[g]?this.W(d,0,0):this.W(d,r[g],r[g+1]),
r[g]=l.x,r[g+1]=l.y;r[0]=b;r[1]=e;2<k&&(r[k-2]=m,r[k-1]=n);if(q)a.push("l"),a.push("l"),c.push(r[0]),c.push(r[1]),c.push(r[2]),c.push(r[3]);else for(a.push("l"),c.push(r[0]),c.push(r[1]),b=2;b<k;b+=6)a.push("c"),c.push(r[b]),c.push(r[b+1]),c.push(r[b+2]),c.push(r[b+3]),c.push(r[b+4]),c.push(r[b+5])}},tO:function(b,e){return b.x*e.y-b.y*e.x},kZ:function(b){return 1E4*(b+2*Math.PI)%2*Math.PI*1E4/1E4}}}})(window);
(function(b){function f(a){if(!a)throw Error("XfdfManager requires AnnotationManager to initialize");this.Xb=a;this.ni=null}function e(a,c){this.aC=a;this.mu=c||function(){return!0}}String.prototype.trim||function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}}();e.prototype.ur=function(a,b,e){a=this.aC;a.writeStartElement("field");a.writeAttributeString("name",c.escape(b));b=e.value;_.isNull(b)||(a.writeStartElement("value"),a.writeString(c.escape(b)),
a.writeEndElement());a.writeEndElement()};e.prototype.uv=function(a,b,e){a=c.escape(b);b=this.aC;e.value&&(b.writeStartElement("field"),b.writeAttributeString("name",a),b.writeStartElement("value"),b.writeString(c.escape(e.value)),b.writeEndElement(),b.writeEndElement());b.writeStartElement("field");b.writeAttributeString("name",a)};e.prototype.NA=function(){this.aC.writeEndElement()};f.prototype={EE:function(a){return a&&0<a.getElementsByTagName("annots").length?(c.rG(a,"link"),c.rG(a,"widget"),
a.getElementsByTagName("annots")[0].childNodes):[]},yz:function(a){return a?a.querySelector("xfdf > fields"):null},CG:function(a){return a&&(a=a.getElementsByTagName("pdf-info"),0<a.length)?a[0]:null},oE:function(a,c,e){var f=this;b.hf.parse(new b.Oe(a),function(a){return f.Xb.u.Oc(a-1)},function(a){var b=f.Xb,e=b.Yg,g=b.u;if(g.getDocument()){e.sU(a.calculationOrder);var r=a.fields;Object.keys(r).forEach(function(a){var c=r[a],b=e.Fu(c.name);c.He(b.Va());e.Gt(r[a],!0)});b.Ug(a.widgets,!0);b.Ug(a.custom,
!0);g=g.getDocument();g.Et(a.documentActions);for(var b=a.pages,g=g.Nb(),p=0;p<b.length;++p){var u=b[p],q=Number(u.number);0<q&&q<g.length+1?g[q-1].Et(u.actions):console.warn("Invalid page number on PDFInfo page:",q)}c(a)}},e)},aL:function(a,c){function e(){var c=f.CG(a);c&&f.oE(c,function(a){h=a.widgets;h=h.concat(a.custom)},!0)}var f=this,h=[],k=this.EE(a),m=this.yz(a);m?this.by(new b.Oe(m),e,!0):e();return null!==k?h.concat(this.Iw(k,!0,c)):h},bL:function(a,c,e){function f(){var b=h.CG(a);b?h.oE(b,
function(a){h.mE(k,function(b){b.cg=b.cg.concat(a.widgets);b.cg=b.cg.concat(a.custom);c(b)},e)}):h.mE(k,function(){c.apply(this,arguments)},e)}var h=this,k=this.EE(a),m=this.yz(a);m?this.by(new b.Oe(m),f,!1):f()},eo:function(a){var c={};if(a){var e=this.yz(a);e&&this.by(new b.Oe(e),function(){},!0);var e=a.getElementsByTagName("add"),f=a.getElementsByTagName("modify");a=a.getElementsByTagName("delete");0<e.length&&(c.Jt=this.Iw(e[0].childNodes,!0));0<a.length&&(c.nF=this.KK(a[0]));0<f.length&&(c.PH=
this.gL(f[0].childNodes))}return c},KK:function(a){var c=[];a=a.getElementsByTagName("id");for(var b=0;b<a.length;++b){var e=this.Xb.zj(a[b].textContent);e&&(c.push(e),this.Xb.eg(e,!0))}return c},gL:function(a){return this.Iw(a,!0)},Iw:function(a,c,b){var e=[];this.lE(a,e,0,a.length,c,b);return e},Tg:function(a,c,b,e,f){var k=this.Xb,m=null,n=!1,r=k.lj[a];if(r){var p=c.getAttribute("page"),p=parseInt(p,10),u;p<k.u.Db()&&(u=k.u.Oc(p));for(var q=0;q<r.length;q++)if(r[q].prototype.Qh(c)){m=null;if(b){b=
c.getAttribute("name");var v=parseInt(c.getAttribute("page"),10),m=this.Xb.bG(b,v)[0];if(!m&&this.Xb.bG(b,v,e)[0])break}if(!m){var x;"widget"===a&&(a=c.getAttribute("title"),x=k.Yg.Fu(a));m=new r[q](x);n=!0}try{if(u)m.isImporting=!0,m.deserialize(c,u,k),m.isImporting=!1;else return k.au[p]||(k.au[p]=[]),k.au[p].push({data:c,kj:m}),{kj:null,FJ:!1};m.CU(f)}catch(A){console.warn("Error parsing annotation",A);n=!1;m=null;break}n||k.YV(m);m.IsAdded=!1;m.IsModified=!1;break}}else console.warn("Unsupported annotation type.",
a);return{kj:m,FJ:n}},lE:function(a,b,e,f,h,k){for(var m=[],n=[];e<f;++e)if(a[e].nodeType===Node.ELEMENT_NODE){var r=this.Tg(c.Cu(a[e]),a[e],h,b,k),p=r.kj;p&&(b.push(p),r.FJ?m.push(p):n.push(p))}0<m.length&&(this.Xb.Ug(m,!0),m.forEach(function(a){a.IsAdded=!1;a.IsModified=!1}));0<n.length&&(a=$.Event("annotationChanged"),a.imported=!0,this.Xb.trigger(a,[n,"modify"]))},by:function(a,c,e){function f(c){var b=a.K("name");if(!b)return console.warn("Invalid field name part:",b,a.current),null;c=c?c+"."+
b:b;var b={name:c},d=[b],e=null;for(a.oa();a.advance();){var g=a.ua();switch(g){case "value":_.isNull(e)?e=a.current.textContent:(_.isArray(e)||(e=[e]),e.push(a.current.textContent));break;case "field":(g=f(c))&&0<g.length&&(d=d.concat(g));break;default:console.warn("unknown field child node: ",g)}}a.Aa();_.isNull(e)||(b.value=e);return d}var h=this.Xb.Yg;a.oa();a.advance()?b.busyLoop(function(){"field"===a.ua()&&f("").forEach(function(a){h.Gt(a,!0)});var c=a.advance();c||a.Aa();return c},c,e):c()},
iI:function(a){var c=[];$(a).each(function(a,b){c.push(b.textContent.trim())});return c},mE:function(a,c,b){function e(){if(b.vl())c({cg:[]});else{f.lE(a,r,k,Math.min(k+n,a.length),!0,b.pA);if(k>m){m+=1E3;for(var p=f.Xb.u.ll().Ae(),u=0;u<p.length;u++)f.Xb.Pd(p[u]+1)}setTimeout(function(){k+=n;k<a.length?e():c({cg:r})},b.batchDelay)}}var f=this,k=0,m=1E3,n=2*b.batchSize,r=[];e()},ys:function(a,c,b){var e=this.Xb.u.Oc(a.Mb()-1).inverse(),f=document.createElementNS("",a.elementName);a.serialize(f,e,
b);a=new XMLSerializer;f.NF&&this.ni.push(f.NF);f=a.serializeToString(f);c.writeString(f)},OL:function(a){var c=this.Xb,e=c.nl(),f=c.u,h=f.getDocument(),k=[];e.Xr({ur:function(a,c,b){void 0!==b.type&&k.push(b)},uv:function(a,c,b){void 0!==b.type&&k.push(b)}});var m=h.Nb().map(function(a,c){return{number:c+1,actions:a.xj()}}).filter(function(a){return 0<Object.keys(a.actions).length});b.hf.write(a,{calculationOrder:e.ny,widgets:c.Ye().filter(function(a){return a.Kj()}),fields:k,documentActions:h.xj(),
pages:m},function(a){return 1>a?(console.warn("Invalid page number:",a),a=new XODText.za,a.rl(1,0,0,1,0,0),a):f.Oc(a-1)})},SL:function(a){var b=this;a=a||{};var e=new XMLWriter("UTF-8","1.0");e.formatting="none";this.ni=[];var f,h,k;a.annotList?(f=a.fields||!1,h=a.widgets||!1,k=a.links||!1):(f=!1!==a.fields,h=!1!==a.widgets,k=!1!==a.links);e.writeStartDocument();e.writeStartElement("xfdf");e.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");e.writeAttributeString("xml:space","preserve");h&&
this.OL(e);f&&this.LL(e);e.writeStartElement("annots");f=this.Xb;a=a.annotList||f.Ye();for(var m=0;m<a.length;++m)f=a[m],f instanceof Annotations.nd?k&&this.ys(f,e,!0):f instanceof Annotations.WidgetAnnotation||this.ys(f,e,!0);e.writeEndElement();e.writeEndElement();this.PL(e);e=e.flush();m=0;this.ni.length&&(e=e.replace(c.OI,function(){return b.ni[m++]}));this.ni=null;return e},PL:function(a){var c=this.Xb;a.writeStartElement("pages");var b=c.u.getDocument().Nb();if(b){var e=c.u.Oc(0);a.writeStartElement("defmtx");
a.writeAttributeString("matrix",""+(e.m_a+","+e.m_b+","+e.m_c+","+e.m_d+","+e.m_h+","+e.m_v));a.writeEndElement();for(var f=1;f<b.length;++f){var k=c.u.Oc(f);if(!k.IF(e)){a.writeStartElement("pgmtx");var m="",m=m+(k.m_a+","+k.m_b+","+k.m_c+","+k.m_d+","+k.m_h+","+k.m_v);a.writeAttributeString("matrix",m);a.writeAttributeString("page",f.toString());a.writeEndElement()}}}a.writeEndElement()},JL:function(a){a.writeStartElement("add");for(var c=this.Xb.Ye(),b=0;b<c.length;++b){var e=c[b];e.IsAdded&&(this.ys(e,
a),e.IsAdded=!1)}a.writeEndElement()},NL:function(a){a.writeStartElement("modify");for(var c=this.Xb,b=c.Ye(),e=0;e<b.length;++e){var f=b[e];f.IsModified&&c.Ld(f)&&(this.ys(f,a),f.IsModified=!1)}a.writeEndElement()},KL:function(a){a.writeStartElement("delete");for(var c=this.Xb,b=this.SK(),e=0;e<b.length;++e)a.writeStartElement("id"),a.writeAttributeString("page",b[e].Fb),a.writeString(b[e].id),a.writeEndElement();c.My.length=0;a.writeEndElement()},LL:function(a){a.writeStartElement("fields");this.Xb.Yg.Xr(new e(a));
a.writeEndElement()},ML:function(a){a.writeStartElement("fields");var c=[];this.Xb.Yg.Xr(new e(a,function(a){c.push(a);return a.IsModified}));c.forEach(function(a){a.IsModified=!1});a.writeEndElement()},QL:function(a){var c=new XMLWriter("UTF-8","1.0");c.writeStartDocument();c.writeStartElement("xfdf");c.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");c.writeAttributeString("xml:space","preserve");c.writeStartElement("fields");var f=new b.Annotations.O.ik;a.forEach(function(a){f.Gt(a)});
f.Xr(new e(c));c.writeEndElement();c.writeEndElement();a=c.flush();return a=a.replace(/\t/g,"")},RL:function(a){for(var c=[],b=0;b<a.length;++b){var e=a[b];_.isUndefined(e.name)||c.push(e.name+"="+encodeURIComponent(e.value))}return c.join("&")},uu:function(){var a=this;this.ni=[];var b=new XMLWriter("UTF-8","1.0");b.writeStartDocument();b.writeStartElement("xfdf");b.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");b.writeAttributeString("xml:space","preserve");this.ML(b);this.JL(b);this.NL(b);
this.KL(b);b.writeEndElement();var b=b.flush(),b=b.replace(/\t/g,""),e=0;this.ni.length&&(b=b.replace(c.OI,function(){return a.ni[e++]}));this.ni=null;return b},SK:function(){return _.map(this.Xb.My,function(a){return{id:a.Id,Fb:a.Lb()}})}};b.o.dM=f;var c={OI:/<replace-element-please ?\/>|<replace-element-please><\/replace-element-please>/g,NT:"replace-element-please",Sq:function(a){if("string"===typeof a){for(var c=(new DOMParser).parseFromString(a,"text/xml"),b=c.getElementsByTagName("contents-richtext"),
e=0,f=0;0<(e=a.indexOf("<contents-richtext>",e));++f)if(f<b.length){var k=a.indexOf("</contents-richtext>",e);b[f].bT=a.substring(e+19,k);e=k}else{console.warn("contents-richtext: More elements found by searching!");break}f<b.length&&console.warn("contents-richtext More elements found by getElementsByTagName!");return c}return a},TB:function(a){var c;c="D:"+a.getFullYear().toString();c+=this.Zd((a.getMonth()+1).toString());c+=this.Zd(a.getDate().toString());c+=this.Zd(a.getHours().toString());c+=
this.Zd(a.getMinutes().toString());c+=this.Zd(a.getSeconds().toString());a=a.getTimezoneOffset();0===a?c+="Z00'00'":(0>a?(c+="+",a*=-1):c+="-",c+=this.Zd(parseInt(a/60,10).toString())+"'",c+=this.Zd((a%60).toString())+"'");return c},toDateString:function(a){return a.getFullYear().toString()+"-"+this.Zd((a.getMonth()+1).toString())+"-"+this.Zd(a.getDate().toString())+" "+this.Zd(a.getHours().toString())+":"+this.Zd(a.getMinutes().toString())+":"+this.Zd(a.getSeconds().toString())},Zd:function(a){return 2>
a.length?"0"+a:a},escape:function(a){a&&(a=_.escape(a),a=a.replace(/(?:\r\n|\r|\n)/g,"&#xA;"));return a},toFixed:function(a,c){_.isUndefined(c)&&(c=2);return parseFloat(a.toFixed(c)).toString()},getAttribute:function(a,c){return a.getAttribute(c)||a.getAttribute(c.toLowerCase())},Cu:function(a){return a.localName||a.baseName||a.nodeName},rG:function(a,c){var b=[],e=a.getElementsByTagName(c);if(0===e.length)return b;for(var f=0;f<e.length;++f){var k=e[f].outerHTML||e[f].xml;if(_.isUndefined(k)||0!==
k.indexOf("<"+c+" "))k=(new XMLSerializer).serializeToString(e[f]);0>k.indexOf("</"+c+">")&&"/"!==k.charAt(k.length-2)&&(k=k.slice(0,k.length-1)+"/"+k.slice(k.length-1));b.push(k)}return b},JY:function(a){return c.getAttribute(a,"ActionType")?!0:0<a.getElementsByTagName("OnActivation").length},AP:function(a){return c.getAttribute(a,"ActionType")?[a]:a.getElementsByTagName("Action")},BP:function(a){if(!a)return null;var b=c.getAttribute(a,"ActionType");return b?b:(a=c.zz(a))?c.Cu(a):null},zz:function(a){a=
_.filter(a.childNodes,function(a){return 1===a.nodeType});return 0<a.length?a[0]:null},Gn:function(a,b,e){b=c.getAttribute(a,b);_.isNull(b)&&(b=a.getElementsByTagName(e),b=0<b.length?b[0].textContent:null);return b},RX:function(a,c,b){b=b.W({x:_.isNull(a)?0:parseFloat(a),y:_.isNull(c)?0:parseFloat(c)});return{x:_.isNull(a)?null:b.x,y:_.isNull(c)?null:b.y}},qY:function(a,c,b){a=a.split(";");for(var e=[],f=0;f<a.length;++f){var k=a[f].split(","),k=new XODText.Ed(k[0],k[1]),k=new Annotations.Point(k.x,
k.y);c.W(k);"function"===typeof b&&b(k);e.push(k)}return e},$v:function(a,b,e){if("undefined"===typeof e||null===e)e=",";if(!(a instanceof Annotations.Point))return null;a=new Annotations.Point(a.x,a.y);b&&b.W(a);return c.toFixed(a.x)+e+c.toFixed(a.y)},pF:function(a,c,b){if("undefined"===typeof b||null===b)b=",";if("string"!==typeof a)return null;a=a.split(b);b=null;2===a.length?(b=new Annotations.Point(parseFloat(a[0]),parseFloat(a[1])),c&&c.W(b)):console.warn("Invalid serialized string format.");
return b},Ho:function(a,b,e,f){if("undefined"===typeof f||null===f)f=";";if("undefined"===typeof e||null===e)e=",";for(var h="",k=0;k<a.length;k++){var m=new Annotations.Point(a[k].x,a[k].y);b&&b.W(m);h+=c.toFixed(m.x)+e;h+=c.toFixed(m.y)+f}return h.substring(0,h.length-1)},Yk:function(a,c,b,e){var f=[];if("undefined"===typeof e||null===e)e=";";if("undefined"===typeof b||null===b)b=",";var k;a=a.split(e);if(e===b)for(e=0;e+1<a.length;e+=2)k=new Annotations.Point(a[e],a[e+1]),c&&c.W(k),f.push(k);else for(e=
0;e<a.length;++e)k=a[e].split(b),k=new Annotations.Point(k[0],k[1]),c&&c.W(k),f.push(k);return f},vB:function(a,b,e){if("undefined"===typeof e||null===e)e=",";var f=new Annotations.Point(a.x1,a.y1);a=new Annotations.Point(a.x2,a.y2);b.W(f);b.W(a);return c.toFixed(f.x,6)+e+c.toFixed(f.y,6)+e+c.toFixed(a.x,6)+e+c.toFixed(a.y,6)},cu:function(a,c,b){if("undefined"===typeof b||null===b)b=",";b=a.split(b);a=new Annotations.Point(b[0],b[1]);b=new Annotations.Point(b[2],b[3]);c&&(c.W(a),c.W(b));return new Annotations.Rect(a.x,
a.y,b.x,b.y)},tB:function(a,b,e){var f=new XODText.za;f.rl(b);f.m_d*=-1;f.m_h=0;f.m_v=0;return c.vB(a,f,e)},oF:function(a,b,e){var f=new XODText.za;f.rl(b);f.m_d*=-1;f.m_h=0;f.m_v=0;return c.cu(a,f,e)},HZ:function(a,b){for(var e="",f=0;f<a.length;f++){var h=a[f],h=new Annotations.Point(h.x,h.y);b.inverse().W(h);e+=c.toFixed(h.x)+",";e+=c.toFixed(h.y)+";"}return e.substring(0,e.length-1)},rY:function(a,c){var b=a.split(","),e=new Annotations.Point(b[0],b[1]),b=new Annotations.Point(b[2],b[3]);"undefined"!==
typeof c&&(c.W(e),c.W(b));return new Annotations.Rect(e.x,e.y,b.x,b.y)},IZ:function(a,b){var e=new Annotations.Point(a.x1,a.y1),f=new Annotations.Point(a.x2,a.y2),h=b.inverse();h.W(e);h.W(f);return c.toFixed(e.x)+","+c.toFixed(e.y)+","+c.toFixed(f.x)+","+c.toFixed(f.y)},sg:function(a){if("undefined"===typeof a||null===a||!(a instanceof Annotations.Color)||0===a.A)return null;var c=a.R.toString(16).toUpperCase();2>c.length&&(c="0"+c);var b=a.G.toString(16).toUpperCase();2>b.length&&(b="0"+b);a=a.B.toString(16).toUpperCase();
2>a.length&&(a="0"+a);return"#"+c+b+a},tj:function(a){return(new RegExp(/^#[0-9a-f]{6}$/i)).test(a)?new Annotations.Color(parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)):null},Ny:function(a){if(a){var c=new Date(Date.UTC(parseInt(a.substring(2,6),10),parseInt(a.substring(6,8),10)-1,parseInt(a.substring(8,10),10),parseInt(a.substring(10,12),10),parseInt(a.substring(12,14),10),parseInt(a.substring(14,16),10),0));a=a.substring(16);if(7===a.length){var b=a.substring(0,
1);if("Z"!==b){var b="-"===b?1:-1,e=parseInt(a.substring(4,6),10);c.setUTCHours(c.getUTCHours()+b*parseInt(a.substring(1,3),10));c.setUTCMinutes(c.getUTCMinutes()+b*e)}}return c}},hG:function(a,b,e){a="#"+c.Zd(a.toString(16));a+=c.Zd(b.toString(16));return a+=c.Zd(e.toString(16))},kU:function(a,c){return"/"+a+" "+c+" Tf"},jU:function(a){return"font: "+a.Font+" "+a.Bz()+"pt; text-align: "+a.TextAlign+"; color: "+c.sg(a.TextColor)},GZ:function(a){return"font-family: "+a.Font+"; font-size: "+a.Bz()+
"pt; text-align: "+a.TextAlign+"; color: "+c.sg(a.TextColor)},AO:["Tf","rg"],jI:function(a){var b={me:a};if(!_.isNull(a))for(a=a.split(" ");0<a.length;){var e=a.pop();if(-1!==c.AO.indexOf(e))switch(e){case "Tf":var e=a.pop(),f=a.pop().slice(1);b.font={size:e+"pt",name:c.wr(f),BZ:f};break;case "rg":var e=parseInt(255*a.pop(),10),f=parseInt(255*a.pop(),10),h=parseInt(255*a.pop(),10);b.color=c.hG(h,f,e)}}return b},gY:function(a){if(4===a.length)return{r:parseInt(a.charAt(1),16)/16,g:parseInt(a.charAt(2),
16)/16,b:parseInt(a.charAt(3),16)/16};if(7===a.length)return{r:parseInt(a.slice(1,3),16)/255,g:parseInt(a.slice(3,5),16)/255,b:parseInt(a.slice(5,7),16)/255}},iT:function(a){var b={};_.isNull(a)||a.split(";").forEach(function(a){var e=a.split(":");if(!(2>e.length))switch(a=e[0].trim(),e=e[1].trim(),a){case "text-align":b.textAlign=e;break;case "color":e.startsWith("rgb")?(a=/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/.exec(e),null!==a&&(b.color=c.hG(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)))):
b.color=e;break;case "font":a=e.split(" "),b.font={name:c.wr(a[0]),size:a[1]}}});return b},wr:function(a){function c(b,d){var e=a;0===e.indexOf(b)&&(e=d);return e}a=c("Arial","Arial");a=c("Courier","Courier");a=c("Helv","Arial");return a=c("Times","Times New Roman")},lI:function(a){return 0<a.indexOf("Bold")?"bold":"normal"},kI:function(a){return 0<a.indexOf("Italic")||0<a.indexOf("Oblique")?"italic":"normal"},IO:function(a){var c=[];a=a.split(";");for(var b=0;b<a.length;++b){var e=a[b].split(",");
2===e.length&&0<e[0].length&&0<e[1].length&&c.push(e)}return c},mU:function(a){for(var c="",b=0;b<a.length;b++)c+=a[b][0]+",",c+=a[b][1]+";";return c.substring(0,c.length-1)},lU:function(a){for(var c=[],b=0;b<a.length;b++){var e=[];e.push(this.escape(a[b][0]));e.push(this.escape(a[b][1]));c.push(e)}return c},Vj:function(a,c,b){_.isUndefined(b)||_.isNull(b)||(a[c]=b)},qJ:function(a,c,b){_.isUndefined(b)||_.isNull(b)||(a[c]=Number(b))},Wa:function(a,c,b){_.isUndefined(b)||_.isNull(b)||a.setAttribute(c,
b)},Zv:function(a){var c=this,b=document.createElementNS("","measure");this.Wa(b,"scale",a.scale);var e=document.createElementNS("","axis");a.axis.forEach(function(a){e.appendChild(c.uB(a))});var f=document.createElementNS("","distance");a.distance.forEach(function(a){f.appendChild(c.uB(a))});var k=document.createElementNS("","area");a.area.forEach(function(a){k.appendChild(c.uB(a))});b.appendChild(e);b.appendChild(f);b.appendChild(k);return b},bu:function(a){var c,b,e={};this.Vj(e,"scale",a.getAttribute("scale"));
e.axis=[];c=a.querySelector("axis").querySelectorAll("numberformat");for(b=0;b<c.length;b++)e.axis.push(this.Oy(c[b]));e.distance=[];c=a.querySelector("distance").querySelectorAll("numberformat");for(b=0;b<c.length;b++)e.distance.push(this.Oy(c[b]));e.area=[];c=a.querySelector("area").querySelectorAll("numberformat");for(b=0;b<c.length;b++)e.area.push(this.Oy(c[b]));return e},uB:function(a){var c=document.createElementNS("","numberformat");this.Wa(c,"factor",a.factor);this.Wa(c,"unit",a.unit);this.Wa(c,
"decimal-symbol",a.decimalSymbol);this.Wa(c,"thousands-symbol",a.thousandsSymbol);this.Wa(c,"display",a.display);this.Wa(c,"precision",a.precision);this.Wa(c,"unit-prefix",a.unitPrefix);this.Wa(c,"unit-suffix",a.unitSuffix);this.Wa(c,"unit-position",a.unitPosition);return c},Oy:function(a){var c={};this.qJ(c,"factor",a.getAttribute("factor"));this.Vj(c,"unit",a.getAttribute("unit"));this.Vj(c,"decimalSymbol",a.getAttribute("decimal-symbol")||".");this.Vj(c,"thousandsSymbol",a.getAttribute("thousands-symbol")||
",");this.Vj(c,"display",a.getAttribute("display")||"D");this.qJ(c,"precision",a.getAttribute("precision")||100);this.Vj(c,"unitPrefix",a.getAttribute("unit-prefix")||"");this.Vj(c,"unitSuffix",a.getAttribute("unit-suffix")||"");this.Vj(c,"unitPosition",a.getAttribute("unit-position")||"S");return c}};b.Annotations.ba=c})(window);
(function(b){b.o=b.o||{};var f=b.o;f.qx=function(b){this.v=b;this.J=[];this.Qj={};this.Pu=f.Ra.Yh;this.kg=1;if(b){this.DI();this.EI();var c=this;b.on("pagesDiff",function(a,b){c.trigger("pageDiff",[b]);c.trigger("pageContentChanged",[b.filter(function(a){return a.after.contentChanged}).map(function(a){return a.after.pageNum})])});b.on("pagesUpdated",function(a,b){function e(a){var c={};Object.keys(a).forEach(function(b){c[b]=a[b].Qa});return c}var f=e(c.Qj);c.DI();c.EI();f=c.JN(f,e(c.Qj));f.contentChanged=
b.filter(function(a){return a.contentChanged}).map(function(a){return a.pageNum});c.trigger("layoutChanged",[f])})}};f.qx.prototype=$.extend({ZX:function(){return this.J.length},JN:function(b,c){var a={added:[],removed:[],moved:{}},d={};Object.keys(b).forEach(function(a){d[a]=d[a]||{};d[a].before=b[a]});Object.keys(c).forEach(function(a){d[a]=d[a]||{};d[a].after=c[a]});Object.keys(d).forEach(function(c){c=d[c];c.before&&!c.after?a.removed.push(c.before):!c.before&&c.after?a.added.push(c.after):c.before&&
c.after&&c.before!==c.after&&(a.moved[c.before]=c.after)});return a},DI:function(){var b=this.v.Qn(),c={};b.forEach(function(a){c[a]=!0});var a=this.Qj;Object.keys(a).forEach(function(b){b in c||delete a[b]});b.forEach(function(c){a[c]||(a[c]={rotation:null,zoom:null,Bg:null,Cg:null,wg:null,Ci:null,Go:null,Ce:null,Qa:null,id:c})})},EI:function(){for(var b=this.v.numPages,c=this.v,a=[],d=0;d<b;++d){var f=this.Qj[c.Mq(d)];f.Qa=d+1;a.push(f)}this.J=a},AB:function(b){this.Pu=b},DY:function(){return this.Pu},
Ei:function(b){this.kg=b;this.trigger("zoomChanged",[b])},EY:function(){return this.kg},tJ:function(b,c){var a=this.J[b];if(a)a.Go=c;else throw Error("Invalid page text selected "+b);},BQ:function(b){var c=this.J[b];if(c)return c.Go;throw Error("Selected text requested for invalid page index: "+b);},CQ:function(b){var c=this.J[b];if(c)return c.wg.map(function(a){return{x1:a.x1,x2:a.x2,x3:a.am,x4:a.bm,y1:a.y1,y2:a.y2,y3:a.dm,y4:a.em}});throw Error("Selected text quads requested for invalid page index: "+
b);},zy:function(){this.J.forEach(function(b){b.Go=null})},Lu:function(){return this.J.map(function(b){return b.Go}).filter(function(b){return null!==b}).join("\n")},Wz:function(){var b={};this.J.filter(function(c){return null!==c.wg}).forEach(function(c){b[c.Qa-1]=c.wg.map(function(a){return{x1:a.x1,x2:a.x2,x3:a.am,x4:a.bm,y1:a.y1,y2:a.y2,y3:a.dm,y4:a.em}})});return b},vd:function(b){var c=this.J[b];if(c){var a=this.v.ud(b);b=this.v.sd(b);var d=_.isNull(c.rotation)?this.Pu:c.rotation;if(d===f.Ra.Xe||
d===f.Ra.fg){var g=a,a=b;b=g}return{width:a,height:b,rotation:d,zoom:_.isNull(c.zoom)?this.kg:c.zoom,Bg:c.Bg,Cg:c.Cg,wg:c.wg,Ci:c.Ci,Go:c.Go,Ce:c.Ce,Qa:c.Qa,id:c.id}}return{width:0,height:0}},Ae:function(){for(var b=[],c=this.J.length,a=0;a<c;++a)b.push(this.vd(a));return b},fw:function(b,c){var a=this.J[b];if(a)a.zoom=c;else throw Error("Invalid page index zoomed "+b);},wQ:function(b){var c=this.J[b];if(c)return!_.isNull(c.zoom);throw Error("Invalid page index get has individual zoom "+b);},Mr:function(b,
c){var a=this.J[b];if(a)a.rotation=c;else throw Error("Invalid page index rotated "+b);},VU:function(b,c){var a=this.J[b];if(a)a.wg=c;else throw Error("Invalid page index set text quads "+b);},TU:function(b,c){var a=this.J[b];if(a)a.Ci=[c];else throw Error("Invalid page index set search quads "+b);},eW:function(b,c){var a=this.J[b];if(a){var d=a.Ci||[];d.push(c);a.Ci=d}else throw Error("Invalid page index update search quads "+b);},xy:function(){this.J.forEach(function(b){b.Ci=null})},QE:function(){this.J.forEach(function(b){b.wg=
null})},xQ:function(b){var c=this.J[b];if(c)return!!c.wg||!!c.Ci;throw Error("Invalid page index get has text quads "+b);},RU:function(b,c){var a=this.J[b];if(a)a.Bg=c.Bg,a.Cg=c.Cg;else throw Error("Tried to set offsets of invalid page"+b);},iQ:function(){var b={};this.J.forEach(function(c,a){_.isNull(c.rotation)||(b[a]=c.rotation)});return b},XN:function(){this.J.forEach(function(b){b.rotation=null})},XF:function(b){this.J.forEach(function(c){_.isNull(c.rotation)||b(c)})},CB:function(b,c){var a=
this.J[b];if(a)a.Ce=c;else throw Error("Invalid page index set preview canvas "+b);},EG:function(){var b=[];this.J.forEach(function(c,a){_.isNull(c.wg)&&_.isNull(c.Ci)||b.push(a)});return b},zQ:function(){var b=[];this.J.forEach(function(c,a){_.isNull(c.wg)||b.push(a)});return b},YN:function(){this.J.forEach(function(b){b.width=0;b.height=0;b.Ce&&(b.Ce.width=0,b.Ce.height=0,b.Ce=null)})},uH:function(b){return!!this.Qj[b]},bd:function(b){var c=this.Qj[b];if(c)return this.vd(c.Qa-1);throw Error("Unknown page ID "+
b);},Af:function(b){var c=this.J[b];if(c)return c.id;throw Error("Page index is not loaded "+b);},Zc:function(){this.off()}},b.utils.eventHandler)})(window);
(function(b){function f(c,a){this.handlers=c;this.state=_.isUndefined(a)?null:a;this.Th=[];this.cB=!0}function e(){this.WF=[];this.ZF=[];this.Ml={};this.Aw=!1;Promise.resolve();Promise.resolve();this.vn=!1;this.Kt=null}f.prototype={vi:function(c){this.Th.push(c)},KJ:function(){return 0<this.Th.length},HJ:function(){return this.cB||0<this.Th.length},read:function(){this.state=this.handlers.read(this.state);this.cB=!1},write:function(){var c=this.Th;this.handlers.consolidateChanges&&(c=this.handlers.consolidateChanges(c));
this.Th=[];this.state=this.handlers.write(this.state,c);this.cB=!0}};e.prototype={Zc:function(){this.Aw=!1;window.cancelAnimationFrame(this.Kt);this.Kt=null;this.vn=!0},GI:function(c,a,b,e){_.isUndefined(e)&&(e=!0);if(this.Ml[c])throw Error("Tried to register pipeline "+c+" twice");this.Ml[c]=new f(a,b);e&&this.iB()},sR:function(c){return!!this.Ml[c]},HQ:function(c){if(!this.Ml[c])throw Error("Tried to get non-existent pipeline "+c);return this.Ml[c]},iB:function(){var c=this;this.Aw||this.vn||(this.Aw=
!0,this.Kt=window.requestAnimationFrame(function(){c.Kt=null;var a=Object.keys(c.Ml).map(function(a){return c.Ml[a]});a.forEach(function(a){a.HJ()&&a.read()});a.forEach(function(a){a.KJ()&&a.write()});a=a.some(function(a){return a.HJ()||a.KJ()});c.Aw=!1;a?c.iB():(c.ZF.forEach(function(a){a()}),c.ZF=[]);c.WF.forEach(function(a){a()});c.WF=[]}))},vi:function(c,a){this.HQ(c).vi(a);this.iB()}};b.wp=e;b.fX=f})((window.o?window.o:window.o={}).Am={});
(function(b){function f(a){this.lK=!0;this.Xq=this.Sv=this.JJ=this.Ag=!1;this.Bd=[];this.Gc={};this.Ek={};this.Se=.5;this.u=a;this.v=null;this.Pv=Promise.resolve();this.Zu=!1;this.xo=null;this.paused=!1;this.GA=null}function e(a){this.rotation=a.rotation;this.zoom=a.zoom;this.width=a.width;this.height=a.height;this.je=this.canvas=null;this.rh=this.jy=this.rg=!1;this.IJ=!0;this.zd=this.ql=this.So=this.request=null}function c(a,c){this.Ea=a;this.Rj=c;this.aB=createPromiseCapability()}c.prototype={cancel:function(){var a=
this.Ea.Nc(this.Rj);try{if(a.rh){a.zd&&(a.zd.IE(),a.zd.abort&&a.zd.abort());if(a.request)try{this.Ea.v.Rh(a.request)}finally{a.request=null,a.zd=null}if(a.So)try{this.Ea.v.oj(a.So)}finally{a.So=null}if(a.ql)try{this.Ea.v.Rh(a.ql)}finally{a.ql=null}}}finally{a.rh=!1,a.IJ=!0,this.aB.resolve("canceled")}},dK:function(){this.cancel();var a=this.Ea.Nc(this.Rj);a.zd&&(a.zd.dc(void 0,this.Ea.u.N.bd(this.Rj).Qa-1),a.zd=null)},render:function(a){var c=this;a.then(function(){c.aB.resolve("complete")})},Qz:function(){return this.aB.promise}};
e.prototype={Kq:function(a){return(this.canvas||a?1:0)*(this.width*this.height*this.zoom*this.zoom*(window.devicePixelRatio?window.devicePixelRatio:1)*4+1E5)/4},isValid:function(){return!!this.canvas||!b.o.ya.$j},update:function(a){if(this.rotation!==a.rotation||this.zoom!==a.zoom)this.je=this.canvas=null,this.IJ=!0;this.rotation=a.rotation;this.zoom=a.zoom;this.width=a.width;this.height=a.height;this.Qa=a.Qa}};f.prototype={init:function(){this.uy();this.v=this.u.getDocument()},Zc:function(){this.Xq=
!0;this.Or();return this.Pv},uy:function(){this.Or();Object.keys(this.Gc).forEach(this.Tu.bind(this))},ZN:function(){Object.keys(this.Gc).forEach(this.nH.bind(this))},gV:function(a){this.JJ=!!a},mH:function(a){var c=this.Gc[a];c&&(c.canvas&&(c.canvas.width=0,c.canvas.height=0,c.canvas=null),c.je=null);this.Qo(a)},nH:function(a){if(a=this.Gc[a])a.rg=!1},Tu:function(a){this.mH(a);this.nH(a)},Qt:function(a){var c=this.u,b=c.Hn()-1;a=c.N.bd(a).Qa-1;c=c.Db();b=a-b;0>b&&(b-=.5);return c-Math.abs(b)},Sz:function(a){return this.Ek[a]||
null},pE:function(a,b){var e=this;if(this.Nc(a).rh)return this.Sz(a);var f=new c(this,a);this.Qo(a);var h;h=e.JJ&&b?b.then(function(){if(!e.Sv)return e.MI(a,function(){})}):this.MI(a,function(){});f.render(h);return this.Ek[a]=f},KP:function(){var a=this;return Object.keys(this.Gc).reduce(function(c,b){return c+a.Nc(b).Kq()},0)},mN:function(a,c){for(var e=this.Nc(c),f=this,h=Object.keys(this.Gc).sort(function(a,c){return f.Qt(a)-f.Qt(c)}),k=this.KP(),m=e.Kq(a)+k,n=0;m>b.im&&n<h.length;)m-=this.Nc(h[n]).Kq(),
++n;if(m<b.im){for(k=0;k<n;++k)this.mH(h[k]);e.canvas=a}else console.warn("Could not fit "+c+" with size "+e.Kq(a)+" into cache of size "+k+" with max size "+b.im)},Nc:function(a){if(this.u.N.uH(a)){this.Gc[a]=this.Gc[a]||new e(this.u.N.bd(a));var c=this.u.N.bd(a);this.Gc[a].update(c);return this.Gc[a]}return this.Gc[a]?this.Gc[a]:new e({})},JW:function(a){this.Tu(a)},Yu:function(a){return!!this.Nc(a).canvas},pause:function(){this.paused=!0},resume:function(){this.paused=!1;var a=this.Gc;Object.keys(a).forEach(function(c){c=
a[c];c.zd&&(c.zd.paused=!1,c.zd.resume&&c.zd.resume())})},Vo:function(a){this.Bd=a||this.u.fa.Ae()},AN:function(a){var c=this;return a.some(function(a){return-1===c.Bd.indexOf(a)})||c.Bd.some(function(c){return-1===a.indexOf(c)})},PQ:function(){var a=this;return Object.keys(this.Gc).map(function(c){return{id:c,page:a.Gc[c]}}).filter(function(a){return a.page.rg}).map(function(c){return a.u.N.bd(c.id).Qa-1})},uF:function(a){var c=this.u.N.Af(a),e=this.Nc(c);if(this.Ag){c=e.Ud;if(e.rh||!e.rg||!c)return!0;
var e=this.u.fa,f=this.Se/2;return(a=e.Wn(a,e.dA(f,f)))&&!b.utils.containsRect(c,a.Ud)}return!e.rh&&!e.rg},lR:function(a){for(var c=[],b=[],e=a.length,f=0;f<e;++f){var k=a[f];this.uF(k)?b.push(k):c.push(k)}return{fT:c,VA:b}},iA:function(){var a=this;return a.Xq?[]:a.u.fa.Ae(a.Se,a.Se).some(function(c){return a.uF(c)})},TN:function(){!this.xo&&this.iA()&&this.mF()},mF:function(){var a=this;this.xo||(this.xo=setTimeout(function(){this.xo=null;var c=a.u.fa.Ae(a.Se,a.Se);a.Or(c);a.Zu||(a.Pv=a.Pv.then(function(){return a.NI()})["catch"](function(c){console.error(c);
a.Pv=Promise.resolve()}))},80))},pT:function(a){var c=this;return Promise.resolve().then(function(){var b=c.u.N.bd(a).Qa-1,e=c.Nc(a);if(!e.canvas)throw Error("Tried to place uncached page from cache "+a);e.rg=!0;c.u.cq(e.canvas,b);c.vj(b,e);c.u.trigger("pageComplete",[b])})},Zz:function(a){var c=this;return new Promise(function(b){var e=c.Nc(a),f=c.u.N.bd(a).Qa-1;e.So||c.u.uR(f)?b():e.So=c.v.FA(f,function(b){c.Nc(a).So=null;c.u.BE(b,f,-1!==c.Bd.indexOf(f),!1)})})},gQ:function(a){var c=this;return new Promise(function(e){var f=
c.Nc(a),h=c.u.N.bd(a).Qa-1;if(f.ql||c.u.rR(h))e();else{var k=b.utils.getCanvasMultiplier(),m=f.width,n=f.height,r=m>n?2E3/m:2E3/n,r=r/k;f.ql=c.v.fv({pageIndex:h,getZoom:function(){return r},getPageRotation:function(){return b.o.Ra.Yh},drawComplete:function(a){c.v.pj(f.ql);f.ql=null;c.u.BE(a,h,-1!==c.Bd.indexOf(h),!0);e()},useProgress:!1})}})},NI:function(){var a=this;return this.Xq?Promise.resolve():Promise.resolve().then(function(){var c=a.u.fa.Ae(a.Se,a.Se),e=a.lR(c);a.Or(c);a.JI(e.fT);a.Zu=!0;
a.u.trigger("beginRendering");var f=Promise.resolve();!a.v.Ij()&&b.o.ya.$j||c.forEach(function(c){c=a.u.N.Af(c);a.Zz(c)});a.Sv=!1;return Promise.all(e.VA.map(function(c){c=a.u.N.Af(c);return a.Yu(c)&&!a.Ag?a.pT(c):f=a.pE(c,f).Qz()}))}).then(function(){a.Sv=!1;a.Zu=!1;var c=a.iA();a.u.trigger("finishedRendering",c);if(!a.Xq)return new Promise(function(c,b){window.requestAnimationFrame(function(){try{var d;if(a.iA())return d=a.NI(),c(d);a.YR()&&a.rT();c()}catch(e){b(e)}})})})["catch"](function(c){a.Zu=
!1;console.error(c);throw c;})},YR:function(){return b.o.ya.$j&&(0!==b.kv||0!==b.jv)},IN:function(){var a=this;return _.range(a.u.Db()).map(function(c){return a.u.N.Af(c)}).sort(function(c,b){return a.Qt(b)-a.Qt(c)})},GE:function(){var a=this,c=_.min(a.Bd),e=_.max(a.Bd),f=c-b.kv,h=e+b.jv,c=this.IN().filter(function(c){c=a.u.N.bd(c).Qa-1;return f<c&&h>c});if(a.Ag)return[c[0]];for(var e=[],k=c.length,m=0,n=0;n<k;++n){var r=a.Nc(c[n]),m=m+r.Kq(!0);if(m<b.im)e.push(c[n]);else break}return e},KN:function(){var a=
this;return a.Xq?[]:a.GE().filter(function(c){return!a.Nc(c).isValid()})},rT:function(){var a=this;return Promise.resolve().then(function(){return a.Ag?Promise.all(a.Bd.map(function(c){c=a.u.N.Af(c);return a.gQ(c)})):Promise.all(a.KN().map(function(c){return a.pE(c).Qz()}))["catch"](function(a){console.error("error pre-rendering",a);throw a;})})},MI:function(a,c){c=c||function(){};var b=this;return new Promise(function(e){b.LT(a,function(a){!a||a.type&&"Cancelled"===a.type||console.warn(a);e()},c)})},
JI:function(a){var c=this,e=this.GE();a&&a.length&&(a=a.map(function(a){return c.u.N.Af(a)}),e=e.concat(a));Object.keys(this.Gc).forEach(function(a){var f=c.Nc(a);if(c.u.N.uH(a)){var k=c.u.N.bd(a).Qa-1;if(b.o.ya.$j)-1===e.indexOf(a)&&(c.fK(a),f.rg&&(c.u.JT(k),f.rg=!1));else{var m=-1!==c.Bd.indexOf(k);!f.rg&&!f.jy||m||(b.o.ya.vo(k),f.jy=!1,f.rg=!1,c.fK(a))}}})},LT:function(a,c,e){var f=this,h=this.Nc(a);c=c||function(){};e=e||function(){};if(h.rh)b.utils.warn("renderPage: Another request for page ID",
a),c("renderPage: Another request for page ID "+a);else{var k=f.u.N.bd(a),m=k.zoom,n=k.rotation;if(f.v!==f.u.getDocument())c("Document changed");else{var r=!0,p=null,u=!1,q,v=f.u.fa.Rn(k.Qa-1);if(f.Ag||v&&v.viewportRender)if(v=f.u.fa,q=v.Wn(k.Qa-1,v.dA(f.Se,f.Se)),null===q){c("Page "+(k.Qa-1)+" no longer visible");return}this.GA=window.setTimeout(function(){$("#pageContainer"+(k.Qa-1)).addClass("loading")},300);var x={pageIndex:this.u.N.bd(a).Qa-1,getZoom:function(){return f.u.N.bd(a).zoom},getPageRotation:function(){return f.u.N.bd(a).rotation},
finishedLoading:function(b,e){if(f.v!==f.u.getDocument())return c(Error("Document changed")),!1;if(b)return console.warn("Error loading page "+a),c(Error("Error loading page "+a)),!1;r=null===h.zd;h.zd=e;f.paused&&h.zd.pause();return!0},acquireResources:function(){return r},resourcesLoaded:function(){if(f.v!==f.u.getDocument())return c(Error("Document changed")),!1;if(!1===h.rh)return!1;var b=f.u.N.bd(a);m===b.zoom&&n===b.rotation||f.vj(b.Qa-1,h);return!0},drawComplete:function(e,g,m){f.v!==f.u.getDocument()||
_.isNull(p)?c(Error("Document changed, or progress event not received")):(k=f.u.N.bd(a),h.rh=!1,h.rg=!!u,h.je=m,h.Ud=q?q.Ud:null,u?f.u.trigger("pageComplete",[g,p]):b.o.ya.vo(g),b.o.ya.$j&&!f.Ag&&f.mN(p,a,k),f.v.pj(h.request),clearTimeout(this.GA),$("#pageContainer"+(k.Qa-1)).removeClass("loading"),e=-1!==f.Bd.indexOf(g),f.v.yl()&&e&&f.vj(k.Qa-1,h),c())},drawProgressive:function(h){if(f.v!==f.u.getDocument())c(Error("Document changed"));else{var k=f.u.N.bd(a),v=k.Qa-1;if(m===k.zoom){if(!_.isUndefined(q)){var r=
$(h);r.css("top",q.uw.y+"px");r.css("left",q.uw.x+"px")}r=f.v.zc(v);p=b.o.ya.tG(h,v,m,n,x.getPageTransform(),r);u=!!f.u.cq(p,v)}else b.utils.warn("bad zoom: "+v);$("#pageContainer"+(k.Qa-1)).removeClass("loading");f.u.trigger("pageProgressiveUpdate",[v,p]);e(v)}},getPageTransform:function(){return f.u.fa.Rn(k.Qa-1)},onError:function(a){c(a)},useProgress:!f.Ag&&b.o.HG(),renderRect:_.isUndefined(q)?void 0:q.Ud};h.request=-1;h.rh=!0;h.request=f.v.fv(x);f.vj(k.Qa-1,h)}}},vj:function(a,c){this.u.vj(a);
c.jy=!0},jO:function(){for(var a=[],c=0;c<this.u.Db();++c){var e=this.u.N.Af(c);a.push(e)}this.eK(a);this.Or();b.o.ya.Br()},eK:function(a){var c=this;Object.keys(this.Gc).forEach(function(b){if(-1===a.indexOf(b)){var e=c.Ek[b];e&&(e.cancel(),e.dK(),delete c.Ek[b]);delete c.Gc[b]}else c.Gc[b].rg=!1})},WB:function(a){this.v&&((this.Ag=this.lK&&a>this.v.v.jr)&&1<b.utils.getCanvasMultiplier()?this.Se=0:this.Se=.5)},Or:function(a){var c=this,e={};"undefined"!==typeof a&&$.each(a,function(a,b){e[c.u.N.Af(b)]=
!0});var f=[];Object.keys(this.Ek).forEach(function(a){a in e&&b.o.ya.$j?f[a]=c.Ek[a]:c.Qo(a)});this.Ek=f;this.Sv=!0;clearTimeout(this.xo);this.xo=null},Qo:function(a){var c=this.Sz(a);clearTimeout(this.GA);$("#pageContainer"+a).removeClass("loading");c&&(this.Nc(a).rh&&(a=this.u.N.bd(a).Qa-1,$(document.getElementById("pageContainer"+a)).find(".progressive").remove()),c.cancel(),b.o.ya.wy())},fK:function(a){(a=this.Sz(a))&&a.dK()},HB:function(a){this.lK=!!a;this.WB()},xJ:function(){}};b.o.FL=f})(window);
(function(b){function f(a,c){this.cj=!a;this.height=this.width=0;this.uh=null;a&&(this.width=c.width,this.height=c.height,this.rotation=c.rotation,this.Fb=c.Qa-1,this.Rj=a,this.zoom=c.zoom,this.Ce=c.Ce)}function e(a,c){this.J=c;this.index=a;this.height=c.reduce(function(a,c){return c.xa()>a?c.xa():a},0);this.width=c.reduce(function(a,c){return a+c.Ba()},0)}function c(a){this.rows=a.rows;this.Hl=a.Hl;this.Hi=a.Hi;this.fd=a.fd;this.mo=a.mo;this.Uh=a.Uh;this.J=a.J;this.sh=a.sh;a=this.rows;this.width=
this.Uh.reduce(function(a,c){return a+c},2*this.Hi*this.Hl);this.height=a.reduce(function(a,c){return a+c.xa()},this.rows.length*this.Hi*2)}function a(a,c){var b=c.zoom,d=c.rotation,e=c.width*b,b=c.height*b,f=null;d===window.o.Ra.Xe||d===window.o.Ra.fg?(f="rotate("+90*d+"deg)",f=d===window.o.Ra.Xe?" translate("+e+"px, 0)  "+f:" translate(0,"+b+"px)  "+f,a.css("height",e),a.css("width",b)):(d===window.o.Ra.tq&&(f="translate("+e+"px,"+b+"px) scale(-1,-1)"),a.css("width",e),a.css("height",b));null!==
f&&a.css({position:"absolute",transform:f,"transform-origin":"top left","ms-transform":f,"ms-transform-origin":"top left","-moz-transform":f,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":f,"-o-transform":f,"-o-transform-origin":"top left"})}function d(a,c,b){if(c)for(c=a-1;0<=c;--c)b(c);else for(c=0;c<a;++c)b(c)}function g(a,c,b){var d=document.createElement("div");d.id="pageContainer"+a.Cj();2===b?0===c?d.style.marginLeft="auto":1===c&&(d.style.marginRight=
"auto"):(d.style.marginLeft="auto",d.style.marginRight="auto");d.className="pageContainer";return d}function l(a,c,b){var d=document.createElement("div");d.id="pageSection"+a.Cj();d.style.cssFloat="left";d.style.position="relative";d.className="pageSection";d.appendChild(g(a,c,b));return d}function h(a,c,b){var e=document.createDocumentFragment(),f=a.Nb();d(f.length,b,function(a){e.appendChild(l(f[a],a,c))});a=document.createElement("div");a.style.clear="both";e.appendChild(a);return e}function k(c,
b){if(b.Ce){var d=b.Ce,e=parseFloat(d.css("width")),f=parseFloat(d.css("height")),g=parseFloat(c.style.width)/e,h=d.attr("id");if(h&&0<=h.indexOf("hrthumb")){h=b.rotation;if(h===window.o.Ra.Xe||h===window.o.Ra.fg)g=parseFloat(c.style.width)/f;a(d,b)}d.each(function(){var a=$(this);a.css({top:parseFloat(a.css("top"))*g,width:e*g,height:f*g});c.appendChild(this)})}}function m(a,c,b,e,f,g){var h=c.Nb(),l=a;d(h.length,f,function(a){if(!l)throw Error("Tried to update non-existent page section");var d=
l,f=h[a],m=c.xa();d.style.width=Math.floor(b[a])+"px";d.style.height=Math.floor(m)+"px";d.style.margin=e+"px";g||(a=d.firstChild,d=Math.floor(f.xa())+"px",a.style.width=Math.floor(f.Ba())+"px",a.style.height=d,a.style.top=Math.floor(m-f.xa())/2+"px",$(a).children().detach(),k(a,f));l=l.nextSibling});return l=l.nextSibling}function n(a,c,b){var e=c.Nb(),f=a;d(e.length,b,function(a){if(!f)throw Error("Tried to skip non-existent page section");k(f.firstChild,e[a]);f=f.nextSibling});return f=f.nextSibling}
function r(a,c,b){var e=c.Nb().length,f=a;p(f);c=document.createRange();d(e,b,function(){if(!f)throw Error("Tried to remove non-existent page section");f=f.nextSibling;p(f)});b=f.nextSibling;c.setStartBefore(a);c.setEndAfter(f);c.deleteContents();return b}function p(a){$(a.querySelector(".pageContainer")).children().detach()}function u(a){this.Th=[];this.state=a}f.XE=function(a,c){var b=new f(null,{});b.Fb="b"+a;b.width=0;b.height=0;b.zoom=c.zoom;b.rotation=0;b.Ce=null;b.xR=c.width;b.LY=c.height;
return b};f.prototype={MG:function(){return this.uh},gh:function(){return this.zoom},de:function(){return this.rotation},Ba:function(){return this.width*this.zoom},Dz:function(){var a=this.width;this.cj&&(a=this.xR);return a*this.zoom},xa:function(){return this.height*this.zoom},Cj:function(){return this.Fb},aS:function(a){return this.cj&&a.cj||this.Rj===a.Rj},uA:function(a){return this.cj!==a.cj||!this.cj&&(this.Rj!==a.Rj||this.Ba()!==a.Ba()||this.xa()!==a.xa()||this.gh()!==a.gh()||this.de()!==a.de())}};
e.prototype={Nb:function(){return this.J},xa:function(){return this.height},Ba:function(){return this.width},Cj:function(){return this.index},uA:function(a){var c=a.Nb();return this.J.length!==a.Nb().length||this.J.some(function(a,b){return a.uA(c[b])})},bS:function(a){var c=a.Nb();return this.J.length===a.Nb().length&&this.J.every(function(a,b){return a.aS(c[b])})}};c.prototype={Nb:function(){return this.J},Ba:function(){return this.width},xa:function(){return this.height},MG:function(a){return this.rows[a]}};
u.prototype={make:function(a,c,b){this.Th.push({OA:a,Vg:{uh:c,WS:b}})},wN:function(a){var c=this,b=a.firstChild,d=[];a.style.width=Math.ceil(this.state.Ba())+"px";this.Th.forEach(function(e){switch(e.OA){case "addRow":d=d.concat(e.Vg.uh.Nb());b=c.qE(b,e.Vg,a);break;case "updateRow":d=d.concat(e.Vg.uh.Nb());b=c.gW(b,e.Vg,a);break;case "updateColumns":b=c.$V(b,e.Vg,a);break;case "skipRow":b=c.BV(b,e.Vg,a);break;case "replaceRow":d=d.concat(e.Vg.uh.Nb());b=c.OT(b,e.Vg,a);break;case "removeRow":b=c.KI(b,
e.Vg,a);break;default:console.warn("Unsupported layout change operation:",e.OA)}});if(b&&"annoteditselectrect"!==b.id)throw Error("Nodes left after applying changes");d=d.filter(function(a){return!a.cj}).map(function(a){return a.Cj()});return{VA:d}},yQ:function(){var a=[];this.Th.forEach(function(c){switch(c.OA){case "updateRow":a=a.concat(c.Vg.uh.Nb())}});return a.filter(function(a){return!a.cj}).map(function(a){return a.Cj()})},qE:function(a,c,b){c=c.uh;var d=h(c,this.state.Uh.length,this.state.sh);
m(d.firstChild,c,this.state.Uh,this.state.Hi,this.state.sh);a?b.insertBefore(d,a):b.appendChild(d);return a},gW:function(a,c){return m(a,c.uh,this.state.Uh,this.state.Hi,this.state.sh)},BV:function(a,c){return n(a,c.uh,this.state.sh)},OT:function(a,c,b){a=this.KI(a,c);return this.qE(a,c,b)},KI:function(a,c){return r(a,c.WS,this.state.sh)},$V:function(a,c){return m(a,c.uh,this.state.Uh,this.state.Hi,this.state.sh,!0)}};b.pQ=function(a){var b=a.oW,d=a.Hi,g={width:0,height:0},h={width:0,height:0};b&&
0<b.length&&(g={width:b[0].width,height:b[0].height,zoom:b[0].zoom},h={width:b[b.length-1].width,height:b[b.length-1].height,zoom:b[b.length-1].zoom});var l=a.CV||0,k=[],m;for(m=0;m<l;++m)k.push(f.XE(m,g));var k=k.concat(b.map(function(a){return new f(a.id,a)})),n=a.Hl;n>k.length&&(n=k.length);b=a.fd||0;g=Math.ceil(k.length/a.Hl);_.isUndefined(a.mo)||(g=a.mo<g?a.mo:g);var r=Array(n),l=k.reduce(function(a,c,b){var d;0===a.length?(d=[],a.push(d)):d=a[a.length-1];d.length===n&&(d=[],a.push(d));d.push(c);
if(b===k.length-1&&(c=n-d.length,0<c))for(var e=0;e<c;++e)d.push(f.XE(b+e+1,h));return a},[]).slice(b,b+g).map(function(a,c){var b=new e(c,a);b.Nb().forEach(function(a,c){r[c]=r[c]?a.Dz()>r[c]?a.Dz():r[c]:a.Dz()});return b});return new c({rows:l,Hi:d,Hl:n,fd:b,mo:g,Uh:r,J:k,sh:a.sh})};b.oQ=function(a,c){var b=new u(c);if(!a)return c.rows.forEach(function(a){b.make("addRow",a,null)}),b;var d=a.rows,e,f=a.Uh,g=c.Uh;e=f.length===g.length?f.every(function(a,c){return a===g[c]}):!1;f=c.rows;f.forEach(function(a){var c=
d[a.Cj()];c?c.bS(a)?c.uA(a)?b.make("updateRow",a,c):e?b.make("skipRow",a,c):b.make("updateColumns",a,c):b.make("replaceRow",a,c):b.make("addRow",a,c)});if(f.length<d.length)for(f=f.length;f<d.length;++f)b.make("removeRow",null,d[f]);return b};b.sp=f;b.hX=e;b.$W=c;b.ZW=u})((window.o=window.o||{}).tC={});
(function(b){var f=XODText,e=window.o,c={yC:"Single",hp:"Continuous",jC:"Facing",Ww:"FacingContinuous",fs:"Cover",gs:"CoverFacing",Rf:"Custom"};e.Cd=function(a,b,e){this.mode=null;this.u=a;this.Nd=this.oh=this.Qb=null;this.gg=this.fd=0;this.Lj=null;this.Bd=[];this.qd={};a=b===c.Rf;this.Co=_.isUndefined(e)?!a:e;_.isNull(b)||_.isUndefined(b)||(this.mode=b)};e.Cd.prototype={YU:function(a,b,e,f,h){this.mode=c.Rf;this.Qb=a;this.oh=b;this.Nd=e;this.fd=f;this.gg=h},uU:function(a){this.qd=a},sA:function(){return this.mode===
c.hp||this.mode===c.Ww||this.mode===c.fs},Lb:function(a,c){if(!this.Lj)return-1;var b=this.Lj.MG(a-this.Lj.fd);if(this.u.Uz())var e=this.Lj.Hl,b=b.Nb()[e-(c+1)];else b=b.Nb()[c];return b&&_.isNumber(b.Cj())?b.Cj():-1},Jf:function(a,c){if(this.qd.pageToWindow)return this.qd.pageToWindow(a,c);a=this.u.Vz(a,c);var b=this.u.N.vd(c);return{x:a.x+b.Bg,y:a.y+b.Cg}},dT:function(a,c){if(this.qd.pageToWindow)return this.qd.pageToWindow(a,c);a=this.u.SQ(a,c);var b=this.u.N.vd(c);return{x:a.x+b.Bg,y:a.y+b.Cg}},
ak:function(a,c){if(this.qd.windowToPage)return this.qd.windowToPage(a,c);var e=this.u.ub(c),l=this.u.N.vd(c),h=new f.Ed;h.x=a.x-l.Bg;h.y=a.y-l.Cg;e=b.ld(e,this.u.ye(c+1),{width:this.u.ud(c),height:this.u.sd(c)},0,!1);e=e.inverse();h=e.W(h);return{pageIndex:c,x:h.x,y:h.y}},uW:function(a,c){if(this.qd.windowToPage)return this.qd.windowToPage(a,c);var e=this.u.ub(c),l=this.u.N.vd(c),h=new f.Ed;h.x=a.x-l.Bg;h.y=a.y-l.Cg;e=b.ld(e,this.u.de(c+1),this.u.v.zc(c),0,!1);e=e.inverse();h=e.W(h);return{pageIndex:c,
x:h.x,y:h.y}},Ku:function(a,c){if(this.qd.getSelectedPages)return this.qd.getSelectedPages(a,c);var b=null,e=null;a=_.isUndefined(a)?this.u.Rd:a;c=_.isUndefined(c)?this.u.Eb:c;a:for(var f=this.fd;f<this.gg;f++)for(var k=0;k<this.Qb;k++){var m=this.Lb(f,k);if(!(0>m)){var n=this.u.N.vd(m),r=n.Bg,p=n.Cg,u=n.Bg+n.width*this.u.zoom,n=n.Cg+n.height*this.u.zoom;null===b&&a.x<=u&&a.x>=r&&a.y<=n&&a.y>=p&&(b=m);null===e&&c.x<=u&&c.x>=r&&c.y<=n&&c.y>=p&&(e=m);if(null!==b&&null!==e)break a}}b>e&&(f=b,b=e,e=f);
return{first:b,last:e}},Ae:function(a,c){if(this.qd.getVisiblePages)return this.qd.getVisiblePages(a,c);if(0===this.u.Ob().length)return[];for(var b,e=[],f=this.getVisibleRegionRect(a,c),k=this.getVisibleRegionRect(0,0),m=this.fd;m<this.gg;m++)for(var n=0;n<this.Qb;n++)if(b=this.Lb(m,n),!(0>b)){var r=this.Wn(b,f,k);null!==r&&e.push({Fb:b,oI:r.nT})}e.sort(function(a,c){return c.oI-a.oI});b=e.length;for(f=0;f<b;++f)e[f]=e[f].Fb;return e},getVisibleRegionRect:function(a,c){a=_.isUndefined(a)?.5:a;c=
_.isUndefined(c)?.5:c;var b=this.u.Iu();if(null===b)return[];var e=b.getBoundingClientRect(),f=e.width,k=e.height,m=b.scrollTop+e.top-k*a,b=b.scrollLeft+e.left-f*c;return{x1:b,y1:m,x2:b+f*(1+2*c),y2:m+k*(1+2*a)}},Wn:function(a,c,e){var f=this.u.v.zc(a),h=this.pageToWindowNoRotate({x:0,y:0},a),k=this.pageToWindowNoRotate({x:f.width,y:f.height},a),f=b.utils.normalizeRect(h,k);c=b.utils.getRectIntersection(f,c);if(c.x1!==c.x2){var m;e&&(e=b.utils.getRectIntersection(f,e),m=(e.x2-e.x1)*(e.y2-e.y1)/((f.x2-
f.x1)*(f.y2-f.y1)));h=this.windowToPageNoRotate({x:c.x1,y:c.y1},a);k=this.windowToPageNoRotate({x:c.x2,y:c.y2},a);return{Ud:b.utils.normalizeRect(h,k),uw:{x:c.x1-f.x1,y:c.y1-f.y1},nT:m}}return null},Rn:function(a){if(this.qd.getPageTransform)return this.qd.getPageTransform(a);a=this.u.Pn(a);return{x:0,y:0,width:a.width,height:a.height}},Lz:function(){return{x:0,y:0}},sn:function(){return e.tC.pQ({Hi:this.u.NG(),oW:this.u.N.Ae(),Hl:this.Qb,fd:this.fd,mo:this.gg-this.fd,CV:this.mode===c.fs||this.mode===
c.gs?1:0,sh:this.u.Uz()})},Yu:function(a){var c=this.u.N.Af(a);return this.u.Ea.Yu(c)||this.u.N.vd(a).Ce},PE:function(a){var c=this;this.ru(function(e){var f=e.id.slice(13),h=parseInt(f,10);0===f.indexOf("b")||c.Yu(h)||$(e).children().each(function(){0>this.className.indexOf("auxiliary")&&(this.height=this.width=0)});b.o.ya.ty(h);a&&$(e).children().detach()})},Er:function(a){a?this.mode===c.Rf?this.u.Rc().children().detach():this.PE(!0):(this.Lj=null,this.PE(),this.u.Rc().empty(),this.u.trigger("contentRemoved"))},
yg:function(){if(this.qd.createPageSections)return this.Er(!1),this.qd.createPageSections(),_.range(0,this.u.Db());var a=this;if(this.mode!==c.Rf){var b=this.sn(),f=e.tC.oQ(this.Lj,b);f.yQ().forEach(function(c){var b=document.getElementById("pageContainer"+c),b=a.u.oK?$(b).find("#hrthumb"+c):$(b).find(".canvas"+c+":not(.progressive)");0<b.length&&a.u.N.CB(c,b)});this.Lj=b;b=f.wN(this.u.Rc().get(0)).VA;this.u.ey(this.Lj.xa());return b}return _.range(0,this.u.Db())},ru:function(a){var c=this.u.Rc();
if(0!==c.length)for(c=c[0],c=c.firstChild;c;)b.utils.hasClass(c,"pageSection")&&a(c.firstChild),c=c.nextSibling},Nf:function(){var a=this.u.N;this.ru(function(c){var b=c.parentNode,e=Number(c.id.slice(13));_.isNaN(parseInt(e,10))||a.RU(e,{Bg:b.offsetLeft+c.offsetLeft,Cg:b.offsetTop+c.offsetTop})})}};e.kp=function(a){if(!a)throw Error("DisplayModeManager requires DocumentViewer to initialize");this.u=a;this.ia=new b.o.Cd(this.u,c.hp)};e.kp.prototype={lc:function(){return this.ia},kJ:function(a){this.ia.Er();
null===this.u.v?(this.ia=a,this.u.trigger("displayModeUpdated")):(this.cE(a),this.u.N.Ei(this.u.yf()),this.u.trigger("zoomUpdated",this.u.gh()),this.u.yi(),this.ia.sA()&&(this.yg(),this.ia.Nf()),this.u.Ge(this.u.Yb+1))},cE:function(a){this.ia=a;this.wC();this.u.N.QE();this.u.trigger("displayModeUpdated")},wC:function(){var a=this.ia.mode;_.isNull(a)||(a===c.yC?(this.ia.Qb=1,this.ia.oh=Math.ceil(this.u.v.numPages/this.ia.Qb),this.ia.Nd=Math.ceil(this.u.Yb/this.ia.Qb),this.ia.fd=this.ia.Nd,this.ia.gg=
this.ia.Nd+1):a===c.hp?(this.ia.Qb=1,this.ia.oh=Math.ceil(this.u.v.numPages/this.ia.Qb),this.ia.Nd=-1,this.ia.fd=0,this.ia.gg=this.ia.oh):a===c.jC?(this.ia.Qb=2,this.ia.Nd=Math.floor(this.u.Yb/this.ia.Qb),this.ia.oh=Math.ceil(this.u.v.numPages/this.ia.Qb),this.ia.fd=this.ia.Nd,this.ia.gg=this.ia.Nd+1):a===c.Ww?(this.ia.Qb=2,this.ia.Nd=-1,this.ia.oh=Math.ceil(this.u.v.numPages/this.ia.Qb),this.ia.fd=0,this.ia.gg=this.ia.oh):a===c.fs?(this.ia.Qb=2,this.ia.Nd=-1,this.ia.oh=Math.ceil((this.u.v.numPages+
1)/this.ia.Qb),this.ia.fd=0,this.ia.gg=this.ia.oh):a===c.gs&&(this.ia.Qb=2,this.ia.Nd=Math.floor(this.u.Yb/this.ia.Qb),this.ia.oh=Math.ceil(this.u.v.numPages/this.ia.Qb),this.ia.fd=this.ia.Nd,this.ia.gg=this.ia.Nd+1))},Ku:function(a,c){return this.ia.getSelectedPages(a,c)},Ae:function(a,c){return this.ia.getVisiblePages(a,c)},Wn:function(a,c,b){return this.ia.Wn(a,c,b)},dA:function(a,c){return this.ia.getVisibleRegionRect(a,c)},Jf:function(a,c){return this.ia.pageToWindow(a,c)},ak:function(a,c){return this.ia.windowToPage(a,
c)},Rn:function(a){return this.ia.getPageTransform(a)},Lz:function(a){return this.ia.getPageOffset(a)},sn:function(){return this.ia.sn()},yg:function(a){return this.ia.yg(a)},Er:function(a){return this.ia.Er(a)},ru:function(a){return this.ia.ru(a)},Nf:function(){return this.ia.Nf()}};b.o.Dd=c})(window);
(function(b){function f(){}var e=window.o,c=XODText;f.prototype=Object.create(Error.prototype);e.aa=function(){var a=this;this.select=_.bind(this.select,this);this.ib=c.ib;this.v=null;this.defaults={FitMode:this.Hg.Xw,DisplayMode:new b.o.Cd(this,b.o.Dd.hp),Zoom:1};this.da=new b.o.ja(this);this.fa=new b.o.kp(this);this.iJ();this.JF=this.oN=this.wq=!1;this.cursor="default";this.io=null;this.wi=[];this.hI=function(a,c,b){b(a)};b.o.hx(5);this.rC=function(c){this.trigger("mouseLeftUp",c);a.wa&&a.wa.mouseLeftUp&&
a.wa.mouseLeftUp(c);for(var b in a.links)if(a.links.hasOwnProperty(b)){c=a.links[parseInt(b,10)];for(var e=0;e<c.length;++e)c[e].style&&(c[e].style.border="")}};this.qC=function(c){this.trigger("mouseLeftDown",c);a.wa&&a.wa.mouseLeftDown&&(a.wa.mouseLeftDown(c),a.wa.isSelecting&&a.wa.isSelecting()||!(a.wa instanceof Tools.fk)?a.Nr("none"):a.Nr("auto"))};this.rL=function(a){this.trigger("click",a)};this.BL=function(c){this.trigger("tap",c);a.wa&&a.wa.tap&&a.wa.tap(c)};this.tL=function(c){this.trigger("dblClick",
c);a.wa&&a.wa.mouseDoubleClick&&a.wa.mouseDoubleClick(c)};this.uL=function(c){this.trigger("keyDown",c);a.wa&&a.wa.keyDown&&a.wa.keyDown(c)};this.vL=function(c){this.trigger("keyUp",c);a.wa&&a.wa.mS&&a.wa.mS(c)};this.sL=function(c){a.wa&&a.wa.contextMenu&&a.wa.contextMenu(c)};this.wL=function(c){this.trigger("mouseEnter",c);a.wa&&a.wa.NS&&a.wa.NS(c)};this.sC=function(c){this.trigger("mouseMove",c);a.wa&&a.wa.mouseMove&&a.wa.mouseMove(c)};this.xL=function(c){this.trigger("mouseLeave",c);a.wa&&a.wa.mouseLeave&&
a.wa.mouseLeave(c)};this.yL=function(c){this.trigger("mouseRightDown",c);a.wa&&a.wa.mv&&a.wa.mv(c)};this.zL=function(c){this.trigger("mouseRightUp",c);a.wa&&a.wa.OS&&a.wa.OS(c)};this.AL=function(c){a.wa&&a.wa.ZA&&a.wa.ZA(c)};this.$J={AnnotationCreateArrow:new b.ca.Jw(this,"AnnotationCreateArrow"),AnnotationCreateCallout:new b.ca.CalloutCreateTool(this,"AnnotationCreateCallout"),AnnotationCreateEllipse:new b.ca.Tw(this,"AnnotationCreateEllipse"),AnnotationCreateFreeHand:new b.ca.FreeHandCreateTool(this,
"AnnotationCreateFreeHand"),AnnotationCreateFreeText:new b.ca.pm(this,"AnnotationCreateFreeText"),AnnotationCreateLine:new b.ca.Ah(this,"AnnotationCreateLine"),AnnotationCreatePolygon:new b.ca.Lg(this,"AnnotationCreatePolygon"),AnnotationCreatePolygonCloud:new b.ca.xp(this,"AnnotationCreatePolygonCloud"),AnnotationCreatePolyline:new b.ca.Ch(this,"AnnotationCreatePolyline"),AnnotationCreateRectangle:new b.ca.bx(this,"AnnotationCreateRectangle"),AnnotationCreateDistanceMeasurement:new b.ca.lp(this,
"AnnotationCreateDistanceMeasurement"),AnnotationCreatePerimeterMeasurement:new b.ca.vp(this,"AnnotationCreatePerimeterMeasurement"),AnnotationCreateAreaMeasurement:new b.ca.bp(this,"AnnotationCreateAreaMeasurement"),AnnotationCreateSignature:new b.ca.SignatureCreateTool(this,"AnnotationCreateSignature"),AnnotationCreateStamp:new b.ca.zp(this,"AnnotationCreateStamp"),AnnotationCreateSticky:new b.ca.jx(this,"AnnotationCreateSticky"),AnnotationCreateTextHighlight:new b.ca.mx(this,"AnnotationCreateTextHighlight"),
AnnotationCreateTextSquiggly:new b.ca.nx(this,"AnnotationCreateTextSquiggly"),AnnotationCreateTextStrikeout:new b.ca.ox(this,"AnnotationCreateTextStrikeout"),AnnotationCreateTextUnderline:new b.ca.px(this,"AnnotationCreateTextUnderline"),AnnotationCreateRedaction:new b.ca.yp(this,"AnnotationCreateRedaction"),AnnotationEdit:new b.ca.fk(this,"AnnotationEdit"),Pan:new b.ca.tp(this,"Pan"),TextSelect:new b.ca.Cm(this,"TextSelect")}};e.aa.prototype={EN:function(){function a(a){h=!0;var e=c.v.Nb()[a-1];
if(e){var f,g,l=c.Bb().Ye();if(k&&k!==e){for(f=0;f<l;++f)g=l[f],g.Kj()&&g.pageNumber===m&&l[f].Ie("PC",new b.Annotations.O.vb.Events.sp("Close",c,{}));k.Ie("C",new b.Annotations.O.vb.Events.sp.create("Close",c,{}))}k=e;m=a;e.Ie("O",new b.Annotations.O.vb.Events.sp.create("Open",c,{}));for(f=0;f<l;++f)g=l[f],g.Kj()&&g.pageNumber===a&&l[f].Ie("PO",new b.Annotations.O.vb.Events.sp("Close",c,{}))}}var c=this;c.Rc().on("dragstart",function(a){"IMG"===a.target.nodeName&&a.preventDefault()});c.Rc().on("touchstart",
function(a){c.qC(a)});c.Rc().on("touchmove",function(a){c.Eb={x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY};c.sC(a)});c.Rc().on("touchend",function(a){c.rC(a);c.Ix=!1});c.Rc().on("pointerdown",function(a){c.AL(a)});c.Rc().dblclick(function(a){c.tL(a)});c.Rc().click(function(a){c.rL(a)});c.Rc().on("tap",function(a){c.BL(a)});$(window).on("keydown",function(a){c.uL(a)});$(window).on("keyup",function(a){c.vL(a)});c.Rc().on("contextmenu",function(a){c.sL(a)});c.Rc().mouseenter(function(a){c.wL(a)});
var e=c.Rc(),f=c.Ob();0<f.length&&(e=f);e.mousedown(function(a){if(0<f.length){var b=f[0].clientHeight;if(a.clientX>f[0].offsetLeft+f[0].clientWidth||a.clientY>f[0].offsetTop+b)return}1===a.which?(c.qC(a),c.Ix=!0):3===a.which&&(c.yL(a),c.BD=!0)});$(document).on("mouseup",function(a){1===a.which&&c.Ix?(c.rC(a),c.Ix=!1):3===a.which&&c.BD&&(c.zL(a),c.BD=!1)});$(document).mousemove(function(a){c.Eb={x:a.pageX,y:a.pageY};c.sC(a)});c.Rc().mouseleave(function(a){c.xL(a)});if(c.fa.lc().Co)c.Ob().on("scroll",
_.bind(c.onscroll,c));$(b).on("resize",_.bind(c.resize,c));c.on("PAUSE",function(){c.Ea.pause()});c.on("RESUME",function(){c.Ea.resume()});var h=!1,k=null,m;c.on("documentReady",function(){c.v.Ie("Init",new b.Annotations.O.vb.Events.iC.create("Open",c,{}));c.v.Ie("Open",new b.Annotations.O.vb.Events.iC.create("Open",c,{}));h||a(1)});c.on("pageNumberUpdated",function(b,e){a(e);c.v.Tl({currentPage:e})});c.on("visiblePagesChanged",function(a,b){c.v.Tl({visiblePages:b});var e=_.intersection(b,c.$p);e.length&&
(clearTimeout(c.tN),c.tN=setTimeout(function(){c.zi.vi("DocumentViewer.renderRequest",{type:"annotations",pages:e})},80))});c.on("endOfDocumentResult",function(a,b){c.zl=!1;c.Tr();b?(c.loop=!0,c.QB(c.fF,c.uO,!1)):c.loop=!1})},resize:function(a){a&&a.target!==window||!this.v||!this.fa.lc().Co||(this.yf===this.Hg.Zoom?(this.ey(),this.fa.lc().Nf(),this.onscroll()):(a=this.yf(),a!==this.N.kg?(this.Wp(a),this.ry()):(this.fa.lc().Nf(),this.ry(),this.onscroll())))},ry:function(){var a=this.Ob(),c=(a[0].scrollWidth-
a.width()+this.Ju())/2;a.scrollLeft(c)},iU:function(){this.resize()},TE:function(){var a=this;return this.fu=this.fu.then(function(){if(a.v)return a.trigger("documentUnloaded"),a.yi(!0),Promise.resolve(a.Zc()).then(function(){a.iJ()});a.Cl&&a.Cl.dc();return Promise.resolve()})},iJ:function(){this.v=null;this.fu=Promise.resolve();this.Ea=new b.o.FL(this);this.fa.kJ(this.defaults.DisplayMode);this.yf=this.defaults.FitMode;this.XI=!1;this.DH=[];this.Yb=0;this.links={};this.uf=[];this.$a||(this.$a=Promise.resolve(null));
this.N=new e.qx(null);this.Eb=this.Rd=null;this.margin=4;this.$I=this.aJ=0;this.Ur=new c.ue;this.ed=this.WH=this.rv=null;this.RH=this.HA=this.zl=this.hA=this.loop=!1;this.SH=this.TH=null;this.Wq=!1;this.XJ="rgba(0, 0, 200, 0.3)";this.pB="rgba(255, 255, 0, 0.5)";this.$x="rgba(248, 153, 57, 0.5)";this.zi=new b.o.Am.wp;var a=this;this.zi.GI("DocumentViewer.renderRequest",{read:function(c){c.ly&&a.fa.Nf();a.bW();c=a.fa.Ae();a.Ea.Vo(c);return{Bd:c,hU:a.zT()}},consolidateChanges:function(a){var c=a.filter(function(a){return"pages"===
a.type}),b=a.filter(function(a){return"annotations"===a.type}),e=a.filter(function(a){return"layout"===a.type});a=a.filter(function(a){return"retainScroll"===a.type});var f=[];c.length&&f.push({type:"pages",pages:_.union.apply(null,c.map(function(a){return a.pages||[]})),useVisiblePages:c.some(function(a){return!!a.useVisiblePages}),check:c.every(function(a){return!!a.check})});b.length&&f.push({type:"annotations",pages:_.union.apply(null,b.map(function(a){return a.pages||[]}))});e.length&&f.push({type:"layout",
pages:_.union.apply(null,e.map(function(a){return a.pages||[]}))});return f=f.concat(a)},write:function(c,b){var e={ly:!1};b.forEach(function(b){var f;"pages"===b.type?(f=b.useVisiblePages?_.union(c.Bd,b.pages):_.intersection(c.Bd,b.pages),0<f.length&&(b.check?a.Ea.TN():a.Yj(f))):"annotations"===b.type?(f=_.intersection(c.Bd,b.pages),a.$p=_.difference(a.$p,f),a.Ea.JI(),f.forEach(function(c){a.vj(c)})):"layout"===b.type?(e.ly=!0,f=a.fa.yg().concat(b.pages),b.pages.forEach(function(c){a.N.CB(c,void 0)}),
f.length&&(f.forEach(function(c){a.Ea.Tu(a.N.Af(c))}),a.zi.vi("DocumentViewer.renderRequest",{type:"pages",pages:f})),a.Ea.WB(a.gh())):"retainScroll"===b.type&&a.xW(c.hU)});return e}},{ly:!0},!1);this.Cv=[];this.$p=[];this.Lt=null;this.zE=Promise.resolve()},zT:function(){var a=this.Hn()-1,c=this.Ob(),b=c.scrollLeft()||0,c=c.scrollTop()||0,e=document.getElementById("pageContainer"+a);e&&(b-=e.offsetLeft+e.parentNode.offsetLeft,c-=e.offsetTop+e.parentNode.offsetTop);return{Fb:a,x:b,y:c}},xW:function(a){var c=
document.getElementById("pageContainer"+a.Fb),b=a.x;a=a.y;c&&(b+=c.offsetLeft+c.parentNode.offsetLeft,a+=c.offsetTop+c.parentNode.offsetTop);this.scrollTo(b,a)},TK:function(a){var c={};_.isUndefined(a)||(_.isObject(a)?c=a:c.docId=a);"onError"in c||(c.onError=function(a){throw Error("Error loading document: "+a);});"getPassword"in c||(c.getPassword=function(){throw Error("Document requires a password. If you wish to process this type of document please define a getPassword callback.");});"docId"in
c||(c.docId=null);"workerTransportPromise"in c||("pdf"===c.type?c.workerTransportPromise=e.Qu(c.pdfBackendType,c.workerHandlers,c.l):"office"===c.type&&(c.workerTransportPromise=e.jH(c.officeBackendType,c.workerHandlers,c.l)));return c},BI:function(a){this.zi.vi("DocumentViewer.renderRequest",{type:"layout",pages:a});this.zi.vi("DocumentViewer.renderRequest",{type:"retainScroll"})},JG:function(){return this.zi},PF:function(){for(var a=this.Yb,c=this.Jl,b=a;!_.isUndefined(c[a])||!_.isUndefined(c[b]);){if(!1===
c[a])return a;if(!1===c[b])return b;--b;++a}return null},SF:function(a){var c=this;a=a.pages;c.$G||-1===a.indexOf(1)||(c.trigger("documentReady"),c.$G=!0);var b=c.Ea.PQ();a.forEach(function(a){--a;c.Jl[a]=!0;0<=b.indexOf(a)&&c.vj(a)});var e=c.PF();null===e&&c.trigger("annotationsLoaded");c.Wu=!1;c.$p=c.$p.concat(a.map(function(a){return a-1}));c.Ey(e)},Ey:function(a){this.Wu||(a=_.isUndefined(a)?this.PF():a,null!==a?this.rS([a],this.v):this.Wu=!1)},rS:function(a,c){var b=this;b.Wu=!0;this.Cv=this.Cv.concat(a);
this.Lt||(this.Lt=setTimeout(function(){if(b.Cl===c){var e=b.Cv;b.Cv=[];b.Lt=null;b.QX=b.zE.then(function(){if(b.Cl===c){var a=e.map(function(a){return a+1});b.da.fB(a);for(var f=e.length,m=0;m<f;++m)b.da.tS(e[m]);return b.getDocument().fz(a)}}).then(function(e){return new Promise(function(f){b.Cl===c&&e?e.hasOwnProperty("xfdfString")?b.hI(e.xfdfString,a,function(a){b.Cl!==c||_.isUndefined(a)?f():b.da.hH(a,function(){b.SF(e);f()},b.GP(e.xfdfString===a))}):e.hasOwnProperty("annots")&&(b.da.Ug(e.annots),
b.SF(e),f()):(b.trigger("annotationsLoaded"),f())})})}},20))},fr:function(a,c){var g=this;c=g.TK(c);var l=new b.CoreControls.Document(c.docId,c.type);this.Cl=l;l.tg(g);g.fu.then(function(){return g.$a}).then(function(a){l.Wl(a)}).then(function(){return new Promise(function(b,e){g.$G=!1;g.AE=!1;l.fr(a,function(a){l!==g.Cl?(l.dc(),e(new f)):a?e(a):null!==g.v?b(g.TE().then(function(){return l})):b(l)},{annotationManager:g.da,getPassword:c.getPassword,workerTransportPromise:c.workerTransportPromise,extension:c.extension,
defaultPageSize:c.defaultPageSize,pageSizes:c.pageSizes})})}).then(function(a){g.v=a;var f=a.numPages;g.qZ=f;g.Jl=Array(f);g.Wu=!1;f=a.Po();g.Jl.fill(f?!1:1);f&&g.Ey(0);g.N=new e.qx(a);g.defaults.FitMode===g.Hg.Zoom&&g.N.Ei(g.defaults.Zoom);g.v.on("bookmarksUpdated",function(){g.trigger("bookmarksUpdated")});g.v.on("officeAnnotationsUpdated",function(a,c){g.da.Ug(c);g.da.$k(c)});g.N.on("layoutChanged",g.oS.bind(g));g.N.on("zoomChanged",function(a,c){g.oK=g.Ea.Ag;g.Ea.WB(c)});g.da.HT(g.N);g.trigger("beforeDocumentLoaded");
c.type&&"pdf"===c.type&&b.o.dF!==b.o.jm.Bs||g.Ea.gV(!0);g.Ea.init();g.fa.cE(g.fa.lc());g.JF||(g.JF=!0,g.EN());g.fa.lc().mode!==b.o.Dd.Rf&&(g.N.Ei(g.zt(g.yf)),g.yi(),g.fa.yg(),g.fa.Nf(),g.Yj(),a=g.Ob(),f=(a[0].scrollWidth+g.Ju()-a.innerWidth())/2,a.scrollLeft(f));g.sN=new Promise(function(a){g.off("annotationsLoaded.internal").on("annotationsLoaded.internal",function(){g.AE=!0;a()})});g.trigger("documentLoaded");1.2>=g.v.v.Qf&&g.trigger("documentReady")})["catch"](function(a){if(!(a instanceof f))c.onError(a)})},
HP:function(){return this.sN},Nr:function(a){this.fa.lc().mode!==b.o.Dd.Rf&&this.Ob().css("touch-action",a)},Ob:function(){return $(this.Iu())},Iu:function(){this.bJ||this.yJ(document.getElementById("DocumentViewer"));return this.bJ},yJ:function(a){this.bJ=a},Rc:function(){return $(this.SG())},SG:function(){this.nK||this.BJ(document.getElementById("viewer"));return this.nK},BJ:function(a){this.nK=a},Ju:function(){var a=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>');
$("body").append(a);var c=$("div",a).innerWidth();a.css("overflow-y","auto");var b=$("div",a).innerWidth();$(a).remove();return c-b},Zc:function(){var a=this;if(this.v){var c=this.v;clearTimeout(this.Lt);return this.da.Zc().then(function(){return Promise.all([a.zE,a.zi?a.zi.Zc():null,a.Ea?a.Ea.Zc():null,a.N?a.N.Zc():null])}).then(function(){a.off("documentReady.annotsLoaded");c.off();return c.dc()})}return Promise.resolve()},sd:function(a){var c=this.v.Nq(a);return 90===c||270===c?this.v.ud(a):this.v.sd(a)},
ud:function(a){var c=this.v.Nq(a);return 90===c||270===c?this.v.sd(a):this.v.ud(a)},Oc:function(a){return this.v.Oc(a)},Bb:function(){return this.da},pU:function(a){this.qN=a},GP:function(a){return $.extend({pA:a},this.qN)},DU:function(){},XU:function(a){this.hI=a},WU:function(a){this.fI=a},ME:function(){if(this.fI){for(var a=this.DH,c=this.fa.Ae(0,0),a=_.difference(c,a),b=0;b<a.length;++b)this.fI(a[b]+1);this.DH=c}},ll:function(){return this.fa},gw:function(a,c){b.o.ya.gw(a,c)},ke:function(a){"undefined"!==
typeof a.enableAnnotations&&(this.wq=!!a.enableAnnotations);"undefined"!==typeof a.annotMode&&(this.oN=!!a.annotMode)},gh:function(){return this.N.kg},Du:function(){return this.margin},NG:function(){return this.margin*this.gh()},KU:function(a){this.margin=a},Lu:function(a){return a?this.N.BQ(a-1):this.N.Lu()},Wz:function(a){return a?this.N.CQ(a-1):this.N.Wz()},kV:function(a){this.XJ=a},fV:function(a){this.pB=a.searchResult||this.pB;this.$x=a.activeSearchResult||this.$x},Mu:function(){return this.wa},
$Q:function(){return this.$J},Qq:function(a){return this.$J[a]},de:function(a){return _.isUndefined(a)?this.N.Pu:this.N.vd(a-1).rotation},ye:function(a){var c=this.de(a);if(_.isUndefined(a))return c;a=this.ml(a)/90;return(c+a)%4},eV:function(a,c){var b;0<=a&&3>=a&&(_.isUndefined(c)?(this.N.AB(a),this.N.XN()):(b=c-1,this.N.Mr(b,a)),this.rotate(b))},ml:function(a){--a;return 0>a||_.isNaN(a)?0:this.v.Nq?this.v.Nq(a):0},SU:function(a){var c=this;Object.keys(a).forEach(function(b){c.N.Mr(b,a[b])});this.Wp(this.yf(),
void 0,void 0,!0)},AQ:function(){return this.N.iQ()},getDocument:function(){return this.v},Rq:function(a){var c=null;this.Ea.Ag&&(c=this.fa,c=c.Wn(a,c.dA(this.Ea.Se,this.Ea.Se)));return c},fR:function(a){var c=null;if(a=this.Rq(a))c=a.Ud;return c},No:function(a,c){var e=this.v.zc(a),f=this.ub(a),h=this.fa.Rn(a),k,m=this.Rq(a);m&&(k=m.Ud,h=m.uw);return b.o.ya.No(c,{width:e.width,height:e.height},f,this.de(a+1),h,k,this.ml(a+1)/90)},il:function(a){var c=this.v.zc(a),e=this.ub(a),f=this.fa.Rn(a),h,k=
this.Rq(a);k&&(h=k.Ud,f=k.uw);return b.o.ya.il(a,{width:c.width,height:c.height},e,this.de(a+1),f,h,this.ml(a+1)/90)},bQ:function(){return this.yf},Uz:function(){return this.XI},dV:function(a){this.XI=a},OO:function(a){if(a.url)(new Actions.Vi({uri:a.url})).onTriggered(a,null,this);else a.isValid()?this.un(a.Hf,a.bo,a.Wo):console.warn("Tried to go to invalid bookmark destination")},un:function(a,c,b,e){if(this.fa.lc().Co){this.Hn()!==a&&this.Ge(a);var f=this.ud(a-1),k=this.sd(a-1);a=this.fa.Jf({x:c>
f?0:0>c?0:c,y:b>k?0:0>b?0:b},a-1);c=this.Ob();b=c.offset();if(e&&(e=a.x-b.left-(c.scrollLeft()||0),f=a.y-b.top-(c.scrollTop()||0),0<e&&e<c.outerWidth()&&0<f&&f<c.outerHeight()))return;this.scrollTo(a.x-b.left,a.y-b.top)}else this.trigger("displayPageLocation",[a,b,c,e])},scrollTo:function(a,c){this.Ob().scrollLeft(a).scrollTop(c)},IV:function(a,c,b){if(a!==this.rv||c!==this.WH)this.TH=a,this.SH=c,this.HA=!0,this.RH=b},NV:function(a){var c=!1;if(null===this.rv||this.rv!==a)c=!0;if(null===this.loop||
!0===this.loop)c=!0;this.rv=a;this.ed!==this.Yb&&(this.ed=this.Yb,c=!0);return c},QB:function(a,b,e,f){e=e||!1;this.oB=!1;var h=this,k=!0;this.fF!==a&&(this.fF=a,this.hA=!1);this.uO=b;for(var m=0;m<a.length;++m){var n=a.charCodeAt(m);if(!(1424<=n&&1535>=n||1536<=n&&1791>=n||1872<=n&&1919>=n||64336<=n&&65023>=n||65136<=n&&65279>=n)){k=!1;break}}k&&(a=a.split("").reverse().join(""));h.MZ=h.Yb;if(!0===this.zl)this.IV(a,b,e);else{e?(k=function(){},h.N.xy(),h.Wq=!1):(h.Wq=!0,k=function(a){a.Vv===c.ec.uq?
(h.Sy(a),h.hA=!0):a.Vv===c.ec.al&&(h.hA?h.trigger("notify","endOfDocumentSearch"):h.trigger("notify","noMatchesFound"))});f=f||k;if(e||this.NV(a))e?(k=this.ed=0,m=this.v.numPages-1):0<(b&c.ib.$y)?(m=!0===this.loop?this.v.numPages-1:this.ed,k=0):(k=!0===this.loop?0:this.ed,m=this.v.numPages-1),this.Ur.DN(this.v,a,b,k,m);this.Ur.setMode(b);this.WH=b;this.PV(e,f)}},rI:function(a){null===this.v.Nz(a)&&this.v.lh(a,function(){})},Tr:function(){this.trigger("searchInProgress",[this.zl,!this.Wq])},PV:function(a,
b){function e(){function g(){m=[];k=h.Ur.run(m);n=k.Vv;k.AZ=m;var e=k;e.ambient_str=k.vE;e.result_str=k.lB;e.result_str_start=k.WI;e.result_str_end=k.VI;e.page_num=k.UA;e.resultCode=n;e.quads=m;if(h.oB)h.oB=!1,h.zl=!1,h.Tr();else if(!0===h.HA)h.HA=!1,h.zl=!1,h.Tr(),setTimeout(function(){h.QB(h.TH,h.SH,h.RH,b)},0);else{if(n===c.ec.iu){var q,v;if(h.Ur.jh()){if(0<h.ed)for(h.ed--,v=0;3>v;++v)q=h.ed-v,0<q&&h.rI(q)}else if(h.ed<h.v.numPages-1)for(h.ed++,v=0;3>v;++v)q=h.ed+v,q<h.v.numPages-1&&h.rI(q)}else n!==
c.ec.uq||a||(h.N.zy(),h.N.tJ(k.UA,k.lB));b(e);n===c.ec.al||!a&&n===c.ec.uq?(h.zl=!1,h.Tr()):null!==h.v.Nz(h.ed)?setTimeout(g,0):h.v.lh(h.ed,f)}}var n=-1;null!==h.v.Nz(h.ed)?setTimeout(g,0):h.v.lh(h.ed,f)}function f(a){n===h.v&&(h.v.UU(h.ed,a),e())}var h=this;this.zl=!0;this.Tr();!0===this.loop&&(h.ed=this.Ur.jh()?this.v.numPages-1:0,this.loop=!1);var k,m=[],n=this.v;e()},BH:function(a,c){a!==this.Yb&&this.Ge(a+1);if(0<c.length){c=c.map(function(a){return a.fh?a.fh():a});for(var b=c[0].y4,e=c[0].x4,
f=c[0].y2,k=c[0].x2,m=1;m<c.length;m++)c[m].x4<e&&(e=c[m].x4),c[m].y4<b&&(b=c[m].y4),c[m].x2>k&&(k=c[m].x2),c[m].y2>f&&(f=c[m].y2);var m=this.Ob(),n=m.offset(),r=n.top+(m.scrollTop()||0),p=r+m.innerHeight(),n=n.left+(m.scrollLeft()||0),u=n+m.innerWidth(),b=this.fa.Jf({x:e,y:b},a),q=this.fa.Jf({x:k,y:f},a),k=b.x<q.x?b.x:q.x,f=b.y<q.y?b.y:q.y,e=b.x>q.x?b.x:q.x,b=b.y>q.y?b.y:q.y;if(k<n||f<r||e>u||b>p)r=e-k,p=b-f,r=k-m.innerWidth()/2+r/2-m.offset().left,m=f-m.innerHeight()/2+p/2-m.offset().top,this.scrollTo(r,
m)}},CH:function(a,c){var b=a.page_num;"undefined"!==typeof c?c(b,a.quads):this.BH(b,a.quads)},Sy:function(a,c){var b=this;this.Wq=!0;this.jE=a;this.Uo(function(){var e=a.page_num;b.N.xy();b.N.TU(e,a);b.CH(a,c)})},NO:function(a){var c=this;this.Uo(function(){c.N.eW(a.page_num,a)})},nU:function(a){this.Wq?this.Sy(a):(this.jE=a,this.CH(a),this.Uo())},$N:function(){var a=this;this.Uo(function(){a.N.xy()});this.oB=!0},dJ:function(a,b,e){var f=new c.Na;f.Fa(b.x,b.y,b.x+1,b.y+1);var h=this,k=new c.Ti(this.v),
m=this.v;m.lh(a,function(){m===h.v&&(k.aE(a,f),h.io=k.aE,h.wi=[[a,f]],e(a,k.ce(),k.Pa))})},Eo:function(a,b,e){if(b.constructor!==c.Na){var f=new c.Na;f.Fa(b.x1,b.y1,b.x2,b.y2);b=f}var h=this,k=new c.Ti(this.v),m=this.v;m.lh(a,function(){if(m===h.v){"rectangular"===Tools.Wb.SELECTION_MODE?k.eJ(a,b):k.cJ(a,b);var c=k.Pa,f=k.ce();e&&e(a,f,c)}})},Hv:function(a,c,b){this.N.tJ(a,b);this.N.VU(a,c);this.trigger("textSelected",[c,b,a]);this.Uo()},Xy:function(a){this.dH(a-1)},eH:function(a,c,b){for(var e=0;e<
c.length;e++){var f=c[e];f.fh&&(f=f.fh());a.fillStyle=b;a.beginPath();a.moveTo(f.x1,f.y1);a.lineTo(f.x2,f.y2);a.lineTo(f.x3,f.y3);a.lineTo(f.x4,f.y4);a.closePath();a.fill()}},AR:function(a,c){var b=this.N.vd(a).wg;if(b&&0!==b.length){var e=c.getContext("2d");this.eH(e,b,this.XJ);var f={ce:function(){return b.map(function(a){return a.fh()})}},k=this.N.zQ(),m=!1,n=!1;a===k[0]&&(m=!0);a===k[k.length-1]&&(n=!0);e.save();k=new Annotations.Ui(f,!0,!1,m,n);m=this.Oc(a);k.draw(e,f,this.ub(a),m);e.restore()}},
zR:function(a,c){var b=this.N.vd(a).Ci;if(b&&0!==b.length){var e=c.getContext("2d"),f=this;b.forEach(function(a){f.eH(e,a.quads,a===f.jE?f.$x:f.pB)})}},dH:function(a,c){c=c||this.il(a);null!==c&&(this.AR(a,c),this.zR(a,c))},Uo:function(a){var c=this.N.EG();a&&a();a=this.N.EG();c=_.uniq(c.concat(a));for(a=0;a<c.length;++a)this.da.Pd(c[a]+1)},select:function(a,b){if(null!==this.Rd&&null!==this.Eb||a||b){this.N.zy();var e;a&&b?(a.Fb=a.pageIndex,a.x=a.x,a.y=a.y,b.Fb=b.pageIndex,b.x=b.x,b.y=b.y,e={first:a.Fb,
last:b.Fb}):(console.error("deprecated"),e=this.fa.Ku());var f=e.first;e=e.last;if(null!==f&&null!==e){var h=new c.Na,k=a||this.fa.ak(this.Rd,f),m=b||this.fa.ak(this.Eb,f),n;k.y>m.y&&(n=k,k=m,m=n);n=this.ud(f);var r=this.sd(f);1<=e-f?h.Fa(k.x,k.y,n,r):h.Fa(k.x,k.y,m.x,m.y);this.Eo(f,h,_.bind(this.Hv,this));for(k=f+1;k<e;k++)h=new c.Na,n=this.ud(k),r=this.sd(k),h.Fa(0,0,n,r),this.Eo(k,h,_.bind(this.Hv,this));f!==e&&(k=a||this.fa.ak(this.Rd,e),m=b||this.fa.ak(this.Eb,e),k.y>m.y&&(m=k),h=new c.Na,h.Fa(0,
0,m.x,m.y),this.Eo(e,h,_.bind(this.Hv,this)))}}},aO:function(a){if(0!==this.Lu().length||this.N.xQ(a)){var c=this.il(a);null!==c&&(b.o.ya.mq(c,this.ud(a),this.sd(a)),this.wq&&this.da.Pd(a+1))}},RE:function(){this.N.zy();this.N.QE()},oq:function(){var a=this;this.Uo(function(){a.RE();a.trigger("textSelected",[null,""]);a.Mu()instanceof Tools.Cm&&a.Mu().oq()})},PP:function(a,c,e){var f=[],h=a-1;a=this.N.Af(h);if((a=this.Ea.Nc(a))&&a.je)for(c=this.Vz({x:c,y:e},h),e=a.Ud?this.Vz({x:a.Ud.x1,y:a.Ud.y1},
h):{x:0,y:0},h=b.utils.getCanvasMultiplier(),c.x*=h,c.y*=h,e.x*=h,e.y*=h,c=Math.round(c.y-e.y)*a.je.width+Math.round(c.x-e.x),a=a.je.data,e=0;e<a.length;++e)if(h=a[e],"Alpha"!==h.name){var k=new Uint8Array(h.data);c<k.length&&0<=c&&f.push({name:h.name,value:Math.round(k[c]/255*100)})}return f},Vz:function(a,c){var e=this.ub(c),f=this.ye(c+1);a=b.ld(e,f,{width:this.ud(c),height:this.sd(c)},null,!1).W(a);return{x:a.x,y:a.y}},SQ:function(a,c){var e=this.ub(c),f=this.de(c+1);a=b.ld(e,f,this.v.zc(c),0,
!1).W(a);return{x:a.x,y:a.y}},Hg:{Xw:function(){var a=this.Ju(),c=this.Ob(),b;b=1===this.fa.lc().Qb?this.N.vd(this.Yb).width:this.fa.sn().Ba()/this.gh();return parseFloat(c.innerWidth()-a)/(b+1+this.Du()*this.fa.lc().Qb*2)},lC:function(){var a=this.Ob(),c=this.N.vd(this.Yb),b=parseFloat(a.innerHeight())/(c.height+2*this.Du()),c=1===this.fa.lc().Qb?c.width:this.fa.sn().Ba()/this.gh(),a=parseFloat(a.innerWidth()-this.Ju())/(c+1+this.Du()*this.fa.lc().Qb*2);return b<a?b:a},Zoom:function(){this.ey();
return this.N.kg}},iw:function(a){if(a&&this.wa!==a){a instanceof Tools.fk||a instanceof Tools.Cm||a instanceof Tools.tp||this.oq();var c;this.wa&&(this.wa.switchOut&&this.wa.switchOut(a),c=this.wa);a.switchIn&&a.switchIn(this.wa);this.wa=a;this.trigger("toolModeUpdated",[a,c])}},iW:function(){var a=this.Ob();this.aJ=parseFloat(a.scrollTop())/a[0].scrollHeight;this.$I=parseFloat(a.scrollLeft()+a.innerWidth()/2)/a[0].scrollWidth},hW:function(){var a=this.Ob(),c=this.aJ*a[0].scrollHeight,a=this.$I*
a[0].scrollWidth-a.innerWidth()/2;this.scrollTo(a,c)},zB:function(a){null===this.v?(this.yf=a,this.trigger("fitModeUpdated",this.yf)):(a=this.zt(a),this.fa.lc().mode===b.o.Dd.Rf?this.N.Ei(a):a!==this.N.kg&&(this.Wp(a),this.ry()))},zt:function(a){this.yf=a;a=this.yf();this.trigger("fitModeUpdated",this.yf);return a},rotate:function(a){var c;_.isUndefined(a)||(c=a+1);this.Wp(this.yf(),void 0,void 0,!0);this.trigger("rotationUpdated",[this.ye(c),c])},Vn:function(a,c){return c?(a+1)%4:(a-1+4)%4},YT:function(a){var c=
this,b;_.isUndefined(a)?(this.N.AB(this.Vn(this.de(),!0)),this.N.XF(function(a){a.rotation=c.Vn(a.rotation,!0)})):(b=a-1,this.N.Mr(b,this.Vn(this.de(a),!0)));this.rotate(b)},ZT:function(a){var c=this,b;_.isUndefined(a)?(this.N.AB(this.Vn(this.de(),!1)),this.N.XF(function(a){a.rotation=c.Vn(a.rotation,!1)})):(b=a-1,this.N.Mr(b,this.Vn(this.de(a),!1)));this.rotate(b)},Wp:function(a,c,b,e){this.N.Ei(a);this.fa.lc().Co&&("undefined"!==typeof c&&"undefined"!==typeof b?(this.yi(!1,e,!0),this.fa.yg(),this.fa.Nf(),
this.scrollTo(c,b)):(this.iW(),this.yi(!1,e,!0),this.fa.yg(),this.fa.Nf(),this.hW()),this.Ea.uy(),this.Yj(),this.trigger("zoomUpdated",this.N.kg))},dC:function(a,c,b){this.zt(this.Hg.Zoom);null===this.v?(this.N.Ei(a),this.trigger("zoomUpdated",a)):this.Wp(a,c,b)},IW:function(a,c,b){this.zt(this.Hg.Zoom);this.N.Ei(a);a=this.Ob();c=this.Eb.x-c;b=this.Eb.y-b;var e=(parseFloat(a.scrollTop())+b)/a[0].scrollHeight,f=(parseFloat(a.scrollLeft())+c)/a[0].scrollWidth;this.yi(!1,!1,!0);this.fa.yg();this.fa.Nf();
this.scrollTo(f*a[0].scrollWidth-c,e*a[0].scrollHeight-b);this.Yj();this.trigger("zoomUpdated",this.N.kg)},ub:function(a){return this.N.vd(a).zoom},fw:function(a,c){var b=this.N.Af(a);this.Ea.JW(b);this.N.fw(a,c)},yi:function(a,c,e){this.Ea.jO(this.N.kg,c);this.links=[];if(this.fa.lc().mode!==b.o.Dd.Rf){var f=this.Ea.Bd;if(!c)for(var h=0;h<f.length;h++){var k=f[h],m;m=this.oK?$("#pageContainer"+k).find("#hrthumb"+k):$("#pageContainer"+k).find(".canvas"+k+":not(.progressive)");0<m.length&&this.N.CB(k,
m)}e&&!c||this.N.YN()}this.fa.Er(!a)},JT:function(a){if(this.fa.lc().Co){var c=$("#pageContainer"+a),e=$(document.activeElement);0<e.closest("#pageWidgetContainer"+a).length&&e.trigger("focusout");c.children().detach();b.o.ya.ty(a)}a in this.links&&delete this.links[a]},yt:function(a){if(0>a||a>=this.N.J.length)return!1;this.Yb!==a&&(this.Yb=a,this.trigger("pageNumberUpdated",a+1));return!0},Ge:function(a){if(!this.fa.lc().Co)this.trigger("changePage",a);else if(!1!==this.yt(parseInt(a,10)-1)){this.eF=
!0;a=this.Yb;var c=this.fa.lc();c.sA()||c.mode===b.o.Dd.Rf||(this.fa.lc().mode===b.o.Dd.gs&&a++,c.Nd=Math.floor(parseFloat(a)/c.Qb),c.fd=c.Nd,c.gg=c.Nd+1,this.yi(),this.fa.yg(),this.fa.Nf());a=this.v.zc(this.Yb);0<this.ml(this.Yb)/90%2&&(c=a.width,a.width=a.height,a.height=c);var c=this.fa.Jf({x:0,y:0},this.Yb),e=this.fa.Jf({x:a.width,y:a.height},this.Yb);a=c.x<e.x?c.x:e.x;c=c.y<e.y?c.y:e.y;e=this.Ob().offset();this.scrollTo(a-e.left,c-this.NG()-e.top);this.Yj()}},Hn:function(){return this.Yb+1},
Db:function(){return this.v.numPages},QO:function(){this.Ge(this.N.J.length)},PO:function(){this.Ge(1)},ey:function(a){a=a||this.fa.sn().xa();var c=0,b=document.getElementById("docpad");if(null!==b){var e=this.Iu(),e=e?parseFloat(e.style.height):0;e>a&&(c=Math.floor((e-a)/2));b.style.marginBottom=parseInt(c,10)+"px"}},yN:function(a,c){var e=this.ub(c),f=this.N.vd(c),h=this.de(c+1),k=Math.floor(f.width*e),e=Math.floor(f.height*e),f=null;h===b.o.Ra.Xe||h===b.o.Ra.fg?(f="rotate("+90*h+"deg)",f=h===b.o.Ra.Xe?
" translate("+k+"px, 0)  "+f:" translate(0,"+e+"px)  "+f,a.css("height",k),a.css("width",e)):(h===b.o.Ra.tq&&(f="translate("+k+"px,"+e+"px) scale(-1,-1)"),a.css("width",k),a.css("height",e));null!==f&&a.css({position:"absolute",transform:f,"transform-origin":"top left","ms-transform":f,"ms-transform-origin":"top left","-moz-transform":f,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":f,"-o-transform":f,"-o-transform-origin":"top left"})},BE:function(a,
c,e,f){this.trigger("appendThumb",c);a.id=(f?"hrthumb":"thumb")+c;a.style.position="absolute";var h=$(a);this.yN(h,c);e&&(h.css("z-index",f?"10":"7"),e=$("#pageContainer"+c),0<e.length?0===e.find("#"+a.id).length&&e.prepend(a):b.utils.warn("appendThumb: Page container "+c+" missing"))},vj:function(a){this.Mt(a);this.aO(a);this.oO(a);this.dW(a);this.da.Pd(a+1,void 0,!0);var c=b.o.ya;2===c.Sj&&c.Bj(a)===c.Bj(a+1)&&a+2<=this.Db()&&this.da.Pd(a+2)},cq:function(a,c){var e=this.N.vd(c).Ce;(e=b.o.ya.cq(a,
c,e))||b.utils.warn("appendAllCanvas: Page container for page "+c+" does not exist.");return e},Mt:function(a){var c,e=this.Rq(a);e&&(c=e.Ud);var e=this.v.zc(a),f=this.ml(a+1);if(90===f||270===f)f=e.width,e.width=e.height,e.height=f;b.o.ya.Mt(a,e,this.ub(a),this.ye(a+1),c)},rn:function(a){var c,e=this.Rq(a);e&&(c=e.Ud);var e=this.v.zc(a),f=this.ml(a+1);if(90===f||270===f)f=e.width,e.width=e.height,e.height=f;return b.o.ya.rn(a,e,this.ub(a),this.ye(a+1),c)},Mv:function(a,c){var e=this.Pn(a);b.o.ya.Mv(a,
c,e)},Xv:function(a,c){b.o.ya.Xv(a,c)},oO:function(a){var c=this.v.zc(a),e=c.width,c=c.height,f=this.v.Nq(a);if(90===f||270===f)f=e,e=c,c=f;var f=this.ub(a),e=e*f,c=c*f,h=b.ld(1,this.ye(a+1),{width:e,height:c},void 0,!1),f=$("#pageWidgetContainer"+a);0===f.length&&(f=$('<div id="pageWidgetContainer'+a+'" />'),b.o.ya.UG(a).append(f));h="matrix("+h.m_a.toFixed(10)+","+h.m_b.toFixed(10)+","+h.m_c.toFixed(10)+","+h.m_d.toFixed(10)+","+h.m_h.toFixed(10)+","+h.m_v.toFixed(10)+")";a=this.fa.Lz(a);f.css({position:"absolute",
top:a.y,left:a.x,width:e,height:c,"z-index":40,transform:h,"transform-origin":"top left","-webkit-transform":h,"-webkit-transform-origin":"top left","-ms-transform":h,"-ms-transform-origin":"top left","-moz-transform":h,"-moz-transform-origin":"top left",overflow:"hidden"});return f},Pn:function(a){return this.N.vd(a)},FT:function(){this.trigger("layoutChanged",{contentChanged:_.range(1,this.Db()+1),removed:[],added:[],moved:{}});this.Ea.uy()},CI:function(a){this.trigger("layoutChanged",{contentChanged:[a],
removed:[],added:[],moved:{}});this.Ea.Tu(this.Pn(a-1).id)},dW:function(a){a=this.v.vQ(a);_.isArray(a)&&this.da.Ug(a,!0)},Yj:function(a,c){_.isUndefined(c)||this.yt(c);this.Vo(a);this.Ea.mF(a);this.ME()},Vo:function(a){a=a||this.fa.Ae();var c=this.Ea.AN(a);this.Ea.Vo(a);c&&this.trigger("visiblePagesChanged",[a])},Qo:function(a){this.Ea.Qo(a)},onscroll:function(){this.v&&this.zi.vi("DocumentViewer.renderRequest",{type:"pages",useVisiblePages:!0,check:!0});this.ME()},uR:function(a){return 0<$("#pageContainer"+
a).find("#thumb"+a).length},rR:function(a){return 0<$("#pageContainer"+a).find("#hrthumb"+a).length},bW:function(){if(this.eF)this.eF=!1;else{var a=0,c;this.Vo();for(var e=this.Ea.Bd,f=0;f<e.length;f++){var h=this.Ob(),k=h.scrollTop()||0,m=k+h.innerHeight(),n=h.scrollLeft()||0,h=n+h.innerWidth(),m={x1:n,y1:k,x2:h,y2:m},h=e[f];0>h||(k=this.v.zc(h),n=this.fa.Jf({x:0,y:0},h),h=this.fa.Jf({x:k.width,y:k.height},h),m=b.utils.getRectIntersection(m,{x1:n.x<h.x?n.x:h.x,y1:n.y<h.y?n.y:h.y,x2:n.x>h.x?n.x:h.x,
y2:n.y>h.y?n.y:h.y}),k=parseFloat((m.x2-m.x1)*(m.y2-m.y1))/(k.width*k.height),k>a&&(c=e[f],a=k))}0<a&&this.yt(c)}},HB:function(a){this.Ea.HB(a)},xJ:function(){},oS:function(a,c){var b=this;b.BI(c.contentChanged.map(function(a){return a-1}));var e=!1,f=c.added;0<f.length&&(f.forEach(function(a){b.Jl.splice(a-1,0,!1)}),e=!0);f=c.removed;0<f.length&&(f.reverse().forEach(function(a){b.Jl.splice(a-1,1)}),b.Ea.eK(b.v.Qn()),e=!0,b.Yb>=b.Db()&&b.yt(b.Db()-1));if(e){b.Ea.ZN();var k=b.Ob(),f=k.offset(),k=b.fa.ak({x:(k.scrollLeft()||
0)+f.left,y:(k.scrollTop()||0)+f.top},b.Yb);b.fa.wC();b.fa.yg();b.fa.Nf();k=b.fa.Jf(k,b.Yb);b.scrollTo(k.x-f.left,k.y-f.top);b.Yj()}f=c.contentChanged;(k=0<f.length)&&f.forEach(function(a){1===b.Jl[a-1]&&(b.Jl[a-1]=!1)});(e||k)&&b.Ey();b.trigger("layoutChanged",[c])},Wl:function(a){this.$a=Promise.resolve(a);if(this.v){var c=this;this.$a.then(function(a){c.v.Wl(a)})}},TG:function(){return this.$a}};$.extend(e.aa.prototype,b.utils.eventHandler);Object.defineProperty(e.aa.prototype,"zoom",{get:function(){return this.gh()},
set:function(a){this.N.Ei(a)}});b.o=b.o||{}})(window);window.o.aa.prototype.version="4.2.0.69441";
(function(b){var f=b.Annotations||{};b.Annotations=f;f.O=f.O||{};f.O.getUsableInputWidth=function(b){return b};f.O.ik=function(b){this.da=b;this.init()};f.O.ik.prototype={init:function(){this.nb={};this.ny=[];this.Hx=!1;this.Oo=this.rD=!0},sU:function(b){this.ny=b},Cb:function(b){if(!b)return null;b=b.split(".");var c=this.nb[b[0]];if(c)for(var a=1;a<b.length&&(c=c.sz(b[a]),c);++a);return c?c:null},Gt:function(b,c){if(c){var a=this.Fu(b.name);a.set(b);b=a;b.widgets.forEach(function(a){a.mJ(b)});b.off("change")}else a=
b.name.split("."),1===a.length?this.nb[b.name]=b:this.Fu(a.slice(0,-1).join(".")).nE(new f.O.ga(b.name,b));b.set({fieldManager:this});this.da&&b.tg(this.da.u);b.on("change",_.bind(this.hz,this));return b},hq:function(b,c){if(!this.Hx&&this.Oo){this.Hx=!0;var a=this.ny;if(!c||this.rD)c=0,this.rD=!1;for(var d=c;d<a.length;++d){var f=a[d],l=this.Cb(f);l?l.trigger("calculate",[b]):console.warn("Non-existent field referenced in calculation order",f,l)}this.Hx=!1}},hz:function(b,c){this.hq(c,0);this.da.trigger("fieldChanged",
[c,c.value])},Fu:function(e){if(!e)return null;e=e.split(".");var c=this.nb[e[0]];c||(c=new b.Annotations.O.ga(e[0],{fieldManager:this}),c.on("change",_.bind(this.hz,this)),this.nb[e[0]]=c);for(var a=1;a<e.length;++a){var d=e[a],f=c.sz(d);f?c=f:(f=new b.Annotations.O.ga(c.name+"."+d,{fieldManager:this}),c.nE(f),c=f,c.on("change",_.bind(this.hz,this)))}this.da&&c.tg(this.da.u);return c},Xr:function(b){this.Fn(function(c){c.XB(b)})},Fn:function(b){var c=this;Object.keys(this.nb).forEach(function(a){b(c.nb[a])})},
Zc:function(){this.Fn(function(b){b.off()});this.init()}}})(window);
(function(b){b.Annotations||(b.Annotations={});var f=b.Annotations;f.O=f.O||{};f.O.ga=function(e,c){if(c instanceof f.O.ga)return c;b.Actions.yh.call(this,c);this.uc=e;this.mf=[];this.ij=[];this.Jk=!1;this.Yg=null;this.Mm=new f.Ig;this.fc=new f.Wi({mask:["ReadOnly","Required","NoExport"]});this.rf=-1;this.gc||(this.gc=new f.O.ga.Ub(this));this.initialize(c);this.on("calculate",_.bind(this.hq,this));this.on("commit",_.bind(this.By,this))};f.O.ga.prototype={initialize:function(b){_.isObject(b)&&(b.type&&
this.zJ(b.type),_.isArray(b.children)&&$.extend(this.mf,b.children),b.widgets&&$.extend(this.ij,b.widgets),b.fieldManager&&(this.Yg=b.fieldManager),b.font&&this.Mm.set(b.font),_.isUndefined(b.maxLen)||(this.rf=Number(b.maxLen)),this.gc.set(b))},set:function(b){this.initialize(b);_.isObject(b)&&_.isObject(b.actions)&&this.Et(b.actions,!0)},YF:function(b){this.ij.forEach(b)},zJ:function(b){"Tx"===b?this.gc=new f.O.ga.lx(this,this.gc):"Ch"===b?this.gc=new f.O.ga.Mw(this,this.gc):"Btn"===b?this.gc=new f.O.ga.Kw(this,
this.gc):"Sig"===b?this.gc=new f.O.ga.ix(this,this.gc):console.warn("Unrecognised field type: "+b);this.Bt=b},Mf:function(b){this.ij.forEach(function(c){c.Mf(b)})},kG:function(){return this.mf},eS:function(){return 0===this.mf.length},nN:function(b,c){-1===this.ij.indexOf(b)&&(_.isUndefined(c)?this.ij.push(b):this.ij[c]=b)},mg:function(b){this.gc.mg(b)},Gb:function(b,c){this.gc.Gb(b,c)},Va:function(){return this.gc.Va()},Fq:function(){return this.gc.Fq()},ke:function(b){this.gc.ke(b)},It:function(b,
c){this.gc.It(b,c)},eh:function(){return this.gc.eh()},bw:function(b){this.gc.bw(b)},Dq:function(){return this.gc.Dq()},Oz:function(){var b=this.uc.split(".");return b[b.length-1]},DQ:function(){var b,c=this.uc.split(".");1<c.length&&(b=c.slice(0,c.length-1).join("."));return b},XB:function(b,c){var a=this.Oz();(c=(c?c+".":"")+a)||(c="");if(this.eS()){if(b.ur){var d=!0;b.mu&&(b.mu(this)||(d=!1));d&&b.ur(c,a,this)}}else{var f;b.mu?(f=[],this.mf.forEach(function(a){b.mu(a)&&f.push(a)})):f=this.mf;0<
f.length&&(b.uv&&b.uv(c,a,this),f.forEach(function(a){a.XB(b,c)}),b.NA&&b.NA(c,a,this))}},sz:function(b){for(var c=this.mf,a=c.length,d=0;d<a;++d){var f=c[d];if(f.Oz()===b)return f}if(b.match(/^\d+$/))return this.ij[parseInt(b,10)]},removeChild:function(b){b=this.mf.indexOf(b);-1!==b&&this.mf.splice(b,1)},nE:function(b){var c=this.sz(b.Oz());c&&this.removeChild(c);this.mf.push(b)},TI:function(){this.Gb(this.Dq())},hq:function(e,c){var a=new b.Annotations.O.vb.Events.ga.create("Calculate",this,{value:this.value,
source:c,rc:!0}),d=this.Va();this.Ie("C",a);var f=this.fZ;this.rf=-1;var l=a.value;a.rc&&l!==d&&this.Gb(l);this.rf=f},Lv:function(){this.YF(function(b){b.refresh()})},By:function(e,c,a){e=b.Annotations.O.vb.Events.ga.create("Keystroke",this,{value:c,change:"",willCommit:!0,selStart:-1,selEnd:-1});this.Ie("K",e);e.rc&&(c=b.Annotations.O.vb.Events.In(e),e=new b.Annotations.O.vb.Events.ga.create("Validate",this,{value:c}),this.Ie("V",e),e.rc&&this.Gb(e.value,a))},He:function(b){this.gc.He(b)}};$.extend(f.O.ga.prototype,
Object.create(b.utils.eventHandler));Object.defineProperties(f.O.ga.prototype,{name:{get:function(){return this.uc}},value:{get:function(){return this.Va()},set:function(b){this.Gb(b)}},widgets:{get:function(){return this.ij}},children:{get:function(){return this.mf}},options:{get:function(){return this.eh()},set:function(b){this.ke(b)}},exportValue:{get:function(){return this.Fq()}},actions:{get:function(){return this.xj()}},defaultValue:{get:function(){return this.Dq()},set:function(b){this.bw(b)}},
flags:{get:function(){return this.gc.fc}},IsModified:{set:function(b){b!==this.Jk&&this.mf.forEach(function(c){c.IsModified=b});this.Jk=b},get:function(){return this.Jk||this.mf.reduce(function(b,c){return b||c.IsModified},!1)}},font:{get:function(){return this.Mm}},maxLen:{get:function(){return this.rf},set:function(b){this.rf=Number(b);0<this.rf&&this.Gb(this.Va())}},type:{get:function(){return this.Bt}},userName:{get:function(){return this.XM},set:function(b){this.XM=b}}});$.extend(f.O.ga.prototype,
b.Actions.yh.prototype);f.O.ga.Ub=function(b){this.Ha=b;this._value=this.Bx="";this.fc=new f.Wi({mask:["ReadOnly","Required","NoExport"]})};f.O.ga.Ub.prototype={Gb:function(e,c){var a=this.Ha,d=typeof e;"number"===d?e=b.Annotations.ba.toFixed(e,6):e&&"string"!==d&&(e=e.toString());d=this._value!==e;this.He(e);d&&(e=this._value,this.GB(e,c),a.IsModified=!0,a.trigger("change",[a]))},GB:function(b){this.Ha.YF(function(c){c.Gb(b)})},He:function(b){this._value=b},mg:function(b){this.He(b)},set:function(b){_.isObject(b)&&
(_.isNull(b.value)||_.isUndefined(b.value)||(this._value=b.value),_.isNull(b.defaultValue)||_.isUndefined(b.defaultValue)||(this.Bx=b.defaultValue),b.flags&&(_.isArray(b.flags)?this.fc.set(b.flags,!0):_.isObject(b.flags)&&this.fc.set(b.flags.toArray(),!0)))},Va:function(){return this._value},Dq:function(){return this.Bx},bw:function(b){this.Bx=b},It:function(){},eh:function(){return null},ke:function(){},Fq:function(){return this._value}};Object.defineProperties(f.O.ga.Ub.prototype,{value:{get:function(){return this.Va()},
set:function(b){this.Gb(b)}},defaultValue:{get:function(){return this.Dq()},set:function(b){this.bw(b)}}});f.O.ga.lx=function(b,c){if(c instanceof f.O.ga.lx)return c;f.O.ga.Ub.call(this,b);this.fc.yq("Multiline Password FileSelect DoNotSpellCheck DoNotScroll Comb RichText".split(" "));this.set(c)};f.O.ga.lx.prototype=$.extend(Object.create(f.O.ga.Ub.prototype),{He:function(b){var c=this.Ha.maxLen;0<c&&!_.isNull(b)&&(b=String(b),b.length>c&&(b=b.slice(0,c)));f.O.ga.Ub.prototype.He.call(this,b)}});
f.O.ga.Mw=function(b,c){if(c instanceof f.O.ga.Mw)return c;f.O.ga.Ub.call(this,b);this.fc.yq("Combo Edit Sort MultiSelect DoNotSpellCheck CommitOnSelChange".split(" "));this.ag=[];this.set(c)};f.O.ga.Mw.prototype=$.extend(Object.create(f.O.ga.Ub.prototype),{set:function(b){_.isObject(b)&&b.options&&this.ke(b.options);f.O.ga.Ub.prototype.set.call(this,b)},tQ:function(b){for(var c=0;c<this.ag.length;++c){var a=this.ag[c];if(a.value===b)return a}return null},He:function(b){b=b.replace(/\n/g," ");this.fc.get("Edit")||
!_.isNull(this.tQ(b))?f.O.ga.Ub.prototype.He.call(this,b):f.O.ga.Ub.prototype.He.call(this,null)},eh:function(){return this.ag},It:function(b,c){for(var a=this.ag,d=0;d<a.length;++d)if(a[d].value===a.value)return;this.ag.splice(c,0,b);this.fc.get("Combo")||this.Gb(b.value)},ke:function(b){this.ag=b.map(function(c){var a=c.value;c=c.displayValue;return{value:a,displayValue:_.isUndefined(c)?a:c}})}});f.O.ga.Kw=function(b,c){if(c instanceof f.O.ga.Kw)return c;f.O.ga.Ub.call(this,b);this.fc.yq(["NoToggleToOff",
"Radio","PushButton","RadiosInUnison"]);this.ag=null;this.set(c);""===this._value&&(this._value="Off")};f.O.ga.Kw.prototype=$.extend(Object.create(f.O.ga.Ub.prototype),{set:function(b){f.O.ga.Ub.prototype.set.call(this,b);_.isObject(b)&&b.options&&this.ke(b.options)},eh:function(){return this.ag},mg:function(b){(""===this._value||"Off"!==b||this.Ha.widgets.every(function(c){return!c.appearance}))&&f.O.ga.Ub.prototype.mg.call(this,b)},He:function(b){"Off"!==b?""===b?f.O.ga.Ub.prototype.He.call(this,
"Off"):f.O.ga.Ub.prototype.He.call(this,b):this.fc.get("NoToggleToOff")&&this.fc.get("Radio")||f.O.ga.Ub.prototype.He.call(this,b)},Fq:function(){return this.ag?this.ag[Number(this.Va())]:f.O.ga.Ub.prototype.Fq.call(this)},ke:function(b){this.ag=b.slice()},GB:function(b,c){f.O.ga.Ub.prototype.GB.call(this,b,c)}});f.O.ga.ix=function(b,c){if(c instanceof f.O.ga.ix)return c;f.O.ga.Ub.call(this,b);this.set(c)};f.O.ga.ix.prototype=$.extend(Object.create(f.O.ga.Ub.prototype),{})})(window);
(function(b){function f(a){return _.isArray(a)?a.map(f).join(" "):_.isNumber(a)?a.toString():_.escape(String(a))}function e(a,c,b,e){b!==e&&a.writeAttributeString(c,f(b))}function c(a,c,b){var d=b.Gr||[];b=b.no||{};for(var g=0;g<d.length;++g){var h=d[g],l=c[h];_.isUndefined(c)?console.warn("Required attribute: "+h+" is undefined"):a.writeAttributeString(h,f(l))}for(var k in b)b.hasOwnProperty(k)&&e(a,k,c[k],b[k])}function a(a,b,g,h){h=h||"actions";var l=Object.keys(b);if(0<l.length){a.writeStartElement(h);
for(h=0;h<l.length;++h)a.writeStartElement("action"),a.writeAttributeString("trigger",_.escape(l[h])),b[l[h]].forEach(function(b){var h=b.name;switch(h){case "JavaScript":a.writeStartElement("javascript");a.writeString(f(b.javascript));a.writeEndElement();break;case "ResetForm":a.writeStartElement("reset-form");c(a,b,{Gr:["exclude"]});b.fields&&d(a,b.fields);a.writeEndElement();break;case "SubmitForm":a.writeStartElement("submit-form");c(a,b,{Gr:["url","format"],no:{method:"POST",exclude:!1}});h=
b.flags.toArray();0<h.length&&a.writeAttributeString("flags",f(h));b=b.fields;0<b.length&&d(a,b);a.writeEndElement();break;case "GoTo":a.writeStartElement("goto");a.writeStartElement("dest");b=b.dest;c(a,b,{Gr:["fit","page"],no:{zoom:void 0}});var l=g(b.page).inverse(),h=b.top||0,k=b.left||0,n=b.bottom||0,p=b.right||0,k=l.W({x:k,y:h}),l=l.W({x:p,y:n}),h=_.isUndefined(b.top)?null:k.y,k=_.isUndefined(b.left)?null:k.x,p=_.isUndefined(b.right)?null:l.x,n=_.isUndefined(b.bottom)?null:l.y;e(a,"top",h,null);
e(a,"left",k,null);e(a,"right",p,null);e(a,"bottom",n,null);a.writeEndElement();a.writeEndElement();break;case "URI":a.writeStartElement("uri");c(a,b,{Gr:["uri"]});a.writeEndElement();break;case "Hide":a.writeStartElement("hide");c(a,b,{no:{hide:!0}});d(a,b.fields);a.writeEndElement();break;case "Named":a.writeStartElement("named");a.writeAttributeString("name",_.escape(b.action));a.writeEndElement();break;default:console.warn("Unrecognised action name"+h)}}),a.writeEndElement();a.writeEndElement()}}
function d(a,c,b){b||(b="fields");a.writeStartElement(b);b=c.length;for(var e=0;e<b;++e){var d=a,f=c[e];d.writeStartElement("ffield");d.writeAttributeString("name",_.escape(f));d.writeEndElement()}a.writeEndElement()}function g(a,c,b,d){if(d||!c.zH())a.writeStartElement(b),e(a,"r",c.R,0),e(a,"g",c.G,0),e(a,"b",c.B,0),e(a,"a",c.A,1),a.writeEndElement()}function l(a,b,d){if(b&&(0!==b.size||""!==b.name||"Type1"!==b.type||!b.ul())){a.writeStartElement("font");c(a,b,{no:{type:"Type1",name:""}});var f=
b.size,h=d.inverse();d=h.W({x:0,y:0});h=h.W({x:f,y:0});f=d.x-h.x;d=d.y-h.y;e(a,"size",Math.sqrt(f*f+d*d),0);d=b.fillColor;d.ul()||g(a,d,"fill-color",!0);b=b.strokeColor;b.ul()||g(a,b,"stroke-color",!0);a.writeEndElement()}}function h(a,c,b){a.writeStartElement("aappearance");a.writeAttributeString("name",c);Object.keys(b).forEach(function(c){a.writeStartElement(c);a.writeString(f(b[c].data||""));a.writeEndElement()});a.writeEndElement()}b.hf=b.hf||{};var k=b.hf;k.ai=function(a,c){var b;c in a?b=a[c]:
(b={},a[c]=b);return b};k.parse=function(a,c,b,e){var d={calculationOrder:[],widgets:[],fields:{},pages:[],documentActions:{},custom:[]},f=a.ua();"pdf-info"!==f?(console.warn("pdf-info missing. found: "+f),b(d)):(f=a.K("version"),"1"===f?k.$L.parse(a,c,b,e):"2"===f?k.CC.parse(a,c,b,e):(console.warn("PDFInfo version is incorrect: "+f),b(d)))};k.tK=function(a,c,b){if(c)for(var d in c){var g=c[d],h;for(h in g){var l=g[h];"objnum"in l&&(a.writeStartElement("apref"),e(a,"appearance-state",d,"_DEFAULT"),
e(a,"annotation-state",h,"Normal"),a.writeAttributeString("gennum",f(l.gennum)),a.writeAttributeString("objnum",f(l.objnum)),l=l.offset,l=b.W({x:l.x,y:l.y}),a.writeAttributeString("x",f(l.x)),a.writeAttributeString("y",f(l.y)),a.writeEndElement())}}};k.write=function(b,n,r){b.writeStartElement("pdf-info");b.writeAttributeString("xmlns","http://www.pdftron.com/pdfinfo");b.writeAttributeString("version","2");var p=n.calculationOrder;_.isArray(p)&&0<p.length&&d(b,p,"calculation-order");a(b,n.documentActions,
r,"document-actions");p=n.pages;if(0<p.length){b.writeStartElement("pages");for(var u=0;u<p.length;++u){var q=b,v=p[u],x=r;q.writeStartElement("page");q.writeAttributeString("number",f(v.number));a(q,v.actions,x);q.writeEndElement()}b.writeEndElement()}u=n.fields;q=Object.keys(u);for(p=0;p<q.length;++p){var v=b,A=u[q[p]],x=r;v.writeStartElement("ffield");c(v,A,{no:{},Gr:["type","name"]});var B=A.flags.toArray();0<B.length&&v.writeAttributeString("flags",f(B));B=A.maxLen;-1!==B&&v.writeAttributeString("max-len",
f(B));a(v,A.xj(),x);(B=A.defaultValue)&&v.writeElementString("default-value",f(B));l(v,A.font,x(1));x=v;if((A=A.options)&&0<A.length){x.writeStartElement("options");for(var B=A.length,z=0;z<B;++z){x.writeStartElement("option");var y=A[z].displayValue,w=A[z].value;y===w||_.isUndefined(y)||x.writeAttributeString("display-value",f(y));x.writeAttributeString("value",f(w));x.writeEndElement()}x.writeEndElement()}v.writeEndElement()}n=n.widgets;for(p=0;p<n.length;++p){u=b;q=n[p];v=r;u.writeStartElement("widget");
c(u,q,{no:{appearance:"",rotation:0,quadding:"Left-justified"}});x=q;x=x.Cb().widgets.indexOf(x);x=f(x);"0"!==x&&u.writeAttributeString("index",x);u.writeAttributeString("field",f(q.Cb().name));x=q.flags.toArray();0<x.length&&u.writeAttributeString("flags",f(x));x=q.PageNumber;u.writeAttributeString("page",f(x));x=v(x).inverse();A=u;z=q.rect;y=x;A.writeStartElement("rect");B=y.W({x:z.x1,y:z.y1});z=y.W({x:z.x2,y:z.y2});y={};y.x1=_.min([B.x,z.x]);y.x2=_.max([B.x,z.x]);y.y1=_.min([B.y,z.y]);y.y2=_.max([B.y,
z.y]);A.writeAttributeString("x1",f(Number(Number(y.x1).toFixed(4))));A.writeAttributeString("x2",f(Number(Number(y.x2).toFixed(4))));A.writeAttributeString("y1",f(Number(Number(y.y1).toFixed(4))));A.writeAttributeString("y2",f(Number(Number(y.y2).toFixed(4))));A.writeEndElement();A=u;!(B=q.border)||B.color.zH()&&1===B.width&&"Solid"===B.style||(A.writeStartElement("border"),e(A,"width",B.width,1),e(A,"style",B.style,"Solid"),B=B.color,B.ul()||g(A,B,"color",!0),A.writeEndElement());g(u,q.backgroundColor,
"background-color");a(u,q.xj(),v);k.tK(u,q.appearances,x);x=u;A=q.appearances;B=Object.keys(A);if(z=0<B.length)z=A[B[0]],z=0===Object.keys(z).length||"Normal"in z&&!!z.Normal.data;if(z){x.writeStartElement("appearances");z=B.length;for(y=0;y<z;++y)w=B[y],h(x,w,A[w]);x.writeEndElement()}x=u;A=q;A.pR()&&(x.writeStartElement("extra"),l(x,A.font,v(1)),x.writeEndElement());v=u;q=q.captions;x=q.Rollover;A=q.Down;if(q.Normal||x||A)v.writeStartElement("captions"),e(v,"Normal",q.Normal,""),e(v,"Rollover",
q.Rollover,""),e(v,"Down",q.Down,""),v.writeEndElement();u.writeEndElement()}b.writeEndElement()}})(window);
(function(b){function f(a){var c=[];for(a.oa();a.advance();){var b=a.ua();"field"===b?c.push(String(a.K("name"))):console.warn("unrecognised field list element: "+b)}a.Aa();return c}function e(a,c){return c?"false"===a?!1:!0:"true"===a?!0:!1}function c(a,c){var b=a.ua();switch(b){case "javascript":return{name:"JavaScript",javascript:a.current.textContent};case "uri":return{name:"URI",uri:a.K("uri")};case "goto":b=null;a.oa();if(a.advance()){var d=a.K("fit"),b={page:a.K("page"),fit:d};if("0"===b.page)console.warn("null page encountered in dest");
else{var g=c(Number(b.page));switch(d){case "Fit":case "FitB":break;case "FitH":case "FitBH":b.top=g.W({x:0,y:a.K("top")||0}).y;break;case "FitV":case "FitBV":b.left=g.W({x:a.K("left")||0,y:0}).x;break;case "FitR":d=g.W({x:a.K("left")||0,y:a.K("top")||0});g=g.W({x:a.K("right")||0,y:a.K("bottom")||0});g=new Annotations.Rect(d.x,d.y,g.x,g.y);b.top=g.y1;b.left=g.x1;b.bottom=g.y2;b.right=g.x2;break;case "XYZ":d=g.W({x:a.K("left")||0,y:a.K("top")||0});b.top=d.y;b.left=d.x;b.zoom=a.K("zoom")||0;break;default:console.warn("unknown dest fit: "+
d)}}b={name:"GoTo",dest:b}}else console.qW("missing dest in GoTo action");a.Aa();return b;case "submit-form":b={name:"SubmitForm",url:a.K("url"),format:a.K("format"),method:a.K("method")||"POST",exclude:e(a.K("exclude"),!1)};g=a.K("flags");b.flags=g?g.split(" "):[];for(a.oa();a.advance();)switch(g=a.ua(),g){case "fields":b.fields=f(a);break;default:console.warn("unrecognised submit-form child: "+g)}a.Aa();return b;case "reset-form":b={name:"ResetForm",exclude:e(a.K("exclude"),!1)};for(a.oa();a.advance();)switch(g=
a.ua(),g){case "fields":b.fields=f(a);break;default:console.warn("unrecognised reset-form child: "+g)}a.Aa();return b;case "hide":b={name:"Hide",hide:e(a.K("hide"),!0)};for(a.oa();a.advance();)switch(g=a.ua(),g){case "fields":b.fields=f(a);break;default:console.warn("unrecognised hide child: "+g)}a.Aa();return b;case "named":return{name:"Named",action:a.K("name")};default:console.warn("Encountered unexpected action type: "+b)}return null}function a(a,b,e){var d={};for(a.oa();a.advance();){var f=a.ua();
switch(f){case "action":f=a.K("trigger");if(b?-1!==b.indexOf(f):1){d[f]=[];for(a.oa();a.advance();){var g=c(a,e);_.isNull(g)||d[f].push(g)}a.Aa()}else console.warn("encountered unexpected trigger on field: "+f);break;default:console.warn("encountered unknown action child: "+f)}}a.Aa();return d}function d(a){return"calculation-order"===a.ua()?f(a):[]}function g(a){return new b.Annotations.Color(a.K("r")||0,a.K("g")||0,a.K("b")||0,a.K("a")||1)}function l(a,c){var b=a.K("name"),e=a.K("type")||"Type1",
d=a.K("size"),f=c.W({x:0,y:0}),h=c.W({x:Number(d),y:0}),d=f.x-h.x,f=f.y-h.y,b={name:b,type:e,size:Math.sqrt(d*d+f*f)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(a.oa();a.advance();)switch(e=a.ua(),e){case "stroke-color":b.strokeColor=g(a);break;case "fill-color":b.fillColor=g(a);break;default:console.warn("unrecognised font child: "+e)}a.Aa();return b}function h(c,b){var e={border:{style:"Solid",width:1},backgroundColor:[],fieldName:c.K("field"),page:c.K("page"),index:c.K("index")||0,rotation:c.K("rotation")||
0,flags:[]},d=c.K("appearance");d&&(e.appearance=d);(d=c.K("flags"))&&(e.flags=d.split(" "));for(c.oa();c.advance();)switch(d=c.ua(),d){case "rect":var f=c,h=b(Number(e.page)),d=h.W({x:f.K("x1")||0,y:f.K("y1")||0}),f=h.W({x:f.K("x2")||0,y:f.K("y2")||0}),d=new Annotations.Rect(d.x,d.y,f.x,f.y);d.normalize();e.rect={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2};break;case "border":d=c;f={style:d.K("style")||"Solid",width:d.K("width")||1,color:[0,0,0]};for(d.oa();d.advance();)switch(h=d.ua(),h){case "color":f.color=
g(d);break;default:console.warn("unrecognised border child: "+h)}d.Aa();e.border=f;break;case "background-color":e.backgroundColor=g(c);break;case "actions":e.actions=a(c,"E X D U Fo Bl PO PC PV PI".split(" "),b);break;case "appearances":d=c;f=p.ai(e,"appearances");for(d.oa();d.advance();)if(h=d.ua(),"appearance"===h){var h=d.K("name"),k=p.ai(f,h),h=d;for(h.oa();h.advance();){var m=h.ua();switch(m){case "Normal":p.ai(k,"Normal").data=h.current.textContent;break;default:console.warn("unexpected appearance state: ",
m)}}h.Aa()}else console.warn("unexpected appearances child: "+h);d.Aa();break;case "extra":d=c;f=b;h={};for(d.oa();d.advance();)switch(k=d.ua(),k){case "font":h.font=l(d,f(1));break;default:console.warn("unrecognised extra child: "+k)}d.Aa();d=h;d.font&&(e.font=d.font);break;case "captions":f=c;d={};(h=f.K("Normal"))&&(d.Normal=h);(h=f.K("Rollover"))&&(d.Rollover=h);(f=f.K("Down"))&&(d.Down=f);e.captions=d;break;default:console.warn("unrecognised widget child: "+d)}c.Aa();return e}function k(a){var c=
{value:a.K("value")};(a=a.K("display-value"))&&(c.displayValue=a);return c}function m(c,e){var d=c.K("name"),f={type:c.K("type"),quadding:c.K("quadding")||"Left-justified",maxLen:c.K("max-len")||-1},g=c.K("flags");_.isString(g)&&(f.flags=g.split(" "));for(c.oa();c.advance();)switch(g=c.ua(),g){case "actions":f.actions=a(c,["C","F","K","V"],e);break;case "default-value":g=c;g.oa();g.advance();var h=g.current.textContent;g.Aa();f.defaultValue=h;break;case "font":f.font=l(c,e);break;case "options":g=
c;h=[];for(g.oa();g.advance();){var m=g.ua();switch(m){case "option":h.push(k(g));break;default:console.warn("unrecognised options child: "+m)}}g.Aa();f.options=h;break;default:console.warn("unknown field child: "+g)}c.Aa();return new b.Annotations.O.ga(d,f)}function n(a,c){switch(a.type){case "Tx":return new b.Annotations.yk(a,c);case "Ch":return a.flags.get("Combo")?new b.Annotations.Gg(a,c):new b.Annotations.Ni(a,c);case "Btn":return a.flags.get("PushButton")?new b.Annotations.Ri(a,c):a.flags.get("Radio")?
new b.Annotations.pk(a,c):new b.Annotations.xh(a,c);case "Sig":return new b.Annotations.uk(a,c);default:console.warn("Unrecognised field type: "+a.type)}return null}function r(c,b){var e={number:c.K("number")};for(c.oa();c.advance();){var d=c.ua();switch(d){case "actions":e.actions=a(c,["O","C"],b);break;default:console.warn("unrecognised page child: "+d)}}c.Aa();return e}b.hf=b.hf||{};var p=b.hf;p.$L={parse:function(c,e,f,g){var l=[],k={};c.oa();var p=[],y={},w=[];b.busyLoop(function(){var b,f;if(c.advance()){b=
c.ua();switch(b){case "calculation-order":p=d(c);break;case "document-actions":y=a(c,["Init","Open"],e);break;case "pages":b=[];for(c.oa();c.advance();)switch(f=c.ua(),f){case "page":b.push(r(c,e));break;default:console.warn("unrecognised page child: "+f)}c.Aa();w=b;break;case "field":b=m(c,e(1));k[b.name]=b;break;case "widget":f=h(c,e);(b=k[f.fieldName])?(b=n(b,f),l.push(b)):console.warn("ignoring widget with no corresponding field data: "+f.fieldName);break;default:console.warn("Unknown element encountered in PDFInfo: "+
b)}return!0}return!1},function(){c.Aa();f({calculationOrder:p,widgets:l,fields:k,documentActions:y,pages:w,custom:[]})},g)},jT:m,lT:h,iI:d}})(window);
(function(b){function f(a){var c=[];for(a.oa();a.advance();){var b=a.ua();"ffield"===b?c.push(String(a.K("name"))):console.warn("unrecognised field list element: "+b)}a.Aa();return c}function e(a,c){return c?"false"===a?!1:!0:"true"===a?!0:!1}function c(a,c){var b=a.ua();switch(b){case "javascript":return{name:"JavaScript",javascript:a.current.textContent};case "uri":return{name:"URI",uri:a.K("uri")};case "goto":b=null;a.oa();if(a.advance()){var d=a.K("fit"),b={page:a.K("page"),fit:d};if("0"===b.page)console.warn("null page encountered in dest");
else{var g=c(Number(b.page));switch(d){case "Fit":case "FitB":break;case "FitH":case "FitBH":b.top=g.W({x:0,y:a.K("top")||0}).y;break;case "FitV":case "FitBV":b.left=g.W({x:a.K("left")||0,y:0}).x;break;case "FitR":d=g.W({x:a.K("left")||0,y:a.K("top")||0});g=g.W({x:a.K("right")||0,y:a.K("bottom")||0});g=new Annotations.Rect(d.x,d.y,g.x,g.y);b.top=g.y1;b.left=g.x1;b.bottom=g.y2;b.right=g.x2;break;case "XYZ":d=g.W({x:a.K("left")||0,y:a.K("top")||0});b.top=d.y;b.left=d.x;b.zoom=a.K("zoom")||0;break;default:console.warn("unknown dest fit: "+
d)}}b={name:"GoTo",dest:b}}else console.qW("missing dest in GoTo action");a.Aa();return b;case "submit-form":b={name:"SubmitForm",url:a.K("url"),format:a.K("format"),method:a.K("method")||"POST",exclude:e(a.K("exclude"),!1)};g=a.K("flags");b.flags=g?g.split(" "):[];for(a.oa();a.advance();)switch(g=a.ua(),g){case "fields":b.fields=f(a);break;default:console.warn("unrecognised submit-form child: "+g)}a.Aa();return b;case "reset-form":b={name:"ResetForm",exclude:e(a.K("exclude"),!1)};for(a.oa();a.advance();)switch(g=
a.ua(),g){case "fields":b.fields=f(a);break;default:console.warn("unrecognised reset-form child: "+g)}a.Aa();return b;case "hide":b={name:"Hide",hide:e(a.K("hide"),!0)};for(a.oa();a.advance();)switch(g=a.ua(),g){case "fields":b.fields=f(a);break;default:console.warn("unrecognised hide child: "+g)}a.Aa();return b;case "named":return{name:"Named",action:a.K("name")};default:console.warn("Encountered unexpected action type: "+b)}return null}function a(a,b,e){var d={};for(a.oa();a.advance();){var f=a.ua();
switch(f){case "action":f=a.K("trigger");if(b?-1!==b.indexOf(f):1){d[f]=[];for(a.oa();a.advance();){var g=c(a,e);_.isNull(g)||d[f].push(g)}a.Aa()}else console.warn("encountered unexpected trigger on field: "+f);break;default:console.warn("encountered unknown action child: "+f)}}a.Aa();return d}function d(a){return"calculation-order"===a.ua()?f(a):[]}function g(a){return new b.Annotations.Color(a.K("r")||0,a.K("g")||0,a.K("b")||0,a.K("a")||1)}function l(a,c,b){var e=q.ai(c,"appearances"),d=a.K("appearance-state")||
"_DEFAULT",f=a.K("annotation-state")||"Normal";c=Number(a.K("objnum"));var g=Number(a.K("gennum")),h=Number(a.K("x"));a=Number(a.K("y"));e=q.ai(e,d);f=q.ai(e,f);f.objnum=c;f.gennum=g;f.offset=b.W({x:h,y:a})}function h(a,c){var b=a.K("name"),e=a.K("type")||"Type1",d=a.K("size"),f=c.W({x:0,y:0}),h=c.W({x:Number(d),y:0}),d=f.x-h.x,f=f.y-h.y,b={name:b,type:e,size:Math.sqrt(d*d+f*f)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(a.oa();a.advance();)switch(e=a.ua(),e){case "stroke-color":b.strokeColor=g(a);
break;case "fill-color":b.fillColor=g(a);break;default:console.warn("unrecognised font child: "+e)}a.Aa();return b}function k(c,b){var e={border:{style:"Solid",width:1},backgroundColor:[],fieldName:c.K("field"),page:c.K("page"),index:c.K("index")||0,rotation:c.K("rotation")||0,quadding:c.K("quadding")||"Left-justified",flags:[]},d=c.K("appearance");d&&(e.appearance=d);(d=c.K("flags"))&&(e.flags=d.split(" "));for(c.oa();c.advance();)switch(d=c.ua(),d){case "rect":var f=c,k=b(Number(e.page)),d=k.W({x:f.K("x1")||
0,y:f.K("y1")||0}),f=k.W({x:f.K("x2")||0,y:f.K("y2")||0}),d=new Annotations.Rect(d.x,d.y,f.x,f.y);d.normalize();e.rect={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2};break;case "border":d=c;f={style:d.K("style")||"Solid",width:d.K("width")||1,color:[0,0,0]};for(d.oa();d.advance();)switch(k=d.ua(),k){case "color":f.color=g(d);break;default:console.warn("unrecognised border child: "+k)}d.Aa();e.border=f;break;case "background-color":e.backgroundColor=g(c);break;case "actions":e.actions=a(c,"E X D U Fo Bl PO PC PV PI".split(" "),
b);break;case "appearances":d=c;f=q.ai(e,"appearances");for(d.oa();d.advance();)if(k=d.ua(),"aappearance"===k){var k=d.K("name"),m=q.ai(f,k),k=d;for(k.oa();k.advance();){var n=k.ua();switch(n){case "Normal":q.ai(m,"Normal").data=k.current.textContent;break;default:console.warn("unexpected appearance state: ",n)}}k.Aa()}else console.warn("unexpected appearances child: "+k);d.Aa();break;case "apref":l(c,e,b(Number(e.page)));break;case "extra":d=c;f=b;k={};for(d.oa();d.advance();)switch(m=d.ua(),m){case "font":k.font=
h(d,f(1));break;default:console.warn("unrecognised extra child: "+m)}d.Aa();d=k;d.font&&(e.font=d.font);break;case "captions":f=c;d={};(k=f.K("Normal"))&&(d.Normal=k);(k=f.K("Rollover"))&&(d.Rollover=k);(f=f.K("Down"))&&(d.Down=f);e.captions=d;break;default:console.warn("unrecognised widget child: "+d)}c.Aa();return e}function m(a,c){var e=a.K("page"),d=c(1+Number(e)),e={page:e,rect:Annotations.ba.cu(a.K("rect"),d)};for(a.oa();a.advance();){var f=a.ua();switch(f){case "apref":l(a,e,d);break;default:console.warn("unrecognised custom tag: "+
f)}}a.Aa();return new b.Annotations.ip(e)}function n(a){var c={value:a.K("value")};(a=a.K("display-value"))&&(c.displayValue=a);return c}function r(c,e){var d=c.K("name"),f={type:c.K("type"),maxLen:c.K("max-len")||-1},g=c.K("flags");_.isString(g)&&(f.flags=g.split(" "));for(c.oa();c.advance();)switch(g=c.ua(),g){case "actions":f.actions=a(c,["C","F","K","V"],e);break;case "default-value":g=c;g.oa();g.advance();var l=g.current.textContent;g.Aa();f.defaultValue=l;break;case "font":f.font=h(c,e);break;
case "options":g=c;l=[];for(g.oa();g.advance();){var k=g.ua();switch(k){case "option":l.push(n(g));break;default:console.warn("unrecognised options child: "+k)}}g.Aa();f.options=l;break;default:console.warn("unknown field child: "+g)}c.Aa();return new b.Annotations.O.ga(d,f)}function p(a,c){switch(a.type){case "Tx":return new b.Annotations.yk(a,c);case "Ch":return a.flags.get("Combo")?new b.Annotations.Gg(a,c):new b.Annotations.Ni(a,c);case "Btn":return a.flags.get("PushButton")?new b.Annotations.Ri(a,
c):a.flags.get("Radio")?new b.Annotations.pk(a,c):new b.Annotations.xh(a,c);case "Sig":return new b.Annotations.uk(a,c);default:console.warn("Unrecognised field type: "+a.type)}return null}function u(c,b){var e={number:c.K("number")};for(c.oa();c.advance();){var d=c.ua();switch(d){case "actions":e.actions=a(c,["O","C"],b);break;default:console.warn("unrecognised page child: "+d)}}c.Aa();return e}b.hf=b.hf||{};var q=b.hf;q.CC={parse:function(c,e,f,g){var h=[],l=[],n={};c.oa();var q=[],I={},D=[];b.busyLoop(function(){var b,
f;if(c.advance()){b=c.ua();switch(b){case "calculation-order":q=d(c);break;case "document-actions":I=a(c,["Init","Open"],e);break;case "pages":b=[];for(c.oa();c.advance();)switch(f=c.ua(),f){case "page":b.push(u(c,e));break;default:console.warn("unrecognised page child: "+f)}c.Aa();D=b;break;case "ffield":b=r(c,e(1));n[b.name]=b;break;case "widget":f=k(c,e);(b=n[f.fieldName])?(b=p(b,f),h.push(b)):console.warn("ignoring widget with no corresponding field data: "+f.fieldName);break;case "custom":l.push(m(c,
e));break;default:console.warn("Unknown element encountered in PDFInfo: "+b)}return!0}return!1},function(){c.Aa();f({calculationOrder:q,widgets:h,fields:n,documentActions:I,pages:D,custom:l})},g)},fY:p,jT:r,lT:k,iI:d,aN:l}})(window);
(function(b){b.Annotations=b.Annotations||{};b.Annotations.O=b.Annotations.O||{};b.Annotations.O.vb=b.Annotations.O.vb||{};b=b.Annotations.O.vb;b.Events={};var f=b.Events;f.Event=function(c){this.rc=!0;_.isObject(c)&&(_.isString(c.name)&&Object.defineProperty(this,"name",{value:c.name,enumerable:!0}),_.isString(c.type)&&Object.defineProperty(this,"type",{value:c.type,enumerable:!0}))};f.In=function(c){var a=String(c.value),b=c.change,e=a.slice(0,c.selStart),f=a.slice(c.selEnd);if(_.isObject(c.change)){var h=
c.selStart;c=c.selEnd;h===c&&("backspace"===b.type?e=a.slice(0,h-1):"delete"===b.type&&(f=a.slice(c+1)));b=""}return e+b+f};var e={Validate:function(c){f.Event.call(this,c);var a;_.isObject(c)&&(a=c.value);Object.defineProperty(this,"value",{value:a,writable:!0,enumerable:!0})},Calculate:function(c){f.Event.call(this,c);var a,b;_.isObject(c)&&(a=c.value,b=c.source);Object.defineProperties(this,{value:{value:a,writable:!0,enumerable:!0},source:{value:b,enumerable:!0}})},Format:function(c){f.Event.call(this,
c);var a;_.isObject(c)&&(a=c.value);Object.defineProperty(this,"value",{value:a,writable:!0,enumerable:!0})},Keystroke:function(c){f.Event.call(this,c);var a,b,e,l,h;_.isObject(c)&&(a=c.value,b=c.change,e=c.selStart,l=c.selEnd,h=c.willCommit);a="undefined"!==typeof a?a:"";b="undefined"!==typeof b||_.isString(b)?b:"";l="undefined"!==typeof l?l:a.length;Object.defineProperties(this,{value:{value:a,writable:!0,enumerable:!0},change:{value:b,writable:!0,enumerable:!0},selStart:{value:"undefined"!==typeof e?
e:0,writable:!0,enumerable:!0},selEnd:{value:l,writable:!0,enumerable:!0},willCommit:{value:h||!1,enumerable:!0}})},"Mouse Enter":function(c){f.Event.call(this,c)},"Mouse Leave":function(c){f.Event.call(this,c)},"Mouse Up":function(c){f.Event.call(this,c)},"Mouse Down":function(c){f.Event.call(this,c)},Focus:function(c){f.Event.call(this,c)},Blur:function(c){f.Event.call(this,c);var a;_.isObject(c)&&(a=c.value);Object.defineProperty(this,"value",{value:a,writable:!0,enumerable:!0})},Open:function(c){f.Event.call(this,
c);var a;_.isObject(c)&&(a=c.targetName);Object.defineProperty(this,"targetName",{value:a||"",writable:!0,enumerable:!0})},Close:function(c){f.Event.call(this,c)}};f.create=function(c,a){return e[c]?new e[c](a):null};f.ga={create:function(c,a,b){b=$.extend({name:c,type:"Field",value:a.Va()},b);return(c=f.create(c,b))?(Object.defineProperties(c,{target:{value:a,writable:!0,enumerable:!0},targetName:{value:a.name,enumerable:!0},modifier:{value:null,enumerable:!0},shift:{value:null,enumerable:!0}}),
c):null}};f.iC={create:function(c,a,b){b=$.extend({name:c,type:"Doc",targetName:""},b);return(c=f.create(c,b))?(Object.defineProperty(c,"target",{value:a,writable:!0,enumerable:!0}),c):null}};f.sp={create:function(c,a,b){b=$.extend({name:c,type:"Page"},b);return(c=f.create(c,b))?(Object.defineProperty(c,"target",{value:a,writable:!0,enumerable:!0}),c):null}};f.nd={create:function(c,a){return f.create(c,a)}}})(window);
(function(b){function f(a){this.stringValue=a}function e(a,c,b){c=c||",";b=b||".";var e=a.split(b),d=e[0];"-"===a.charAt(0)&&(d=d.substr(1));for(var f=[];3<d.length;)f.push(d.substr(d.length-3)),d=d.substr(0,d.length-3);0<d.length&&f.push(d);d=f.reverse().join(c);"-"===a.charAt(0)&&(d="-"+d);e[0]=d;return e.join(b)}function c(a,c){var b;if(0===c)return/^-?\d*$/.test(a);if(_.isUndefined(c))return b=/^-?\d*([\.,]\d*)?$/,b.test(a);b=new RegExp("^-?\\d*([\\.,]\\d{0,"+c.toString()+"})?$");return b.test(a)}
function a(a){for(var c=[],b=[],e=-1;-1!==(e=a.indexOf(".",e+1));)c.push(e);for(e=-1;-1!==(e=a.indexOf(",",e+1));)b.push(e);if(c.length&&b.length){if(c[c.length-1]<b[0])return!0}else if(b.length)for(a=a.length-4,c=b.length-1;0<=c;--c)if(b[c]!==a)return!0;return!1}function d(a){return 65<=a&&90>=a||97<=a&&122>=a}function g(a,c){switch(c){case 57:return 48<=a&&57>=a;case 65:return d(a);case 79:return d(a)||48<=a&&57>=a;case 88:return!0;default:return a===c}}function l(b){var e=typeof b;b=_.isNull(b)||
"object"!==e&&"string"!==e?b:String(b).replace(",",a(b)?".":"");e=parseFloat(b);return c(b)&&!isNaN(e)?e:e="Off"===b||_.isUndefined(b)||_.isNull(b)||""===b?0:1}function h(a,c){var b=String(a);if(b.length<c)for(var e=c-b.length,d=0;d<e;++d)b="0"+b;return b}function k(a){_.isString(a)&&(a=a.replace(/\s+/g," "),a=a.replace(/[/.]/g,"-"));return a}function m(a){return a.replace(/(mmmm)|(mmm)|(:mm)|(mm)|(:m)|(m)|(dddd)|(ddd)|(dd)|(d)|(yyyy)|(yy)|(HH)|(H)|(hh)|(h)|(MM)|(M)|(ss)|(s)|(tt)|(t)/g,function(a){return{mmmm:"MMMM",
mmm:"MMM",":mm":":mm",mm:"MM",":m":":m",m:"M",dddd:"dddd",ddd:"ddd",dd:"DD",d:"D",yyyy:"YYYY",yy:"YY",HH:"HH",H:"H",hh:"hh",h:"h",MM:"mm",M:"m",ss:"ss",s:"s",tt:"A",t:"a"}[a]||""})}function n(a,c){if(!a)return null;var b=H.slice(0);c&&(c=m(c),c=k(c));a=k(a);c&&"d"===c.charAt(0).toLowerCase()?(M.unshift(c),b=I(a,M,!0)):(c&&b.unshift(c),b=I(a,b,!0));return b.isValid()?b:null}function r(a,c){return!a||null!==n(a,c)}function p(a,c){if(L[c]){a=k(a);var b;b=c&&"d"===c.charAt(0).toLowerCase()?I(a,M,!0):
I(a,H,!0);if(b.isValid())return b.format(L[c])}return null}function u(a,c){var b=String(a).split(":");if(3<c||0>c||!a)return null;var e=0,d=0,f=0;b[0]&&(e=Number(b[0]));b[1]&&(d=Number(b[1]));b[2]&&(f=Number(b[2]));if(23<e||59<d||59<f||_.isNaN(e)||_.isNaN(d)||_.isNaN(f))return null;var b=1===c||3===c,g;b?(g=12<=e&&24>e?"PM":"AM",e%=12,0===e&&(e=12)):e=h(e,2);d=h(d,2);f=h(f,2);e=e+":"+d+(2>c?"":":"+f);b&&(e+=" "+g);return e}function q(a,c){for(var b=0,e="",d=0;d<c.length&&b<a.length;++d){var f=c.charAt(d);
switch(f){case "9":e+=a.charAt(b);b++;break;default:e+=f}}return e}function v(a,c){this.WM=c;this.jz=!1;this.kS=a;a.EV()}function x(a){return function(){console.log("stub: "+a+" called with",arguments)}}function A(a){var c=null;if(_.isArray(a))switch(a[0]){case "T":c=[];break;case "G":c=a.slice(1,2);break;case "RGB":c=a.slice(1,4);break;case "CMYK":c=a.slice(1,5)}return c}function B(a,c){a.widgets.forEach(function(a){a.backgroundColor=c})}function z(a){this.QD={};this.zD=a}function y(){var a=this;
this.PD={Doc:new z(function(){return"id"}),Field:new z(function(a){return a.name})};this.Fp=0;this.Ks=[];this.LM={Doc:function(a){return D.oC(a)},Color:function(a){return D.qs(a)},Field:function(a){a.Kj&&a.Kj()&&(a=a.Cb());return new D.mp(a)},Event:function(c){var b={target:a.Gl({Field:"Field",Page:"Doc",Doc:"Doc"}[c.type],c.target)};Object.defineProperties(b,{value:{get:function(){return D.utils.toString(c.value)},set:function(a){c.value=a},enumerable:!0}});for(var e in c)c.hasOwnProperty(e)&&"target"!==
e&&"value"!==e&&function(a){Object.defineProperty(b,a,{set:function(b){c[a]=b},get:function(){return c[a]},enumerable:!0})}(e);return b}}}function w(){y.call(this);this.DM=this.dQ();b.KX=this.DM;for(var a in O)O.hasOwnProperty(a)&&(a in b||(b[a]=O[a]))}function E(){y.call(this);if(C){this.Lp=$("<iframe />");this.Lp.css({display:"none"});this.Lp.appendTo("body");this.Vp=this.Lp[0].contentWindow;var a=this.Vp.document;a.open();a.write("<script>var event = {};\x3c/script>");a.write("<script>window.__add_action = function(__script){ return function(){(1,eval)(__script); } }\x3c/script>");
a.close();this.Fk=!1;for(var c in O)O.hasOwnProperty(c)&&(this.Vp[c]=O[c])}}b.Annotations=b.Annotations||{};b.Annotations.O=b.Annotations.O||{};b.Annotations.O.vb=b.Annotations.O.vb||{};var I=b.moment,D=b.Annotations.O.vb,H="M-D;M-D-YYYY;MM-DD-YY;MM-YY;D-MMM;D-MMM-YY;DD-MMM-YY;YYMM-DD;MMM-YY;MMMM-YY;MMM D, YYYY;MMMM D, YYYY;M-D-YY h:mm A;M-D-YY HH:mm;DD-MMM-YYYY".split(";"),M="D-MMM D-MMM-YY DD-MMM-YY DD-MMM-YYYY DD-MM-YYYY D-M-YYYY".split(" "),G="m/d;m/d/yy;mm/dd/yy;mm/yy;d-mmm;d-mmm-yy;dd-mmm-yy;yymm-dd;mmm-yy;mmmm-yy;mmm d, yyyy;mmmm d, yyyy;m/d/yy h:MM tt;m/d/yy HH:MM;dd-mmm-yyyy".split(";"),
L={"m/d":"M/D","m/d/yy":"M/D/YYYY","mm/dd/yy":"MM/DD/YY","mm/dd/yyyy":"MM/DD/YYYY","mm/yy":"MM/YY","d-mmm":"D-MMM","d-mmm-yy":"D-MMM-YY","dd-mmm-yy":"DD-MMM-YY","yymm-dd":"YYMM-DD","mmm-yy":"MMM-YY","mmmm-yy":"MMMM-YY","mmm d, yyyy":"MMM D, YYYY","mmmm d, yyyy":"MMMM D, YYYY","m/d/yy h:MM tt":"M/D/YY h:mm A","m/d/yy HH:MM":"M/D/YY HH:mm","dd-mmm-yyyy":"DD-MMM-YYYY"};D.utils={isNumber:c,JZ:e,rZ:l,pZ:h,yY:p,aZ:r,zY:u,formatNumber:q,toString:function(a){return _.isString(a)?a:_.isNumber(a)?String(a):
""},PZ:function(a){var b=a;c(a)&&""!==a&&(b=l(a));return b},tT:function(a,c){var b=I(c),e=m(a);return b.format(e)},uT:function(a){var c=Array.prototype.slice.call(arguments,1),b=0;return a.replace(/%(,\d+)?([+ 0#]+)?(\d+)?(\.\d+)?([dfsx]+)/g,function(a,d,f,g,h,l){a=0;g=".";var k=",";if(d)switch(d.slice(1)){case "0":k=",";g=".";break;case "1":k="";g=".";break;case "2":k=".";g=",";break;case "3":k="",g=","}if(f)for(d=f.length-2,f=1;f<d;++f);h&&(a=h.slice(1));h=c[b];b++;d=String(h);switch(l){case "f":d=
Number(h).toFixed(a).replace(".",g);d=e(d,k,g);break;case "d":d=Number(h).toFixed();break;case "x":d=Number(h).toString(16)}return d})},vT:function(a,b){for(var e="",f=0,g="",h=a.length,l=0;l<h;++l){var k=b,m=a[l],n="";switch(m){case "?":n="upper"===g?n+k.charAt(f).toUpperCase():"lower"===g?n+k.charAt(f).toLowerCase():n+k.charAt(f);f++;break;case "X":for(;f<k.length;){m=k.charCodeAt(f);if(d(m)||48<=m&&57>=m){n="upper"===g?n+k.charAt(f).toUpperCase():"lower"===g?n+k.charAt(f).toLowerCase():n+k.charAt(f);
f++;break}f++}break;case "A":for(;f<k.length;){if(d(k.charCodeAt(f))){n="upper"===g?n+k.charAt(f).toUpperCase():"lower"===g?n+k.charAt(f).toLowerCase():n+k.charAt(f);f++;break}f++}break;case "9":for(;f<k.length;){if(c(k.charAt(f))){n+=k.charAt(f);f++;break}f++}break;case "*":n="lower"===g?k.slice(f).toLowerCase():"upper"===g?k.slice(f).toUpperCase():k.slice(f);f=k.length-1;break;case "\\":break;case ">":g="upper";break;case "<":g="lower";break;case "=":g="";break;default:n=m}e+=n}return e},eC:function(a,
c){c=c||a;var e=b.Annotations.O.vb.Events.In(F);if(a&&e){var d=e.length,f=a.length;if(F.willCommit&&d!==f&&0!==f)alert("The value entered does not match the format of the field [ "+c+" ]"),F.rc=!1;else if(d&&f)if(d<=f)for(f=0;f<d;++f){if(!g(e.charCodeAt(f),a.charCodeAt(f))){F.rc=!1;alert("The value entered does not match the format of the field [ "+c+" ]");break}}else alert("The value entered does not match the format of the field [ "+c+" ]"),F.rc=!1}},$r:function(a){var c=String(F.value);c&&F.willCommit&&
!r(c,a)&&(F.rc=!1,alert("Invalid Date/Time: Input should match format "+a))}};Object.getOwnPropertyNames(String.prototype).forEach(function(a){f.prototype[a]=function(){return this.stringValue[a].apply(this.stringValue,arguments)}});f.prototype.valueOf=function(){this.lH||(this.lH=l(this.stringValue));return this.lH};v.prototype={terminate:function(){this.jz||(this.jz=!0,this.WM(),this.kS.tP())}};var F=null,N=null,O={AFNumber_Format:function(a,b,d,f,g,h){d=(d=N.Bb().nl().Cb(F.target.name))?d.Va():
null;c(d)&&null!==d&&""!==d&&(d=l(d),isNaN(d)||(d=d.toFixed(a),0===b?d=e(d):2===b&&(d=e(d),a=d.indexOf("."),d=d.split(",").join("."),0<=a&&(d=d.substr(0,a)+","+d.substr(a+1))),F.value=h?g+d:d+g,F.rc=!0))},AFPercent_Format:function(a,b){var d=F.value;c(d)&&(d=l(d),d=(100*d).toFixed(a),b&&(d=e(d)),F.value=d+"%",F.rc=!0)},AFDate_KeystrokeEx:D.utils.$r,AFDate_Keystroke:function(a){a<G.length&&D.utils.$r(G[a])},AFDate_FormatEx:function(a){a=p(String(F.value),a);_.isNull(a)||(F.value=a,F.rc=!0)},AFDate_Format:function(a){var c=
String(F.value);a<G.length&&(a=p(c,G[a]),_.isNull(a)||(F.value=a,F.rc=!0))},AFRange_Validate:function(a,c,b,e){var d=Number(F.value),d=(!a||d>=c)&&(!b||d<=e);if(!d){var f="Invalid value: must be";a&&(f+=" greater than or equal to "+c);a&&b&&(f+=" and");b&&(f+=" less than or equal to "+e);alert(f+".")}F.rc=d},AFTime_Format:function(a){F.value=u(F.value,a);F.rc=!0},AFTime_FormatEx:function(a){a=p(String(F.value),a);_.isNull(a)||(F.value=a,F.rc=!0)},AFTime_Keystroke:function(a){switch(a){case 0:a="HH:MM";
break;case 1:a="h:MM tt";break;case 2:a="HH:MM:ss";break;case 3:a="h:MM:ss tt"}D.utils.$r(a)},AFTime_KeyStrokeEx:D.utils.$r,AFMakeNumber:function(a){return Number(a)},AFSimple_Calculate:function(a,c){var b={PRD:function(a,c){return a*c},SUM:function(a,c){return a+c},MIN:function(a,c){return c<a?c:a},MAX:function(a,c){return c>a?c:a}}[a];b&&("string"===typeof c&&(c=c.split(",")),F.value=c.map(function(a){a=F.target.doc.getField(a).value;return l(a)}).reduce(b),F.rc=!0)},AFNumber_Keystroke:function(a){F.rc=
c(b.Annotations.O.vb.Events.In(F),a)},AFPercent_Keystroke:function(a){F.rc=c(b.Annotations.O.vb.Events.In(F),a+2)},AFMergeChange:function(a){return b.Annotations.O.vb.Events.In(a)},AFParseDateEx:n,AFSpecial_Format:function(a){if(0===arguments.length)F.rc=!1;else{var c=F.value,b;switch(a){case 0:b="99999";break;case 1:b="99999-9999";break;case 2:b=10<=c.length?"(999) 999-9999":"999-9999";break;case 3:b="999-99-9999"}F.value=q(c,b);F.rc=!0}},AFSpecial_Keystroke:function(a){var c="",b;switch(a){case 0:c=
"99999";b="Zipcode";break;case 1:c="999999999";b="Zipcode + 4";break;case 2:c="9999999999";b="Phone";break;case 3:c="999999999",b="Social Security Number"}D.utils.eC(c,b)},AFSpecial_KeystrokeEx:D.utils.eC,util:{printd:D.utils.tT,printf:D.utils.uT,printx:D.utils.vT},app:{beep:x("app.beep"),alert:function(a){if(_.isObject(a)){var c=a.nType||0;a=a.cMsg;if(0===c)return window.alert(a),1;a=window.confirm(a);return 1===c?a?1:2:a?4:3}window.alert(a);return 1},response:x("app.response"),setInterval:function(a,
c){var b=N.getDocument().Np;a=b.pn(a);var e=F,d=window.setInterval(function(){b.Bo(a,e,N)},c);return new v(b,function(){window.clearInterval(d)})},clearInterval:function(a){a.terminate()},setTimeOut:function(a,c){var b=N.getDocument().Np,e;a=b.pn(a);var d=F,f=window.setTimeout(function(){b.Bo(a,d,N);e.terminate()},c);return e=new v(b,function(){window.clearTimeout(f)})},clearTimeOut:function(a){a.terminate()},launchURL:x("app.launchURL")},console:{clear:function(){console.clear()},println:function(a){console.log(a)}},
alert:function(a){window.alert(a)},print:function(){$(window).trigger("documentPrint")},ADBE:null,color:{transparent:["T"],black:["G",0],white:["G",1],red:["RGB",1,0,0],green:["RGB",0,1,0],blue:["RGB",0,0,1],cyan:["CMYK",1,0,0,0],magenta:["CMYK",0,1,0,0],yellow:["CMYK",0,0,1,0],dkGray:["G",.25],gray:["G",.5],ltGray:["G",.75]},border:{s:"solid",b:"beveled",d:"dashed",i:"inset",QZ:"underline"},style:{ch:"check",cr:"cross",sY:"diamond",ci:"circle",LZ:"start",KZ:"square"},display:{visible:0,hidden:1,
TS:2,US:3}};D.mp=function(a){this.na=a};D.mp.prototype={insertItemAt:function(a,c,b){_.isUndefined(c)&&(c=a);_.isUndefined(b)&&(b=0);_.isArray(a)&&(a=a[0]);_.isArray(c)&&(c=c[0]);c={displayValue:a,value:c};var e=this.na.eh();b=-1===b?e.length-b:b;this.na.It(c,b);"Ch"!==this.na.type||this.na.flags.get("Combo")||this.na.Gb(a)},getItemAt:function(a,c){c=_.isUndefined(c)?!0:!!c;var b=this.na.eh(),b=-1===a?b[b.length-1]:b[a];return c?b.value:b.displayValue},deleteItemAt:function(a){var c=this.na.eh();
if(_.isUndefined(a)){var b=this.na.Va();c.forEach(function(c,e){c.value===b&&(a=e)});_.isUndefined(a)||(c.splice(a,1),0===a?this.na.Gb(c[c.length-1].value):this.na.Gb(c[a-1].value))}else c.splice(a,1)},clearItems:function(){this.na.ke([]);this.na.Gb(null);this.na.Lv()},setItems:function(a){for(var c=[],b=a.length,e=0;e<b;++e){var d=a[e];_.isString(d)?c.push({value:d}):_.isArray(d)&&c.push({displayValue:d[0],value:d[1]?d[1]:d[0]})}this.na.ke(c);this.na.Gb(c[0].value||null);this.na.Lv()},setFocus:function(){var a;
if(a="widgets"in this.na?this.na.widgets[0]:this.na)this.na.ah().un(a.PageNumber,a.X,a.Y,!0),a.innerElement.trigger("focus")},isBoxChecked:function(a){return(a=this.na.widgets[a])?a.appearance===a.$h()?1:0:0},checkThisBox:function(a,c){_.isUndefined(c)&&(c=!0);var b=this.na.widgets[a];b&&(c?this.na.Gb(b.$h()):this.na.Va()===b.$h()&&this.na.Gb("Off"),this.na.Lv())},buttonSetCaption:function(a){this.na.widgets.forEach(function(c){c.captions.Normal=String(a);c.refresh()})},getArray:function(){var a=
[],c=this.na.ah().da.Yg;this.na.XB({NA:function(){},uv:function(){},ur:function(b){a.push(new D.mp(c.Cb(b)))}},this.na.DQ());return a}};Object.defineProperties(D.mp.prototype,{name:{get:function(){return this.na.name},enumerable:!0},doc:{get:function(){return D.oC(this.na.ah())},enumerable:!0},value:{get:function(){var a=this.na.Va();return"number"===typeof a?a:c(a)&&""!==a?"0"===a?0:new f(a):a||""},set:function(a){this.na.Gb(a)},enumerable:!0},valueAsString:{get:function(){var a=this.na.Va();return a?
a.toString():""}},fillColor:{set:function(a){B(this.na,A(a))},get:function(){return D.qs(this.na.widgets[0].backgroundColor)},enumerable:!0},textColor:{set:function(a){this.na.font.fillColor=A(a)},get:function(){return D.qs(this.na.font.fillColor)},enumerable:!0},bgColor:{set:function(a){B(this.na,A(a))},get:function(){return D.qs(this.na.widgets[0].backgroundColor)},enumerable:!0},numItems:{get:function(){return(this.na.eh()||[]).length},enumerable:!0},charLimit:{set:function(a){a=Number(a);_.isNaN(a)||
(this.na.maxLen=a)},get:function(){return this.na.maxLen},enumerable:!0},hidden:{set:function(a){this.na.Mf(!a)},get:function(){return this.na.widgets[0].hidden},enumerable:!0},display:{set:function(a){a===O.display.visible||a===O.display.TS?this.na.Mf(!0):a!==O.display.hidden&&a!==O.display.US||this.na.Mf(!1)},get:function(){return this.na.widgets[0].hidden},enumerable:!0},userName:{set:function(a){this.na.userName=a;this.na.Lv()},get:function(){return this.na.userName},enumerable:!0},type:{get:function(){switch(this.na.type){case "Tx":return"text";
case "Btn":return this.na.flags.get("PushButton")?"button":this.na.flags.get("Radio")?"radiobutton":"checkbox";case "Ch":return this.na.flags.get("Combo")?"combobox":"listbox";case "Sig":return"signature"}return null},enumerable:!0},currentValueIndices:{get:function(){for(var a=this.na.eh(),c=this.na.value,b=0;b<a.length;++b)if(a[b].value===c)return b;return-1},enumerable:!0}});z.prototype={get:function(a){a=this.zD(a);a=this.QD[a];return _.isUndefined(a)?null:a},set:function(a){this.QD[this.zD(a)]=
a}};D.qs=function(a){return a?0!==a.A?["RGB",a.R/255,a.G/255,a.B/255]:["T"]:["T"]};D.oC=function(a){var c=a.Bb().nl(),e={getField:function(a){return(a=c.Cb(a))?new D.mp(a):null},submitForm:function(c,e,d,f){_.isUndefined(e)&&(e=!0);(new b.Actions.wk({url:c,format:e?"fdf":"xfdf",includeEmpty:!!d,fields:f||[]})).onTriggered(null,null,a)},resetForm:function(c){(new b.Actions.rk({fields:c})).onTriggered(null,null,a)},calculateNow:function(){c.hq(null)},getNthFieldName:function(a){var b,e=0;c.Fn(function(c){e===
a&&(b=c.name);++e});return b}};Object.defineProperties(e,{calculate:{set:function(a){c.Oo=!!a},get:function(){return c.Oo},enumerable:!0},numPages:{get:function(){return a.Db()},enumerable:!0},pageNum:{get:function(){return a.Hn()-1},set:function(c){a.Ge(c+1)},enumerable:!0},numFields:{get:function(){var a=0;c.Fn(function(){++a});return a},enumerable:!0}});return e};y.prototype={pn:function(){},Bo:function(){},Zc:function(){this.Ks.forEach(function(a){a()})},VB:function(a){return a},$B:function(a){return a},
Cw:function(a){return a},rK:function(a){return a},sK:function(a){return a},qK:function(a){return a},pK:function(a){return a},Yo:function(a){var c=null;if(_.isArray(a))c=this.pK(a);else if(_.isNull(a))c=null;else switch(typeof a){case "object":c=this.$B(a);break;case "function":c=this.Cw(a);break;case "number":c=this.rK(a);break;case "string":c=this.sK(a);break;case "boolean":c=this.qK(a);break;case "undefined":c=void 0;break;default:console.warn("unrecognised type: "+typeof a)}return c},wrap:function(a,
c){var b=this.PD[a];if(b){var e=b.get(c);if(!_.isNull(e))return e}e=this.Gl(a,c);e=this.Yo(e);b&&b.set(e);return e},Gl:function(a,c){var b=this.PD[a];if(b){var e=b.get(c);if(!_.isNull(e))return e}if(e=this.LM[a])return e=e(c),b&&b.set(e),e;console.warn(a+" is not a valid normalizable embedded JS type",c);return{}},pW:function(a){0<this.Fp?this.Ks.push(a):a()},EV:function(){this.Fp+=1},tP:function(){--this.Fp;if(0===this.Fp){var a=this.Ks;this.Ks=[];a.forEach(function(a){a()})}},dQ:function(){return this.$B($.extend({},
O))}};D.UW=O;var K=eval;w.prototype=$.extend(Object.create(y.prototype),{Xp:function(a){a=this.Gl("Doc",a);for(var c=Object.keys(a),e=0;e<c.length;++e){var d=c[e];Object.defineProperty(b,d,Object.getOwnPropertyDescriptor(a,d))}},pn:function(a){return function(c){F=c;K("with(_PDFTRON_JS_API){"+a+"\n}");F=null}},Bo:function(a,c,e){b.event=c;this.Fk||(this.Xp(e),this.Fk=!0);var d=N;N=e;try{a(this.wrap("Event",c),this.wrap("Doc",e))}catch(f){console.warn("Embedded JS error encountered: "+f+" "+a.ar)}N=
d}});(function(){y.call(this);this.Lh=continuum.dY();this.Fk=!1;for(var a=Object.keys(O),c=0;c<a.length;++c)this.Lh.global.uC(a[c],this.Yo(O[a[c]]))}).prototype=$.extend(Object.create(y.prototype),{pn:function(a){return continuum.eY(a)},Xp:function(a){a=this.Gl("Doc",a);for(var c=Object.keys(a),b=0;b<c.length;++b)this.Lh.global.uC(c[b],this.Yo(a[c[b]]))},Bo:function(a,c,b){this.Fk||(this.Xp(b),this.Fk=!0);c=this.Gl("Event",c);b=this.Yo(c);this.Lh.global.uC("event",b);F=c;this.Lh.evaluate(a);F=null},
VB:function(a){var c=this;if(_.isObject(a)){if(a.BN)return a.BN.map(function(a){return c.VB(a)});console.warn("object argument: ",a)}return a},Cw:function(a){var c=this;return continuum.Fy(function(){var b=Array.prototype.map.call(arguments,function(a){return c.VB(a)});return c.Yo(a.apply(null,b))})},rK:function(a){return this.Lh.evaluate(JSON.stringify(a))},sK:function(a){return this.Lh.evaluate(JSON.stringify(a))},qK:function(a){return this.Lh.evaluate(JSON.stringify(a))},pK:function(a){var c=this.Lh.evaluate("new Array()");
console.warn("array:",c);return a},$B:function(a){for(var c=this.Lh.evaluate("Object.create(null)"),b=Object.keys(a),e=b.length,d=0;d<e;++d){var f=b[d],g=Object.getOwnPropertyDescriptor(a,f),h={Enumerable:g.enumerable,Writeable:g.writeable};_.isUndefined(g.value)||(h.Value=this.Yo(g.value));_.isUndefined(g.set)||(h.Set=this.Cw(g.set));_.isUndefined(g.get)||(h.Get=this.Cw(g.get));c.PW(f,h)}return c}});var C=!0;b.o.KO=function(){C=!1};E.prototype=$.extend(Object.create(y.prototype),{pn:function(a){if(C)try{var c=
this.Vp.__add_action(a);c.ar=a;return c}catch(b){console.warn("Failed to compile embedded JS script")}},Xp:function(a){a=this.Gl("Doc",a);for(var c=Object.keys(a),b=0;b<c.length;++b){var e=c[b];Object.defineProperty(this.Vp,e,Object.getOwnPropertyDescriptor(a,e))}},Zc:function(){y.prototype.Zc.call(this);this.Lp&&this.Lp.remove()},Bo:function(a,c,b){if(C){this.Fk||(this.Xp(b),this.Fk=!0);var e=N;N=b;c=this.Gl("Event",c);this.Vp.event=c;b=F;F=c;try{a()}catch(d){console.warn("Embedded JS error encountered: ",
d,a&&a.ar)}F=b;N=e}}});D.MW=w;D.nO=function(){return new E}})(window);(function(b){if(b&&b.Worker){var f=b.Worker;b.Ji=b.Ji||[];b.Ji.VJ||(b.Ji.VJ=function(){for(var e=b.Ji.length-1;0<=e;e--)b.Ji[e].terminate(),delete b.Ji[e]});b.Worker.isFake||(b.Worker=function(e){e=new f(e);b.Ji.push(e);return e},b.cL=function(b){return b instanceof f},b.Worker.isFake=!0)}})(window);window.addEventListener("unload",function(){window.Ji&&window.Ji.VJ()});
(function(b){b.Annotations=b.Annotations||{};var f=b.Annotations,e=f.ha||{};f.Annotation=function(){this.Subject="Annotation";this.TC=1;this.Dp=this.Ep=this.Hs=this.Gs=0;this.KC=void 0;this.NoRotate=this.NoZoom=this.dX=this.cX=!1;this.Printable=!0;this.Yi=new f.Color(0,0,0);this.aD=void 0;this.Ax=new Date;this.yD=e.mR();this.Gx=!0;this.CD=this.Jk=!1;this.YD=Promise.resolve();this.ED=!0;this.Ym=[];this.sf=this.Ng=null;this.QC=!1};f.Annotation.prototype={elementName:"annotation",selectionModel:f.rs,
ZG:!1,GG:function(){return null},draw:function(){},render:function(){},vw:function(){},Kj:function(){return!1},tH:function(){return!1},Al:function(){return!this.Hidden&&!this.NoView&&!this.hi()},wJ:function(c){var a=new f.Rect(c.x1,c.y1,c.x2,c.y2);0>a.Ba()&&(c=a.x1,a.x1=a.x2,a.x2=c);0>a.xa()&&(c=a.y1,a.y1=a.y2,a.y2=c);this.X=a.x1;this.Y=a.y1;this.Width=a.Ba();this.Height=a.xa()},ug:function(c){var a=this.Qc();c=new f.Rect(c.x1,c.y1,c.x2,c.y2);0>c.Ba()&&(c.x1=a.x1,c.x2=a.x2);0>c.xa()&&(c.y1=a.y1,c.y2=
a.y2);this.X=c.x1;this.Y=c.y1;this.Width=c.Ba();this.Height=c.xa()},adjustRect:function(){},resize:function(c){this.ug(c)},Yn:function(){return this.X},rV:function(c){this.X=parseFloat(c)},Zn:function(){return this.Y},sV:function(c){this.Y=parseFloat(c)},Ba:function(){return this.Width},CJ:function(c){this.Width=parseFloat(c)},xa:function(){return this.Height},Kr:function(c){this.Height=parseFloat(c)},Qc:function(){return new f.Rect(this.X,this.Y,this.X+this.Width,this.Y+this.Height)},getRectPadding:function(){return 0},
Mb:function(){return this.PageNumber},Lb:function(){return"undefined"===typeof this.PageNumber?void 0:this.PageNumber-1},sJ:function(c){this.PageNumber=parseInt(c,10)},Ln:function(){return this.Yn()},LG:function(){return this.Ln()+this.Width},Un:function(){return this.Zn()},fG:function(){return this.Un()+this.Height},TP:function(){return this.Custom},tU:function(c){this.Custom=c},Zg:function(){return this.qT},Di:function(c){this.qT=c;this.mb(!(this instanceof f.Ja))},cy:function(c){if(c.Id)for(var a=
0;a<this.Ym.length;++a)if(this.Ym[a].Id===c.Id)return;this.Ym.push(c)},DO:function(c){c=this.Ym.indexOf(c);-1<c&&this.Ym.splice(c,1)},Hu:function(){return this.Ym},hi:function(){return!(_.isUndefined(this.InReplyTo)||_.isNull(this.InReplyTo))},UI:function(){return this.YD},zf:function(){var c=this.appearances&&this.appearances._DEFAULT;return c&&c.Normal},mb:function(c){this.isImporting||(this.Ax=new Date,c||delete this.appearances);this.Gx||(this.Jk=!0)},cQ:function(){var c=[];this.Invisible&&c.push("invisible");
this.Hidden&&c.push("hidden");this.Printable&&c.push("print");this.NoZoom&&c.push("nozoom");this.NoRotate&&c.push("norotate");this.NoView&&c.push("noview");this.ReadOnly&&c.push("readonly");this.Locked&&c.push("locked");this.ToggleNoView&&c.push("togglenoview");this.LockedContents&&c.push("lockedcontents");return 0<c.length?c.join(","):null},CU:function(c){this.GM=c},lQ:function(){return this.GM},serialize:function(c,a){var e=f.ba,g=this.Qc();this.wv&&this.wv.isEqual(g)?g=this.xv:(g.LF(),this.xv&&
(delete this.xv,delete this.wv),g=e.vB(g,a));var g={page:this.Lb(),rect:g},l=e.sg(this.Color);null!==l&&(g.color=l);(l=this.cQ())&&(g.flags=l);!this.tR&&this.Id&&(g.name=this.Id);this.Author&&(g.title=this.Author);this.Subject&&(g.subject=this.Subject);(l=this.Rotation)&&0!==l&&(g.rotation=l);if(l=this.DateModified){var h;this.RA&&(l.getTime()===this.bI?h=this.RA:(delete this.RA,delete this.bI));h||(h=e.TB(l));g.date=h}for(var k in g)c.setAttribute(k,g[k]);k=this.Zg();k===this.$H?(this.cI&&(h=document.createElementNS("",
"contents-richtext"),e=document.createElementNS("",e.NT),c.NF=this.cI,h.appendChild(e),c.appendChild(h)),this.TA&&(h=document.createElementNS("","contents"),h.textContent=this.TA,c.appendChild(h))):(delete this.$H,delete this.TA,h=document.createElementNS("","contents"),h.textContent=k,c.appendChild(h));(e=this.appearances)&&b.hf.tK(new b.DC(c),e,a);return c},Qh:function(c){return(c=c.nodeName)&&this.elementName?c.toLowerCase()===this.elementName.toLowerCase():!1},deserialize:function(c,a){var e=
f.ba,g=c.getAttribute("page"),g=parseInt(g,10);this.PageNumber=g+1;this.xv=g=c.getAttribute("rect")||"0,0,100,100";g=e.cu(g,a);g.normalize();this.ug(g);g=c.getAttribute("name");this.tR=!g;this.Id=g;this.Author=c.getAttribute("title");this.Subject=c.getAttribute("subject");g=(c.getAttribute("flags")||"").split(",");this.Invisible=-1!==g.indexOf("invisible");this.Hidden=-1!==g.indexOf("hidden");this.Printable=-1!==g.indexOf("print");this.NoZoom=-1!==g.indexOf("nozoom");this.NoRotate=-1!==g.indexOf("norotate");
this.NoView=-1!==g.indexOf("noview");this.ReadOnly=-1!==g.indexOf("readonly");this.Locked=-1!==g.indexOf("locked");this.ToggleNoView=-1!==g.indexOf("togglenoview");this.LockedContents=-1!==g.indexOf("lockedcontents");g=e.tj(c.getAttribute("color"));this.Color=null!==g?g:new f.Color(0,0,0,0);(g=c.getAttribute("rotation"))&&(this.Rotation=g);(g=c.getAttribute("date"))?(this.RA=g,e=e.Ny(g),this.bI=e.getTime(),this.DateModified=e):this.DateModified=null;var e=c.getElementsByTagName("contents-richtext"),
g="",l=c.getElementsByTagName("contents"),h=c.getElementsByTagName("apref"),k;if(0<l.length)this.TA=g=l[0].textContent;else if(0<e.length)if(k=e[0].getElementsByTagName("body"),0<k.length)if(l=k[0].getElementsByTagName("span"),0<l.length)for(k=0;k<l.length;++k)g+=l[k].textContent;else g=k[0].textContent;else g=e[0].textContent;0<e.length&&(this.cI=e[0].bT);for(k=0;k<h.length;++k)b.hf.CC.aN(new b.Oe(h[k]),this,a);this.$H=g;this.Di(g)},wh:function(c){var a={x:this.X,y:this.Y},b={x:a.x+this.Width,y:a.y+
this.Height},a=c.W(a),b=c.W(b);this.wJ({x1:a.x,y1:a.y,x2:b.x,y2:b.y})},le:function(c,a){var b=c.getAttribute(a);_.isUndefined(b)||_.isNull(b)||(this[a]=b)},Lr:function(c,a){var b=c.getAttribute(a);_.isUndefined(b)||_.isNull(b)||(this[a]=Number(b))},Wa:function(c,a,b){var e=this[a];_.isUndefined(e)||_.isNull(e)||e===b||c.setAttribute(a,e)},Xj:function(){return!1},lw:function(){this.xv&&!this.wv&&(this.wv=this.Qc())}};f.Annotation.prototype=$.extend(Object.create(b.utils.eventHandler),f.Annotation.prototype);
Object.defineProperties(f.Annotation.prototype,{X:{get:function(){return this.Gs},set:function(c){this.Gs=parseFloat(c);this.mb(!0);if(c=this.zf())c.offset.x=this.Gs}},Y:{get:function(){return this.Hs},set:function(c){this.Hs=parseFloat(c);this.mb(!0);if(c=this.zf())c.offset.y=this.Hs}},Width:{get:function(){return this.Ep},set:function(c){c=parseFloat(c);window.utils.fCmp(this.Ep,c)||(this.Ep=c,this.mb())}},Height:{get:function(){return this.Dp},set:function(c){c=parseFloat(c);window.utils.fCmp(this.Dp,
c)||(this.Dp=c,this.mb())}},NoMove:{get:function(){return this.RC},set:function(c){this.RC=!0===c||"true"===c}},NoResize:{get:function(){return this.SC},set:function(c){this.SC=!0===c||"true"===c}},PageNumber:{get:function(){return this.TC},set:function(c){this.TC=parseInt(c,10)}},DateModified:{get:function(){return this.Ax},set:function(c){this.Ax=e.oG(c)}},Id:{get:function(){return this.yD},set:function(c){this.yD=c}},Author:{get:function(){return this.aD},set:function(c){this.aD=c}},IsAdded:{get:function(){return this.Gx},
set:function(c){this.Gx=c}},IsModified:{get:function(){return this.Jk},set:function(c){this.Jk=c}},IsDeleted:{get:function(){return this.CD},set:function(c){this.CD=c}},Custom:{get:function(){return this.KC},set:function(c){this.KC=c}},Listable:{get:function(){return this.ED},set:function(c){this.ED=!!c}},Color:{get:function(){return this.Yi},set:function(c){c instanceof f.Color&&(this.Yi=c,this.mb())}},MaintainAspectRatio:{get:function(){return this.QC},set:function(c){this.QC=c}}})})(window);
(function(b){var f=b.Annotations||{};f.cp=function(b){this.Gp=new f.Color;this.Pk=this.Gk=this.cn=0;this.Kd=null;this.set(b)};f.cp.prototype={set:function(b){b instanceof f.cp?(this.Gp=new f.Color(b.Gp),this.cn=b.cn,this.Gk=b.Gk,this.Pk=b.Pk,this.Kd=b.Kd):_.isArray(b)?3===b.length||4===b.length?(_.isUndefined(b[0])||(this.Gk=Number(b[0])),_.isUndefined(b[1])||(this.Pk=Number(b[1])),_.isUndefined(b[2])||(this.cn=Number(b[2])),4===b.length&&_.isArray(b[3])&&console.warn("dashed borders are currently unsupported")):
console.warn("Invalid border specification ",b," should be 3 or 4 elements long"):_.isObject(b)&&(_.isArray(b.border)&&this.set(b.border),_.isUndefined(b.color)||(this.Gp=new f.Color(b.color)),_.isUndefined(b.width)||(this.cn=Number(b.width)),_.isUndefined(b.cornerRadius)?_.isArray(b.cornerRadius)&&(this.Gk=b.cornerRadius[0]||0,this.Pk=b.cornerRadius[1]||0):this.Pk=this.Gk=Number(b.cornerRadius),_.isString(b.style)&&(this.Kd=b.style))},serialize:function(b){var c=f.ba;this.mM&&b.setAttribute("width",
this.mM);this.Kd&&b.setAttribute("style",this.Kd);var a=this.color;b.setAttribute("BC",[a.R/255,a.G/255,a.B/255].map(c.toFixed).join(","))},deserialize:function(b){var c=f.ba,a={};c.getAttribute(b,"width")?a.width=parseInt(c.getAttribute(b,"width"),10):a.width=1;c.getAttribute(b,"style")&&(a.style=c.getAttribute(b,"style"),"beveled"===a.style&&(a.style="bevelled"));c.getAttribute(b,"BC")&&(a.color=c.getAttribute(b,"BC").split(",").map(Number));this.set(a)},SB:function(){var b=_.isNull(this.Kd)?"solid":
this.Kd,c=this.cn,a=this.Gk.toFixed(6)+"px "+this.Pk.toFixed(6)+"px",d={};"underline"===b?(d["border-bottom-style"]="solid",d["border-top-style"]="hidden",d["border-left-style"]="hidden",d["border-right-style"]="hidden"):(b={solid:"solid",bevelled:"outset",inset:"inset"}[b],_.isUndefined(b)&&(b="solid"),d["border-style"]=b);d["border-color"]=this.Gp.toString();d["border-width"]=c;d["border-top-left-radius"]=a;d["border-top-right-radius"]=a;d["border-bottom-left-radius"]=a;d["border-bottom-right-radius"]=
a;return d}};Object.defineProperties(f.cp.prototype,{color:{get:function(){return this.Gp},set:function(b){this.set({color:b})}},width:{get:function(){return this.cn},set:function(b){this.set({width:b})}},style:{get:function(){return this.Kd},set:function(b){this.set({style:b})}},cornerRadius:{get:function(){return[this.Gk,this.Pk]},set:function(b){this.set({cornerRadius:b})}}})})(window);
(function(b){var f=b.Annotations||{},e=f.ha||{};f.Ig=function(c){this.Dk=this.uc="";this._size=0;this.Rs=new f.Color([0,0,0]);this.Ok=new f.Color([0,0,0]);this.Bt="Type1";this.aj=0;this.OD=4;this.MD=12;this.set(c)};f.Ig.prototype={set:function(c){_.isObject(c)?(c.name&&(this.uc=String(c.name),this.Dk=f.ba.wr(this.uc),this.zx=f.ba.lI(this.uc),this.hD=f.ba.kI(this.uc)),c.size&&(this._size=Number(c.size)),c.fillColor&&(this.Rs=new f.Color(c.fillColor)),c.strokeColor&&(this.Ok=new f.Color(c.strokeColor)),
c.type&&(this.Bt=c.type)):_.isString(c)&&(this.uc=c,this.Dk=f.ba.wr(this.uc),this.zx=f.ba.lI(this.uc),this.hD=f.ba.kI(this.uc))},uP:function(c,a,b){if(0===this._size){var f=a.Nu(1);if(0===c.replace(/\s/g,"").length)return this.aj=Math.min(f/2,this.MD);var l=20;b?(l=f*e.kk,a.element?(a=a.element[0].cloneNode(!0),f=document.getElementsByTagName("body")[0],f.appendChild(a),l=e.TF(c,a.children[0],l)/e.kk,f.removeChild(a)):l/=2):(a=.95*a.aA(1),f*=.95,c=e.measureText(c,l,this.Dk?this.Dk:void 0,this.zx),
l*=Math.min(a/c.width,f/c.height));return this.aj=Math.max(this.OD,Math.min(l,this.MD))}},deserialize:function(c,a){var b=f.ba;if(b.getAttribute(c,"FontName")){var e=b.getAttribute(c,"FontName");this.uc=e;this.Dk=f.ba.wr(e)}if(b.getAttribute(c,"FontSize")){var e=parseFloat(b.getAttribute(c,"FontSize")),b=a.W({x:0,y:0}),l=a.W({x:e,y:0}),e=b.x-l.x,b=b.y-l.y;this._size=Math.sqrt(e*e+b*b)}},ul:function(){return this.Rs.ul()&&this.Ok.ul()},SB:function(c){var a={};""!==this.Dk&&(a["font-family"]=this.Dk,
a["font-weight"]=this.zx,a["font-style"]=this.hD);a["font-size"]=0===this._size&&0!==this.aj?String(this.aj*c)+"px":String(this._size*c)+"px";a.color=this.Rs.toString();3>parseFloat(a["font-size"])&&(a["font-size"]="3px");return a}};Object.defineProperties(f.Ig.prototype,{name:{get:function(){return this.uc},set:function(c){this.set({name:c})}},size:{get:function(){return this._size},set:function(c){this.set({size:c})}},type:{get:function(){return this.Bt}},strokeColor:{get:function(){return this.Ok},
set:function(c){this.set({strokeColor:c})}},fillColor:{get:function(){return this.Rs},set:function(c){this.set({fillColor:c})}},calculatedSize:{get:function(){return 0===this._size?this.aj:this._size}}})})(window);
(function(b){var f=b.Annotations||{};f.HTMLAnnotation=function(e){f.Annotation.call(this);b.Actions.yh.call(this,e);this.Ok=new f.Color(0,0,0,1);this.Ls=new f.Color;this.Ms=new f.cp;this.Ws=!1;this.Tx=0;this.ve=this.Xf=null;this.on("contentRemoved",function(){this.ve=this.Xf=null;this.ux=!1});this.At=!0;_.isObject(e)&&(_.isUndefined(e.border)||this.Ms.set(e.border),_.isUndefined(e.backgroundColor)||(this.Ls=new f.Color(e.backgroundColor)),_.isUndefined(e.color)||(this.Ok=new f.Color(e.color)),_.isUndefined(e.rect)||
(this.rect=new f.Rect(e.rect)));var c=this.Pq(),a=this;Object.keys(c).forEach(function(b){var e=c[b];$(a).on(e.internal_name,function(c){a.Ie(b,e.getEvent(a,c))})})};f.HTMLAnnotation.prototype={uj:"",aA:function(b){return(this.Ba()-(this.At?2*this.border.width:0))*b},Nu:function(b){return(this.xa()-(this.At?2*this.border.width:0))*b},MJ:function(b){this.At=!!b},serialize:function(){this.Hidden=this.hidden;f.Annotation.prototype.serialize.apply(this,arguments)},deserialize:function(){f.Annotation.prototype.deserialize.apply(this,
arguments);this.Hidden&&(this.hidden=!0,this.Hidden=!1)},Pq:function(){return{}},Oh:function(){},fe:function(e){var c=this.Tx,a=b.utils.getRotationOffsets(c,this.Ba(),this.xa()),d=a.dx*e,a=a.dy*e;return $.extend({left:this.X*e,top:this.Y*e,width:this.aA(e),height:this.Nu(e),position:"absolute",padding:"0",margin:"0","background-color":this.Ls.toString(),"z-index":"35",display:this.Ws?"none":"",transform:"translate("+d+"px,"+a+"px) rotate("+-c+"deg)","transform-origin":"top left","-webkit-transform":"translate("+
d+"px,"+a+"px) rotate("+-c+"deg)","-webkit-transform-origin":"top left","-ms-transform":"translate("+d+"px,"+a+"px) rotate("+-c+"deg)","-ms-transform-origin":"top left","-moz-transform":"translate("+d+"px,"+a+"px) rotate("+-c+"deg)","-moz-transform-origin":"top left","-webkit-appearance":"none"},this.At?this.Ms.SB(e):{})},yc:function(b){if(!b)throw Error("no zoom?");return{position:"absolute","font-size":"inherit","font-family":"inherit","font-weight":"inherit","font-style":"inherit",color:"inherit",
width:this.aA(b),height:this.Nu(b),border:0,padding:0,margin:0,"background-color":"transparent","vertical-align":"top"}},gq:function(b,c){for(var a in c){var d=c[a];"number"===typeof d&&(d+="px");b.style[a]=d}},Mf:function(b){this.Ws=!b;this.Xf&&(this.Xf[0].style.display=this.Ws?"none":"")},createInnerElement:function(){console.warn("missing inner element");return null},wG:function(){return this.ve},qG:function(){return this.Xf},render:function(b,c,a,d){if(!this.Xf){var f=document.createElement("div");
f.className=this.uj;this.Xf=$(f)}var f=d?$(this.Xf[0].cloneNode()):this.Xf,l=this.fe(a,c),h=JSON.stringify(l);h!==f.yA&&(f.css(l),f.yA=h);if(this.ve=this.ve||this.createInnerElement(c)){var k=d?$(this.ve[0].cloneNode(!0)):this.ve;k!==this.ve&&(this.refresh&&this.refresh(),k[0].value=this.ve[0].value,this.ve[0].checked&&(k[0].checked=!0));document.activeElement===k[0]&&k.trigger("focusout");a=this.yc(a);h=JSON.stringify(a);h!==k.yA&&(this.gq(k[0],a),k.yA=h);this.ux||(this.Oh(c),this.ux=!0)}if(this.Xf[0].parentNode!==
b[0])for(b[0].appendChild(f[0]),b=0;b<this.ve.length;++b)c=0===b?k[0]:d?this.ve[b].cloneNode(!0):this.ve[b],f[0].appendChild(c)},vw:function(){this.Xf&&(this.Xf.remove(),this.ux=!1)}};f.HTMLAnnotation.prototype=$.extend(Object.create(f.Annotation.prototype),f.HTMLAnnotation.prototype,b.Actions.yh.prototype);Object.defineProperties(f.HTMLAnnotation.prototype,{rect:{get:function(){return this.Qc()},set:function(b){this.ug(b)}},element:{get:function(){return this.qG()}},innerElement:{get:function(){return this.wG()}},
hidden:{get:function(){return this.Ws},set:function(b){this.Mf(!b)}},StrokeColor:{get:function(){return this.Ok},set:function(b){this.Ok=new f.Color(b)}},border:{get:function(){return this.Ms},set:function(b){this.Ms.set(b)}},backgroundColor:{get:function(){return this.Ls},set:function(b){this.Ls=new f.Color(b)}},actions:{get:function(){return this.xj()}},rotation:{get:function(){return this.Tx},set:function(b){this.Tx=Number(b)}}})})(window);
(function(b){var f=b.Annotations||{};f.nd=function(b){f.HTMLAnnotation.call(this,b);this.Listable=!1};f.nd.prototype=Object.create(f.HTMLAnnotation.prototype);f.nd.prototype.elementName="link";f.nd.prototype.createInnerElement=function(){var b=document.createElement("span");b.className="link";b.setAttribute("tabindex",0);return $(b)};f.nd.prototype.Oh=function(){f.HTMLAnnotation.prototype.Oh.apply(this,arguments);var b=this;this.innerElement.on("tap",function(){b.trigger("mouseup")})};f.nd.prototype.tH=
function(){return!0};f.nd.prototype.Pq=function(){var e=b.Annotations.O.vb.Events;return $.extend(f.HTMLAnnotation.prototype.Pq.call(this),{U:{triggers:"tap",internal_name:"mouseup",getEvent:function(){return e.nd.create("Mouse Up")}}})};f.nd.prototype.fe=function(b,c){var a=f.HTMLAnnotation.prototype.fe.apply(this,arguments),d={};if(this.StrokeThickness&&this.StrokeColor){var g=this.StrokeStyle,l="border";"underline"===g&&(l="border-bottom");"solid"!==g&&"dashed"!==g&&"inset"!==g&&(g="solid");var h=
c.u.Oc(this.Lb());d[l]=f.ha.fq(h,this.StrokeThickness)*b+"px "+g+" "+this.StrokeColor.toHexString()}return $.extend(a,d)};f.nd.prototype.deserialize=function(b,c,a){f.HTMLAnnotation.prototype.deserialize.call(this,b,c,a);var d=f.ba.tj(b.getAttribute("color"));d&&(this.StrokeColor=d);d=b.getAttribute("width");"undefined"!==typeof d&&null!==d&&(this.StrokeThickness=parseFloat(d));d=b.getAttribute("style");"undefined"!==typeof d&&null!==d&&(this.StrokeStyle=d);this.kE(b,c,a)};f.nd.prototype.serialize=
function(b,c){f.HTMLAnnotation.prototype.serialize.call(this,b,c);this.StrokeColor&&b.setAttribute("color",this.StrokeColor.toHexString());"undefined"!==typeof this.StrokeThickness&&null!==this.StrokeThickness&&b.setAttribute("width",this.StrokeThickness);this.StrokeStyle&&b.setAttribute("style",this.StrokeStyle);this.cU(b,c);return b}})(window);
(function(b){var f=b.Annotations||{};f.nk=function(){f.Annotation.call(this);this._isOpen=!1;this.Id=null;this.NoRotate=this.NoZoom=this.Printable=!0;this.DateModified=null};f.nk.prototype={elementName:"popup",isOpen:function(){return this._isOpen},rJ:function(b){this._isOpen=b},serialize:function(b){b=f.Annotation.prototype.serialize.apply(this,arguments);this.isOpen()&&b.setAttribute("open","yes");return b},deserialize:function(b){this.Printable=!1;f.Annotation.prototype.deserialize.apply(this,
arguments);var c=b.getAttribute("open");this.rJ(c&&"yes"===c)}};f.nk.prototype=$.extend(new f.Annotation,f.nk.prototype)})(window);
(function(b){var f=b.Annotations||{},e=f.ha||{};f.WidgetAnnotation=function(c,a){f.HTMLAnnotation.call(this,a);if(!c)throw Error("Please set the field properly in the widget constructor");this._value=null;this.Ha=c;this.Mm=null;c.nN(this,a?a.index:void 0);this.IsAdded=!1;this.OW=new Date;this.UD="Left-justified";this.Listable=!1;this.ZC="";this.tx={};this.bD={Normal:"",Rollover:"",Down:""};this.Os=!1;this.fc=new f.Wi({mask:"Invisible Hidden NoPrint NoZoom NoRotate NoView ReadOnly Locked ToggleNoView LockedContents".split(" ")});
this["_xsi:type"]="Widget";this.Subject=this["_xsi:type"];this.set(a);var b=this;this.on("commit",_.bind(this.By,this));this.on("change",function(a,c){b.jJ();b.vg(c);b.trigger("commit")});this.on("blur",function(){b.fieldFlags.get("ReadOnly")||b.Gb(b.Ha.value);b.refresh()});this.on("focus",function(){b.fieldFlags.get("ReadOnly")||b.vg(b.Ha.value);b.refresh()})};f.WidgetAnnotation.prototype={elementName:"widget",$l:null,Qh:function(c){if(!f.Annotation.prototype.Qh.call(this,c)||!this.$l)return!1;c=
f.ba.getAttribute(c,"FT");return this.$l===c},$h:function(){for(var c="",a=Object.keys(this.appearances),b=0;b<a.length;++b){var e=a[b];if("Off"!==e){c=e;break}}return c},mg:function(c){this.vg(c)},jJ:function(){this.Os=!0},set:function(c){if(_.isObject(c)){_.isUndefined(c.value)||(this.value=String(c.value));_.isUndefined(c.flags)||(this.fc.set(c.flags),this.fc.get("Hidden")&&this.Mf(!1),this.fc.get("NoView")&&this.Mf(!1));if(!_.isUndefined(c.captions)){var a=c.captions,b=this.bD;Object.keys(a).forEach(function(c){b[c]=
a[c]})}_.isUndefined(c.page)||(this.PageNumber=c.page);_.isUndefined(c.quadding)||(this.quadding=c.quadding);_.isUndefined(c.appearances)||(this.tx=c.appearances);_.isUndefined(c.appearance)||(this.appearance=c.appearance);_.isUndefined(c.rotation)||(this.rotation=c.rotation);_.isUndefined(c.font)||(this.font=c.font)}},fe:function(c){var a=f.HTMLAnnotation.prototype.fe.apply(this,arguments),a=$.extend(a,this.font.SB(c));this.fieldFlags.get("Required")&&(a.border=1.5*c+"px solid red");return $.extend(a,
this.RP())},yc:function(){var c=f.HTMLAnnotation.prototype.yc.apply(this,arguments);return $.extend(c,{"text-align":{"Left-justified":"left",Centered:"center","Right-justified":"right"}[this.quadding]})},RP:function(){var c=f.WidgetAnnotation.getContainerCustomStyles;return c&&c(this)},kl:function(){var c=f.WidgetAnnotation.getCustomStyles;return c&&c(this)},uE:function(){function c(a){a.scale&&1!==a.scale&&a.preventDefault();a.stopPropagation()}var a=this.ve[0];a.addEventListener("touchstart",c,
{zr:!1});a.addEventListener("touchmove",c,{zr:!1});a.addEventListener("touchend",c,{zr:!1});a.addEventListener("mousedown",c,{zr:!1});a.addEventListener("mousemove",c,{zr:!1});a.addEventListener("mouseup",c,{zr:!1})},Kj:function(){return!0},Va:function(){return this._value},Gb:function(c){c=b.Annotations.O.vb.Events.ga.create("Format",this.Ha,{value:c});this.Ha.Ie("F",c);this.vg(c.value)},Mf:function(c){this.fc.set("Hidden",!c);f.HTMLAnnotation.prototype.Mf.call(this,c)},render:function(c,a,b,g){if(!g){e.kk=
b;var l=!1;this.innerElement&&this.element||(l=!0)}f.HTMLAnnotation.prototype.render.apply(this,arguments);l&&!g&&(this.element.attr("id",this.Ha.name),this.refresh())},vg:function(c){this._value=c;this.refresh()},refresh:function(){var c=this.fieldFlags.get("Multiline"),a=this._value?String(this._value):"";this instanceof f.xh||this.font.uP(a,this,c);if(c=this.element)if(c[0].setAttribute("id",this.Ha.name),a=this.fe(e.kk),this.gq(c[0],a),c=this.innerElement)this.Ha&&this.Ha.userName&&c[0].setAttribute("title",
this.Ha.userName),a=this.yc(e.kk),this.gq(c[0],a)},di:function(){return null},deserialize:function(c,a,b){f.HTMLAnnotation.prototype.deserialize.call(this,c,a);var e=f.ba;this.Ha.zJ(e.getAttribute(c,"FT"));e.getAttribute(c,"creationdate")?this.DateCreated=e.Ny(e.getAttribute(c,"creationdate")):this.DateCreated=null;this.border.deserialize(c);this.fieldFlags.deserialize(c);this.font.deserialize(c,a);var l=e.Gn(c,"V","value");this.mg(l);this.Ha.mg(l);this.defaultValue=e.Gn(c,"DV","defaultvalue");l=
e.Gn(c,"defaultappearance","defaultappearance");l=e.jI(l);e.getAttribute(c,"color")?this.StrokeColor=e.getAttribute(c,"color").split(","):l.color&&(this.StrokeColor=l.color);e.getAttribute(c,"BG")&&(this.backgroundColor=e.getAttribute(c,"BG").split(","));this.rotation=e=(e=e.getAttribute(c,"rotation"))?parseInt(e,10):0;if(90===e||270===e)e=this.Width,this.Width=this.Height,this.Height=e;this.kE(c,a,b)},serialize:function(){},Cb:function(){return this.Ha},mJ:function(c){this.Ha=c;this.vg(this.Ha.value)},
tg:function(c){f.HTMLAnnotation.prototype.tg.call(this,c);this.Ha&&this.Ha.tg(c)},dN:function(c,a){this.Ha.Rk(c,a)},Rk:function(c,a){-1!==["K","V","F","C"].indexOf(c)?this.dN(c,a):f.HTMLAnnotation.prototype.Rk.call(this,c,a)},By:function(){this.Ha.trigger("commit",this.Va(),this)},Pq:function(){var c=b.Annotations.O.vb.Events,a=this;return $.extend(f.HTMLAnnotation.prototype.Pq.call(this),{E:{triggers:"mouseenter",internal_name:"mouseenter",getEvent:function(){return c.ga.create("Mouse Enter",a.Cb())}},
X:{triggers:"mouseleave",internal_name:"mouseleave",getEvent:function(){return c.ga.create("Mouse Leave",a.Cb())}},D:{triggers:"mousedown",internal_name:"mousedown",getEvent:function(){return c.ga.create("Mouse Down",a.Cb())}},U:{triggers:b.utils.mouseUpEventBug?"touchend":"mouseup",internal_name:"mouseup",getEvent:function(){return c.ga.create("Mouse Up",a.Cb())}},Bl:{triggers:"focusout",internal_name:"blur",getEvent:function(){var b=a.Cb();return c.ga.create("Blur",b,{value:b.value})}},Fo:{triggers:"focusin",
internal_name:"focus",getEvent:function(){return c.ga.create("Focus",a.Cb())}}})},pR:function(){return!!this.Mm},Oh:function(){f.HTMLAnnotation.prototype.Oh.apply(this,arguments);var c=this,a=this.innerElement;a&&(a.on("focusout",function(){c.Os&&(c.Os=!1,c.trigger("commit"));c.trigger("blur")}),a.on("focusin",function(){c.trigger("focus")}),a.on("mouseenter",function(){c.trigger("mouseenter")}),a.on("mouseleave",function(){c.trigger("mouseleave")}),a.on("mousedown",function(){c.trigger("mousedown")}),
a.on(c.kK?"click":b.utils.mouseUpEventBug?"touchend":"mouseup",function(){c.trigger("mouseup")}))}};f.WidgetAnnotation.prototype=$.extend(Object.create(f.HTMLAnnotation.prototype),f.WidgetAnnotation.prototype);Object.defineProperties(f.WidgetAnnotation.prototype,{fieldName:{get:function(){return this.Ha.name}},value:{get:function(){return this.Va()},set:function(c){this.Gb(c)}},defaultValue:{get:function(){return this.Ha.defaultValue},set:function(c){this.Ha.defaultValue=c}},fieldFlags:{get:function(){return this.Ha.flags}},
flags:{get:function(){return this.fc}},font:{get:function(){return this.Mm||this.Ha.font},set:function(c){this.Mm=new b.Annotations.Ig(c)}},fieldActions:{get:function(){return this.Ha.actions}},appearance:{get:function(){return this.ZC},set:function(c){this.tx[c]?this.ZC=c:console.log("Unknown appearance: "+c)}},quadding:{get:function(){return this.UD},set:function(c){this.UD=c}},appearances:{get:function(){return this.tx}},captions:{get:function(){return this.bD}}})})(window);
(function(b){var f=b.Annotations||{},e=f.ha||{};f.nc=function(c,a){f.WidgetAnnotation.call(this,c,a)};f.nc.prototype={$l:"Btn",Ot:null,Qh:function(c){if(f.WidgetAnnotation.prototype.Qh.call(this,c)){var a=new f.Wi({mask:["PushButton","Radio"]}),b="C";a.deserialize(c);a.get("PushButton")?b="P":a.get("Radio")&&(b="R");return b===this.Ot}return!1},ZI:function(c){if(b.utils.isSafari||b.utils.isFirefox)16>c.height||16>c.width?(c.transform="scale("+Math.min(c.height,c.width)/16+")",c.transformOrigin="top left"):
(c.transform="",c.transformOrigin="")}};f.nc.prototype=$.extend(Object.create(f.WidgetAnnotation.prototype),f.nc.prototype);f.Ri=function(c,a){f.nc.call(this,c,a)};f.Ri.prototype={Ot:"P",uj:"pButton",yc:function(){return $.extend(f.nc.prototype.yc.apply(this,arguments),{"background-color":"transparent"},this.kl())},deserialize:function(c,a,b){var e=f.ba;f.nc.prototype.deserialize.call(this,c,a,b);(c=e.getAttribute(c,"ButtonLabel"))&&(this.captions.Normal=c)},di:function(){return null},createInnerElement:function(){var c=
document.createElement("button");c.setAttribute("tabindex",0);$(c).append(this.captions.Normal);this.fieldFlags.get("ReadOnly")&&(c.disabled=!0);return $(c)}};f.Ri.prototype=$.extend(!0,Object.create(f.nc.prototype),f.Ri.prototype);f.xh=function(c,a){f.nc.call(this,c,a);this.MJ(!1);var b=this;this.kK=!0;this.on("click",function(){"Off"===this.Va()?b.trigger("change",b.$h()):b.trigger("change","Off")})};f.xh.prototype={Ot:"C",uj:"checkBox",refresh:function(){f.WidgetAnnotation.prototype.refresh.call(this);
var c=this.innerElement;c&&(c.prop("checked",this.Va()===this.$h()),c.css(this.yc(e.kk)))},vg:function(c){c===this.$h()?(this.appearance=c,f.nc.prototype.vg.call(this,c)):(this.appearance="Off",f.nc.prototype.vg.call(this,"Off"))},yc:function(){var c=f.nc.prototype.yc.apply(this,arguments);c.left=Math.round(c.left);c.top=Math.round(c.top);this.ZI(c);return $.extend(c,{border:"none",margin:0},this.kl())},di:function(){var c=this.innerElement;if(c)return c.prop("checked")?this.$h():"Off"},createInnerElement:function(){var c=
document.createElement("input");c.type="checkbox";c.setAttribute("tabindex",0);this.fieldFlags.get("ReadOnly")&&(c.disabled=!0);var a=this,c=$(c);c.on("click",function(){a.trigger("click")});return c},deserialize:function(c,a,b){var e=f.ba.getAttribute(c,"N");e&&(this.appearances.Off={},this.appearances[e]={});f.nc.prototype.deserialize.call(this,c,a,b)}};f.xh.prototype=$.extend(!0,Object.create(f.nc.prototype),f.xh.prototype);Object.defineProperties(f.xh.prototype,{buttonName:{set:function(c){this.nM=
c},get:function(){return this.nM}}});f.pk=function(c,a){f.nc.call(this,c,a);this.MJ(!1);var b=this;this.kK=!0;this.on("click",function(){"Off"===this.Va()?b.trigger("change",b.$h()):b.trigger("change","Off")})};f.pk.prototype={Ot:"R",uj:"radioButton",di:function(){return this.$h()},refresh:function(){var c=this.innerElement;c&&(c.prop("checked",this.Ha.Va()===this.di()),c.css(this.yc(e.kk)))},yc:function(){var c=f.nc.prototype.yc.apply(this,arguments);c.left=Math.round(c.left);c.top=Math.round(c.top);
this.ZI(c);return $.extend(c,{border:"none",margin:0},this.kl())},vg:function(c){"Off"!==c&&-1!==Object.keys(this.appearances).indexOf(c)?(this.appearance=c,f.nc.prototype.vg.call(this,c)):(this.appearance="Off",f.nc.prototype.vg.call(this,"Off"))},createInnerElement:function(){var c=document.createElement("input");c.type="radio";c.setAttribute("tabindex",0);this.fieldFlags.get("ReadOnly")&&(c.disabled=!0);var a=this;$(c).on("click",function(){a.trigger("click")});return $(c)},deserialize:function(c,
a,b){var e=f.ba.getAttribute(c,"N");e&&(this.appearances.Off={},this.appearances[e]={});f.nc.prototype.deserialize.call(this,c,a,b)}};f.pk.prototype=$.extend(!0,Object.create(f.nc.prototype),f.pk.prototype)})(window);
(function(b){var f=b.Annotations||{},e=f.ha||{},c,a;f.ra=function(){f.Annotation.call(this);this.Uf=new f.Color(0,0,0,0);this._opacity=this.Zi=1;this.iD=new Date;this.ut=null};f.ra.prototype={cc:function(a,c){null!==this.Opacity&&(a.globalAlpha=this.Opacity);null!==this.FillColor&&(a.fillStyle=this.FillColor.toString());null!==this.StrokeColor&&(a.strokeStyle=this.StrokeColor.toString());a.lineWidth=0===this.StrokeThickness?.001:this.yj(c)},wV:function(){var b=this.X+this.Ba()+2*this.StrokeThickness+
100,e=this.Y+this.xa()+2*this.StrokeThickness+100;c=c||document.createElement("canvas").getContext("2d");c.canvas.width=b;c.canvas.height=e;a=a||document.createElement("canvas").getContext("2d");a.canvas.width=b;a.canvas.height=e},eP:function(b,e){this.wV();this.cc(c,e);c.globalAlpha=1;this.Xh(c);c.stroke();this.cc(a,e);a.globalAlpha=1;this.Xh(a);a.fill();c.globalCompositeOperation="source-out";c.drawImage(a.canvas,0,0);this.cc(b,e);b.globalCompositeOperation="source-over";b.drawImage(c.canvas,0,
0);this.Xh(b);b.stroke()},Yy:function(a,c){a.beginPath();1!==this.Opacity&&null!==this.Opacity?this.eP(a,c):(this.cc(a,c),this.Xh(a),a.fill(),a.stroke())},Xh:function(){},GG:function(){return this.ut},uJ:function(a){this.ut=a},yj:function(a){return f.ha.fq(a,this.StrokeThickness)},serialize:function(a,c){var b=f.Annotation.prototype.serialize.apply(this,arguments),e=f.ba,k={},m=e.sg(this.FillColor);null!==m&&(k["interior-color"]=m);_.isUndefined(this.StrokeThickness)||_.isNull(this.StrokeThickness)||
(m=this.StrokeThickness,1!==m&&(k.width=m));_.isUndefined(this.Opacity)||_.isNull(this.Opacity)||1===this.Opacity||(k.opacity=this.Opacity);(m=this.fringe)&&!m.AH()&&(k.fringe=f.ba.tB(this.fringe,c));if(m=this.DateCreated){var n;this.QA&&(m.getTime()===this.aI?n=this.QA:(delete this.QA,delete this.aI));n||(n=e.TB(m));k.creationdate=n}this.Wa(b,"style","solid");this.Wa(b,"dashes","3");this.Wa(b,"IT");this.Wa(b,"inreplyto");this.Wa(b,"replyType");for(var r in k)b.setAttribute(r,k[r]);!this.ut||this instanceof
f.Ja||(e=document.createElementNS("","popup"),e=this.ut.serialize(e,c),b.appendChild(e));return b},deserialize:function(a,c,b){f.Annotation.prototype.deserialize.apply(this,arguments);var e=f.ba,k=a.getAttribute("opacity");this.Opacity="undefined"!==typeof k&&null!==k?parseFloat(k):1;k=a.getAttribute("width");if(null!==this.StrokeThickness||"undefined"!==typeof k&&null!==k)this.Zi=parseFloat(k||"1");this.le(a,"style");this.le(a,"dashes");this.le(a,"IT");this.le(a,"inreplyto");this.le(a,"replyType");
this.SA=k=a.getAttribute("fringe");"undefined"!==typeof k&&null!==k&&(this.fringe=e.oF(k,c));k=e.tj(a.getAttribute("interior-color"));null!==k?this.FillColor=k:null!==this.FillColor&&(this.FillColor=new f.Color(0,0,0,0));(k=a.getAttribute("creationdate"))?(this.QA=k,e=e.Ny(k),this.aI=e.getTime(),this.DateCreated=e):this.DateCreated=null;e=a.getElementsByTagName("popup");0<e.length&&(k=new f.nk,k.deserialize(e[0],c,b),this.uJ(k))},selectionModel:f.pa,ZG:!0};f.ra.prototype=$.extend(!0,new f.Annotation,
f.ra.prototype);Object.defineProperties(f.ra.prototype,{FillColor:{get:function(){return this.Uf},set:function(a){a instanceof f.Color&&(this.Uf=a,this.mb())}},StrokeColor:{get:function(){return this.Yi},set:function(a){a instanceof f.Color&&(this.Yi=a,this.mb())}},StrokeThickness:{get:function(){return this.Zi},set:function(a){this.Zi=parseFloat(a);this.mb();this.adjustRect()}},Opacity:{get:function(){return this._opacity},set:function(a){this._opacity=parseFloat(a);this.mb()}},DateCreated:{get:function(){return this.iD},
set:function(a){this.iD=e.oG(a)}}})})(window);
(function(b){var f=b.Annotations||{};f.Gg=function(e,c){var a=this;a.on("change",function(c,e){var f=b.Annotations.O.vb.Events.ga.create("Keystroke",a.Ha,{value:e,change:"",willCommit:!1,selStart:-1,selEnd:-1});a.Ha.Ie("K",f)});f.WidgetAnnotation.call(this,e,c)};f.Gg.FORCE_SELECT=!1;f.Gg.prototype={$l:"Ch",uj:"choice",Oh:function(){f.WidgetAnnotation.prototype.Oh.apply(this,arguments);this.uE()},Qh:function(b){if(f.WidgetAnnotation.prototype.Qh.call(this,b)){var c=new f.Wi({mask:["Combo"]});c.deserialize(b);
if(c.get("Combo"))return!0}return!1},deserialize:function(b,c,a){f.WidgetAnnotation.prototype.deserialize.call(this,b,c,a);c=f.ba;c.getAttribute(b,"Opt")&&(b=c.getAttribute(b,"Opt"),this.Ha.options=b.split(",").map(function(a){return{value:a,displayValue:a}}),this.Cb().mg(this.Va()),this.mg(this.Cb().Va()))},fe:function(){return $.extend(f.WidgetAnnotation.prototype.fe.apply(this,arguments),{"overflow-y":"visible","overflow-x":"hide","z-index":"36"})},yc:function(b){return $.extend(f.WidgetAnnotation.prototype.yc.apply(this,
arguments),{resize:"none","min-height":"",height:this.Nu(b)},this.kl())},refresh:function(){f.WidgetAnnotation.prototype.refresh.apply(this,arguments);var b=this.innerElement,c=this.Va();b&&b.val(c)},di:function(){var b=this.innerElement;if(b)return b.val()},createInnerElement:function(){function e(){c(50,l.length);h.off("mousedown",null,e);h.off("touchend",null,e)}function c(a,c){for(var b=document.createDocumentFragment(),e=a;e<c;++e){var f=l[e],g=document.createElement("OPTION");g.text=_.isUndefined(f.displayValue)?
f.value:f.displayValue;g.value=f.value;b.appendChild(g)}d.appendChild(b)}var a,d,g=this;!g.fieldFlags.get("Edit")||b.utils.isSafari||9===b.utils.ie||f.Gg.FORCE_SELECT?d=a=document.createElement("select"):(a=document.createElement("input"),a.setAttribute("list",g.fieldName+"_list"),$(a).on("focus",function(){this.value=""}),d=document.createElement("datalist"),d.id=g.fieldName+"_list");g.fieldFlags.get("ReadOnly")&&(a.disabled=!0);var l=g.options,h=d===a?$(a):$([a,d]);50<l.length?(c(0,50),h.on("mousedown",
e),h.on("touchend",e)):c(0,l.length);h.on("change",function(){g.trigger("change",[g.di()])});return h}};f.Gg.prototype=$.extend(Object.create(f.WidgetAnnotation.prototype),f.Gg.prototype);Object.defineProperties(f.Gg.prototype,{options:{get:function(){return this.Ha.options}}})})(window);
(function(b){var f=b.Annotations||{};f.Ni=function(b,c){f.WidgetAnnotation.call(this,b,c)};f.Ni.prototype={$l:"Ch",uj:"list",refresh:function(){f.WidgetAnnotation.prototype.refresh.apply(this,arguments);var b=this.innerElement;b&&(b[0].value=this.Va())},Qh:function(b){if(f.WidgetAnnotation.prototype.Qh.call(this,b)){var c=new f.Wi({mask:"Combo"});c.deserialize(b);if(!c.get("Combo"))return!0}return!1},deserialize:function(b,c,a){f.WidgetAnnotation.prototype.deserialize.call(this,b,c,a);c=f.ba;c.getAttribute(b,
"Opt")&&(b=c.getAttribute(b,"Opt"),this.Ha.options=b.split(",").map(function(a){return{value:a,displayValue:a}}),this.Cb().mg(this.Va()),this.mg(this.Cb().Va()))},fe:function(){return $.extend(f.WidgetAnnotation.prototype.fe.apply(this,arguments),{"overflow-y":"auto","overflow-x":"hidden"})},di:function(){var b=this.innerElement;return b?b.val():null},yc:function(){return $.extend(f.WidgetAnnotation.prototype.yc.apply(this,arguments),{"overflow-y":"scroll","overflow-x":"hidden"},this.kl())},createInnerElement:function(){var b=
document.createElement("select");b.name=this.fieldName.replace(/\.|\s/g,"_");b.setAttribute("size",this.options.length);this.options.forEach(function(a){var c=_.isUndefined(a.displayValue)?a.value:a.displayValue,f=document.createElement("option");f.value=a.value;f.innerHTML=c;b.appendChild(f)});this.fieldFlags.get("ReadOnly")&&(b.disabled=!0);this.fieldFlags.get("MultiSelect")&&(b.multiple=!0);var c=this;$(b).on("change",function(){c.trigger("change",[c.di()])});return $(b)}};f.Ni.prototype=$.extend(Object.create(f.WidgetAnnotation.prototype),
f.Ni.prototype);Object.defineProperties(f.Ni.prototype,{options:{get:function(){return this.Ha.options}}})})(window);
(function(b){var f=b.Annotations||{};f.uk=function(b,c){f.WidgetAnnotation.call(this,b,c);this.Ux=null};f.uk.prototype={$l:"Sig",uj:"signature",deserialize:function(b,c,a){f.WidgetAnnotation.prototype.deserialize.call(this,b,c,a);b=b.getElementsByTagName("imagedata");0<b.length&&(this.appearances._DEFAULT={Normal:b[0].textContent},this.appearance="_DEFAULT")},yc:function(){var b=f.WidgetAnnotation.prototype.yc.apply(this,arguments);return $.extend(b,{width:b.width,height:b.height},this.kl())},createInnerElement:function(b){var c=
this,a=document.createElement("div");this.kR(this.hQ()).then(function(d){if(d[0]){var f;f=b.u.Qq("AnnotationCreateSignature");d=c.rO(f);d=c.qO(d,f,b)}else d=d[1],d.style.maxWidth="100%",d.style.maxHeight="100%";a.appendChild(d)});return $(a)},hQ:function(){var b="",c=this.appearances[this.appearance];c&&(c=c.Normal)&&c.data&&(b=c.data);return b},kR:function(b){var c=this;return new Promise(function(a){var d=new Image;d.src=b;d.onload=function(){a([c.VR(this),this])}})},VR:function(b){var c=document.createElement("canvas"),
a=c.getContext("2d");c.width=b.width;c.height=b.height;a.drawImage(b,0,0);b=!0;for(var d=a.getImageData(0,0,c.width,c.height).data,c=0;c<d.length;c+=4)if(a=d[c+3],0!==a){b=!1;break}return b},nR:function(b,c,a){this.Ux&&a.eg(this.Ux);b.style.display="none";this.Ux=c;this.gU(c,this);a.Tb(c)},gU:function(b,c){var a=Math.min(c.Height/b.Height,c.Width/b.Width),d=b.Dj(),f=c.Qc(),l,h,k;for(l=0;l<d.length;l++)for(h=0;h<d[l].length;h++)k=d[l][h],k.x=(k.x-b.X)*a+f.x1,k.y=(k.y-b.Y)*a+f.y1;b.X=f.x1;b.Y=f.y1;
b.Width=c.Width;b.Height=c.Height},rO:function(b){var c=document.createElement("div");c.style.position="absolute";c.innerHTML=b.Pm();c.style.left="0px";c.style.top="0px";c.style.padding="3px";c.style.background="darkblue";c.style.color="white";return c},qO:function(b,c,a){var d=this,f=document.createElement("div");f.style.height="100%";f.style.width="100%";f.addEventListener("click",function(f){var g=a.u;g.iw(g.Qq("AnnotationCreateSignature"));c.mouseLeftDown(f);c.mouseLeftUp(f);c.one("annotationAdded",
function(c,f){d.DT(f.Qc(),d.Qc())&&d.nR(b,f,a)})});f.appendChild(b);return f},DT:function(b,c){return b.x1>c.x2||c.x1>b.x2||b.y1>c.y2||c.y1>b.y2?!1:!0}};f.uk.prototype=$.extend(Object.create(f.WidgetAnnotation.prototype),f.uk.prototype)})(window);
(function(b){var f=b.Annotations||{},e=f.ha||{};f.yk=function(c,a){f.WidgetAnnotation.call(this,c,a);this.fieldFlags.yq(["Multiline","DoNotScroll","Password"]);this.Os=!1;this.rf=this.Ha.maxLen};f.yk.prototype={$l:"Tx",uj:"text",Oh:function(){f.WidgetAnnotation.prototype.Oh.apply(this,arguments);this.uE()},refresh:function(c){f.WidgetAnnotation.prototype.refresh.call(this);var a=this.innerElement;if(a)if(this.fieldFlags.get("ReadOnly"))a[0].innerHTML=this.value;else{var b,e;c&&(b=this.innerElement[0].selectionStart,
e=this.innerElement[0].selectionEnd);this.innerElement[0].value=this.value||"";c&&this.innerElement[0].setSelectionRange(b,e)}},fe:function(){return f.WidgetAnnotation.prototype.fe.apply(this,arguments)},yc:function(){var c=f.WidgetAnnotation.prototype.yc.apply(this,arguments),a={"word-wrap":"break-word",resize:"none","background-color":"transparent","overflow-y":this.fieldFlags.get("Multiline")?"auto":"hidden","overflow-x":"hidden"};if(this.fieldFlags.get("Comb")){var b=f.WidgetAnnotation.prototype.fe.apply(this,
arguments),b=e.Tn("1",b["font-size"]+" "+b["font-family"]),g=c.width/this.rf;a["margin-left"]=.2*g+"px";a["letter-spacing"]=g-b+"px"}return $.extend(c,a,this.kl())},gq:function(b,a){f.WidgetAnnotation.prototype.gq.apply(this,arguments);if(this.rA()&&a["font-size"]&&b.value){var e=b.style.overflowY;b.style.overflowY="hidden";b.offsetHeight;b.style.overflowY=e}},rA:function(){return 0===this.font.size},XR:function(){return this.rA()&&this.font.aj===this.font.OD},di:function(){var b=this.innerElement;
if(b)return this.fieldFlags.get("ReadOnly")?b.text():b.val()},jQ:function(b,a){if(b!==a){for(var e=0;b.charAt(e)===a.charAt(e);)e++;for(var f=0;b.charAt(b.length-1-f)===a.charAt(a.length-1-f)&&f+e<b.length&&f+e<a.length;)f++;var l,h=0;b.length!==e+f&&(h=b.length-f-e,l="");a.length!==e+f&&(l=a.slice(e,a.length-f));return{result:l,start:e,end:e+h}}},createInnerElement:function(){function c(){setTimeout(function(){f.refresh(!0)},0)}function a(a){return f.rA()&&(!f.XR()||a)}function d(a,b){a.preventDefault();
b.value=f.Va();b.style.overflowY="hidden";b.offsetHeight;b.style.overflowY="auto"}var f=this,l=this.fieldFlags,h=l.get("Multiline"),k=l.get("ReadOnly"),m=l.get("DoNotScroll"),n;k?(n=document.createElement("div"),n.className="text"):(h?n=document.createElement("textarea"):(n=document.createElement("input"),n.type="text"),0<this.rf&&n.setAttribute("maxlength",this.rf));e.iP(n,function(k){var l=0,u=0,q=k.change,v=f.Va()||"";if(!k.sH){u=f.jQ(v,q);if(!u)return;k.change=u.result;l=u.start;u=u.end}q=b.Annotations.O.vb.Events;
l=q.ga.create("Keystroke",f.Cb(),{value:k.sH?"":v,change:k.change,selStart:l,selEnd:u,willCommit:!1});f.Ha.Ie("K",l);l.rc?(l=q.In(l),v=null!==f._value&&l.length<f._value.length,u=!0,m?h?a(v)?c():n.scrollHeight-1>=Math.ceil($(n).innerHeight())&&(u=!1):v?(u=!0,a(v)&&c()):a(v)?c():u=e.measureText(l||" ",n.parentNode.style.fontSize,n.parentNode.style.fontFamily,n.parentNode.style.fontWeight).width<$(n).width():a(v)&&c(),0<f.rf&&(u=u&&l.length<=f.rf),u?(f._value=l,document.activeElement===n?f.jJ():f.trigger("commit")):
d(k,n)):d(k,n)},!h);return $(n)}};f.yk.prototype=$.extend(Object.create(f.WidgetAnnotation.prototype),f.yk.prototype)})(window);
(function(b){var f=b.Annotations||{};f.Wi=function(b){this.Nh={};this.Um=null;this.Tp=0;_.isObject(b)&&_.isArray(b.mask)&&this.yq(b.mask)};f.Wi.prototype={Mi:{ReadOnly:1,Required:2,NoExport:4,Multiline:4096,Password:8192,NoToggleToOff:16384,Radio:32768,PushButton:65536,Combo:131072,Edit:262144,DoNotScroll:8388608,RadiosInUnison:33554432},clear:function(){this.Nh={}},yq:function(b){_.isNull(this.Um)&&(this.Um={});for(var c=b.length,a=0;a<c;++a){var d=b[a];this.Um[d]=this.Mi[d]||0}},zO:function(b){var c=
[],a=this.Um||this.Mi;Object.keys(a).forEach(function(d){0!==(b&a[d])&&(b&=~a[d],c.push(d))});return{result:c,XV:b}},get:function(b){return!!this.Nh[b]},SV:function(){var b=0,c;for(c in this.Nh)this.Nh.hasOwnProperty(c)&&!0===this.Nh[c]&&(b|=this.Mi[c]);return b|this.Tp},toArray:function(){var b=this;return Object.keys(this.Nh).filter(function(c){return b.Nh[c]})},deserialize:function(b){b=f.ba.getAttribute(b,"Ff");this.set(parseInt(b,10))},serialize:function(b){b.setAttribute("Ff",String(this.SV()))},
set:function(b,c){if(_.isArray(b))for(var a=b.length,d=0;d<a;++d)this.set(b[d]);else _.isNumber(b)?(a=this.zO(b),this.Tp|=a.XV,this.set(a.result)):_.isString(b)&&(a=!0,_.isUndefined(c)||(a=!!c),this.Um?_.isUndefined(this.Um[b])?this.Tp|=this.Mi[b]||0:this.Nh[b]=a:this.Nh[b]=a)}}})(window);
(function(b){var f=b.Annotations||{};f.gp=function(){f.ra.call(this);this["_xsi:type"]="Caret";this.Subject=f.ha.Mc("caret");this.StrokeThickness=0;this.Uf=null};f.gp.prototype={elementName:"caret",draw:function(e,c){this.cc(e,c);var a=this.Width,d=this.Height,g=Number(this.Rotation);if(90===g||270===g)g=a,a=d,d=g;e.translate(this.X,this.Y);e.rotate(-this.Rotation*Math.PI/180);g=b.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);e.translate(-g.dx,-g.dy);e.translate(-this.X,
-this.Y);e.beginPath();e.fillStyle=this.StrokeColor.toString();a=new f.Rect(this.X,this.Y,this.X+a,this.Y+d);g=(a.x1+a.x2)/2;d=a.y1+3*d/4;e.moveTo(g,a.y1);e.quadraticCurveTo(g,d,a.x1,a.y2);e.lineTo(a.x2,a.y2);e.quadraticCurveTo(g,d,g,a.y1);e.closePath();e.fill();e.stroke()},selectionModel:f.pa,deserialize:function(b){f.ra.prototype.deserialize.apply(this,arguments);var c=Number(this.Rotation);if(90===c||270===c)c=this.Width,this.Width=this.Height,this.Height=c;this.StrokeThickness=0;this.le(b,"symbol")},
serialize:function(b){var c=Number(this.Rotation),a;if(90===c||270===c)a=this.Width,this.Width=this.Height,this.Height=a;f.ra.prototype.serialize.apply(this,arguments);if(90===c||270===c)a=this.Width,this.Width=this.Height,this.Height=a;this.Wa(b,"symbol");b.removeAttribute("width");return b}};f.gp.prototype=$.extend(new f.ra,f.gp.prototype)})(window);
(function(b){var f=b.Annotations||{};f.lm=function(){f.ra.call(this);this["_xsi:type"]="Ellipse";this.Subject=f.ha.Mc("ellipse");var b=this.getRectPadding();this.fringe=new f.Rect(b,b,b,b)};f.lm.prototype={elementName:"circle",draw:function(b,c){this.Yy(b,c)},Xh:function(b){var c=this.X+this.fringe.x1,a=this.Y+this.fringe.y1,d=this.Ba()-this.fringe.x1-this.fringe.x2,f=this.xa()-this.fringe.y1-this.fringe.y2,l=Math.min(d,f);b.lineWidth>=l&&(b.lineWidth=l-1);b.lineWidth*=2;l=d/f;isNaN(l)||Infinity===
l||(b.save(),b.translate(c+(1-l)*d/2,a),b.scale(l,1),b.beginPath(),b.arc(.5*d,.5*f,Math.max(.5*f,0),0,2*Math.PI,!1),b.closePath(),b.restore(),b.clip())},getRectPadding:function(){return 0},selectionModel:f.pa};f.lm.prototype=$.extend(new f.ra,f.lm.prototype)})(window);
(function(b){var f=b.Annotations||{};f.FreeHandAnnotation=function(){f.ra.call(this);this.Ga=[];this.LeftMost=Infinity;this.RightMost=0;this.TopMost=Infinity;this.BottomMost=0;this.Xa={x:0,y:0};this.yb={x:0,y:0};this.$s=!1;this["_xsi:type"]="Free Hand";this.Subject=f.ha.Mc("freeHand");this.Yf=this.Uf=null};f.FreeHandAnnotation.opacityCap=.7;f.FreeHandAnnotation.qc={InkHighlight:"InkHighlight"};f.FreeHandAnnotation.prototype={elementName:"ink",shouldSimplifyPath:!1,hc:function(b,c,a){"undefined"===
typeof a&&(a=0);if(a===this.Ga.length)this.Ga.push([]);else if(a>this.Ga.length){console.warn("FreeHandAnnotation addPathPoint: pathIndex out of bounds.");return}this.LeftMost=Math.min(this.LeftMost,b);this.RightMost=Math.max(this.RightMost,b);this.TopMost=Math.min(this.TopMost,c);this.BottomMost=Math.max(this.BottomMost,c);var d=this.getRectPadding();this.Gs=this.LeftMost-d;this.Hs=this.TopMost-d;this.Ep=this.RightMost-this.LeftMost+2*d;this.Dp=this.BottomMost-this.TopMost+2*d;this.Ga[a].push(new f.Point(b,
c))},Lf:function(b,c,a,d){"undefined"===typeof d&&(d=0);var f;this.Ga.length>d?(f=this.Ga[d],f.length>b?(f[b].x=c,f[b].y=a,this.adjustRect()):f.length===b&&this.hc(c,a,d)):this.Ga.length===d?this.hc(c,a,d):console.warn("FreeHandAnnotation setPathPoint: pathIndex out of bounds.")},bi:function(b,c){"undefined"===typeof c&&(c=0);return this.Ga&&this.Ga.length>c&&this.Ga[c].length>b?this.Ga[c][b]:null},Uj:function(b){"undefined"===typeof b&&(b=0);var c=null;this.Ga.length>b&&(c=this.Ga[b].pop(),this.adjustRect());
return c},getPath:function(b){"undefined"===typeof b&&(b=0);return this.Ga.length>b?this.Ga[b]:null},setPath:function(b,c){"undefined"===typeof c&&(c=0);this.Ga.length<c?console.warn("FreeHandAnnotation setPath: pathIndex out of bounds."):this.Ga.length>c?this.Ga[c]=b:this.Ga.length===c&&this.Ga.push(b);this.adjustRect()},hP:function(){this.Ga=[]},finish:function(){this.$s||(this.mb(),this.$s=!0)},resize:function(b){var c=b.x1,a=b.y1,d=b.Ba(),f=b.xa();b=a-this.Y;if(!(0===c-this.X&&0===b&&d===this.Width&&
f===this.Height||1>d||1>f)){var l=b=1;"undefined"!==typeof d&&"undefined"!==typeof f&&(b=f/this.Height,l=d/this.Width,this.Width=d,this.Height=f);for(d=0;d<this.Ga.length;d++)for(f=0;f<this.Ga[d].length;f++)this.Ga[d][f].x=(this.Ga[d][f].x-this.X)*l+c,this.Ga[d][f].y=(this.Ga[d][f].y-this.Y)*b+a;this.X=c;this.Y=a}},draw:function(b,c){this.cc(b,c);this.Yf===f.FreeHandAnnotation.qc.InkHighlight&&b.globalAlpha>f.FreeHandAnnotation.opacityCap&&(b.globalAlpha=f.FreeHandAnnotation.opacityCap);b.beginPath();
for(var a=this.Dj(),d=0;d<a.length;d++)this.Xh(b,a[d]);b.lineCap="round";b.lineJoin="round";b.stroke()},Dj:function(){return this.Ga},AV:function(b,c){if(this.shouldSimplifyPath)for(var a=0;a<this.Ga.length;a++){var d=window.simplify(this.getPath(a),b,c);this.setPath(d,a)}},Xh:function(b,c){var a="undefined"===typeof c?0:c.length;if(3<=a){b.moveTo(c[0].x,c[0].y);for(a=1;a<c.length-2;a++)b.quadraticCurveTo(c[a].x,c[a].y,(c[a].x+c[a+1].x)/2,(c[a].y+c[a+1].y)/2);a+1<c.length&&b.quadraticCurveTo(c[a].x,
c[a].y,c[a+1].x,c[a+1].y)}else 2===a&&(b.moveTo(c[0].x,c[0].y),b.lineTo(c[1].x,c[1].y))},rotate:function(e,c){this.Ga.forEach(function(a){for(var d=0;d<a.length;++d)a[d]=b.Yd.Math.$T(a[d],e,c)});this.adjustRect()},wh:function(b){f.Annotation.prototype.wh.apply(this,arguments);this.Ga.forEach(function(c){for(var a=0;a<c.length;++a)c[a]=b.W(c[a])})},adjustRect:function(){if(0!==this.Ga.length){this.Xa={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.yb={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};var b,c;
for(b=0;b<this.Ga.length;b++)for(c=0;c<this.Ga[b].length;c++)if(null!==this.Ga[b][c]){var a=this.Ga[b][c].x,d=this.Ga[b][c].y;a>this.yb.x&&(this.yb.x=a);d>this.yb.y&&(this.yb.y=d);a<this.Xa.x&&(this.Xa.x=a);d<this.Xa.y&&(this.Xa.y=d)}b=this.getRectPadding();this.X=this.Xa.x-b;this.Y=this.Xa.y-b;this.Width=Math.max(0,this.yb.x-this.Xa.x)+2*b;this.Height=Math.max(0,this.yb.y-this.Xa.y)+2*b;this.lw()}},getRectPadding:function(){return this.StrokeThickness},serialize:function(b,c){for(var a=f.ra.prototype.serialize.apply(this,
arguments),d=document.createElementNS("","inklist"),g=this.Dj(),l=0;l<g.length;l++)if(!(1>g[l].length)){var h=f.ba.Ho(g[l],c),k=document.createElementNS("","gesture");k.textContent=h;d.appendChild(k)}a.appendChild(d);this.Yf&&(a.setAttribute("IT",this.Yf),this.Yf===f.FreeHandAnnotation.qc.InkHighlight&&0!==this.Opacity&&this.Opacity>f.FreeHandAnnotation.opacityCap&&a.setAttribute("opacity",f.FreeHandAnnotation.opacityCap));return a},deserialize:function(b,c){f.ra.prototype.deserialize.apply(this,
arguments);var a=this;a.Ga=[];b.querySelectorAll("inklist gesture").forEach(function(b){b=f.ba.Yk(b.textContent,c);b=a.shouldSimplifyPath?window.simplify(b,.5):b;a.Ga.push(b)});this.zf()||this.adjustRect();this.Yf=b.getAttribute("IT");this.Uf=null;this.Subject===f.ha.Mc("signature")&&(this.MaintainAspectRatio=!0)},selectionModel:f.pa};f.FreeHandAnnotation.prototype=$.extend(new f.ra,f.FreeHandAnnotation.prototype);Object.defineProperties(f.FreeHandAnnotation.prototype,{Intent:{get:function(){return this.Yf},
set:function(b){this.Yf=b;this.mb()}}})})(window);
(function(b){var f=b.Annotations||{};f.pc=function(){f.ra.call(this);this.ma=[];this.Xa={x:0,y:0};this.yb={x:0,y:0}};f.pc.prototype={hc:function(b,c){var a=this.getRectPadding();this.ma.push(new f.Point(b,c));1===this.ma.length?(this.Xa={x:b,y:c},this.yb={x:b,y:c},this.X=b-a,this.Y=c-a):(b>this.yb.x&&(this.Width=b-this.Xa.x+2*a,this.yb.x=b),c>this.yb.y&&(this.Height=c-this.Xa.y+2*a,this.yb.y=c),b<this.Xa.x&&(this.Width=this.yb.x-b+2*a,this.X=b-a,this.Xa.x=b),c<this.Xa.y&&(this.Height=this.yb.y-c+
2*a,this.Y=c-a,this.Xa.y=c))},wh:function(b){f.Annotation.prototype.wh.apply(this,arguments);for(var c=this.ma,a=0;a<c.length;++a)c[a]=b.W(c[a])},Lf:function(b,c,a){this.ma&&this.ma.length>b?(this.ma[b].x=c,this.ma[b].y=a,this.adjustRect()):this.ma&&this.ma.length===b&&this.hc(c,a);this.mb()},bi:function(b){return this.ma&&this.ma.length>b?this.ma[b]:null},Uj:function(){var b=this.ma.pop();this.adjustRect();return b},getPath:function(){return this.ma},setPath:function(b){this.ma=b;this.adjustRect()},
getRectPadding:function(){return this.StrokeThickness},Fz:function(){return this.measure},adjustRect:function(){if(0!==this.ma.length){this.Xa={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.yb={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};for(var b=0;b<this.ma.length;b++)if(null!==this.ma[b]){var c=this.ma[b].x,a=this.ma[b].y;c>this.yb.x&&(this.yb.x=c);a>this.yb.y&&(this.yb.y=a);c<this.Xa.x&&(this.Xa.x=c);a<this.Xa.y&&(this.Xa.y=a)}b=this.getRectPadding();this.X=this.Xa.x-b;this.Y=this.Xa.y-b;this.Width=
Math.max(0,this.yb.x-this.Xa.x)+2*b;this.Height=Math.max(0,this.yb.y-this.Xa.y)+2*b;this.lw()}},Cc:f.ha.Cc,Uc:f.ha.Uc,selectionModel:f.wm};f.pc.prototype=$.extend(new f.ra,f.pc.prototype)})(window);
(function(b){var f=b.Annotations||{},e=f.ha||{};f.Ja=function(b){f.pc.call(this);this.ma=[];this.Xa={x:0,y:0};this.yb={x:0,y:0};this.kf=null;this["_xsi:type"]="FreeText";this.StrokeThickness=1;this.Jo(b);this.$u="left";this.YC=new f.Color(255,0,0);this.MC="Helvetica";this.NC="9pt";this.XC="left";this.VC=0;this.Hm=2;this.Subject=b!==f.Ja.qc.FreeTextCallout?f.ha.Mc("freetext"):f.ha.Mc("callout")};f.Ja.EXPORT_CALCULATED_FONT_SIZE=!0;f.Ja.qc={FreeText:"FreeText",FreeTextCallout:"FreeTextCallout",FreeTextTypeWriter:"FreeTextTypeWriter"};
f.Ja.prototype={elementName:"freetext",Zh:function(){return this.intent},Jo:function(b){this.intent=b||f.Ja.qc.FreeText;b!==f.Ja.qc.FreeTextCallout?this.selectionModel=f.np:(this.Fi("OpenArrow"),this.selectionModel=f.es)},Fi:function(b){this.$m=b},Ze:function(){return this.$m},hc:function(b,a){5>this.ma.length&&f.pc.prototype.hc.call(this,b,a)},adjustRect:function(){this.Zh()===f.Ja.qc.FreeTextCallout&&f.pc.prototype.adjustRect.apply(this,arguments)},resize:function(b){if(this.Zh()===f.Ja.qc.FreeTextCallout){var a=
b.y1-this.Y,e=b.Ba()/this.Width,g=b.xa()/this.Height;if(0!==b.x1-this.X||0!==a||1!==e||1!==g){var l=this;this.ma.forEach(function(a){a.x=(a.x-l.X)*e+b.x1;a.y=(a.y-l.Y)*g+b.y1});this.adjustRect()}}else this.ug(b),a=this.getRectPadding(),this.Lo(new f.Rect(a,a,a,a))},getRectPadding:function(){return this.Zh()===f.Ja.qc.FreeTextCallout?this.StrokeThickness/2:0},Lo:function(b){var a=0;this.Zh()===f.Ja.qc.FreeTextCallout&&(a+=this.Hm+1);this.ma[a]=new f.Point(this.X+b.x1,this.Y+b.y2);this.ma[a+1]=new f.Point(this.X+
this.Width-b.x2,this.Y+this.Height-b.y1)},Kz:function(){var b=this.ma.slice(-2),a=b[0],b=b[1];return new f.Rect(a.x-this.X,this.Y+this.Height-b.y,this.X+this.Width-b.x,a.y-this.Y)},Cz:function(){return this.FontSize.slice(-2)||"px"},Bz:function(){var b=parseFloat(this.FontSize),a=this.Cz(b);0===b&&this.IC&&f.Ja.EXPORT_CALCULATED_FONT_SIZE&&(b=this.IC,a="px");"px"===a&&(b*=.75);return b},wW:function(b,a,e,f,l,h,k){for(var m,n=f,r=b.measureText(".").width||1,r=2*Math.ceil(l/r),p=a.split("\n"),u=0;u<
p.length;u++){for(var q=p[u].split(" "),v="",x=0;x<q.length;x++){a=q[x];m=b.measureText(a);if(m.width>l){for(var A=1,B=r,z;A<=B;)if(z=Math.floor((B+A)/2),m=b.measureText(a.slice(0,z),b),m.width<l)A=z+1;else if(m.width>l)B=z-1;else break;a=a.slice(0,Math.max(1,B))}q[x]!==a&&(q.splice(x+1,0,q[x].substr(a.length)),q[x]=a);a=v+q[x];m=b.measureText(a);if(m.width>l&&0<x){b.fillText(v,e,f);v=q[x]+" ";if(f-n>=h)return;f+=k}else v=a+" "}b.fillText(v.slice(0,-1),e,f);if(f-n>=h)break;f+=k}},LR:function(){this.kf=
document.createElement("textarea");this.kf.className="freetext";this.kf.style.visibility="hidden";this.kf.style.position="absolute";this.kf.style.top="-9001px";document.getElementsByTagName("body")[0].appendChild(this.kf)},uG:function(b){var a=.55*(b-9);return{oT:b+5+a,css:1+(5+a)/b}},draw:function(b,a){this.kf||this.LR();var e;this.cc(b,a);this.Zh()===f.Ja.qc.FreeTextCallout?(this.yn(b,a),e=this.ma.length===this.Hm+3):e=2===this.ma.length;if(e){e=this.VQ();this.dP(b,e);var g=this.Zg();"undefined"!==
typeof g&&this.cP(b,a,g,e)}},yn:function(b,a){b.lineJoin="miter";var d=this.yj(a);0===d&&(d=b.lineWidth=1);for(var f=Math.min(this.Hm+1,this.ma.length),l=0;l<f;l++){var h=this.ma[l];0===l?(b.beginPath(),b.moveTo(h.x,h.y)):b.lineTo(h.x,h.y)}1<this.ma.length&&e.VO(b,this.ma[0],this.ma[1],d)},dP:function(b,a){var e=a.x,f=a.y,l=a.width,h=a.height;b.save();0<this.StrokeThickness&&(b.beginPath(),b.lineWidth*=2,b.rect(e,f,l,h),b.clip(),b.stroke());b.beginPath();b.rect(e+b.lineWidth/2,f+b.lineWidth/2,l-b.lineWidth,
h-b.lineWidth);b.closePath();b.fill();b.restore()},cP:function(b,a,d,f){var l=f.x,h=f.y,k=f.width,m=f.height;b.textBaseline="top";b.fillStyle=this.TextColor.toString();var n=b.lineWidth;f=0+n;b.save();b.beginPath();b.rect(l+n,h+n,Math.max(k-2*n,0),Math.max(m-2*n));b.clip();b.textAlign=this.TextAlign;if(this.Rotation){b.translate(l,h);b.rotate(-(Math.PI/180*this.Rotation));b.translate(-l,-h);if(90===this.Rotation||270===this.Rotation)n=k,k=m,m=n;90===this.Rotation?b.translate(-k,0):270===this.Rotation?
b.translate(0,-m):180===this.Rotation&&b.translate(-k,-m)}var n=k-2*f,m=Math.round(m-2*f),r=this.OP(a);a=r.wP;r=r.xP;if(0===a){this.kf.style.width=n+"px";this.kf.style.height=m+"px";this.kf.style.fontFamily=this.Font;d=d.replace(/\s+$/g,"");this.kf.value=d;var p=this;a=e.TF(d,this.kf,m,function(a){return p.uG(a).css});r="px";this.IC=a}var u=this.uG(a).oT,q=l+f;"center"===this.TextAlign?q=l+k/2:"right"===this.TextAlign&&(q=l+k-f);b.font=a+r+" "+this.Font;this.wW(b,d,q,h+f,n,m,u);b.restore()},OP:function(b){b=
f.ha.fq(b,parseFloat(this.FontSize));var a=this.Cz();"pt"===a&&(b*=.75);return{wP:b,xP:a}},VQ:function(){var b=this.ma.slice(-2),a=b[0],b=b[1];return{x:a.x,y:a.y,width:b.x-a.x,height:b.y-a.y}},serialize:function(b,a){var e=f.ra.prototype.serialize.apply(this,arguments),g=this.getPath(),l={},h=f.ba.sg(this.FillColor);null!==h?l.color=h:e.removeAttribute("color");e.removeAttribute("interior-color");var h=this.Bz(),k,m=this.Kz();this.PA&&this.PA.isEqual(m)?k=this.SA:(this.SA&&(delete this.SA,delete this.PA),
m.AH()||(k=f.ba.tB(m,a)));k&&e.setAttribute("fringe",k);this.originalTextAlignCalculated!==this.TextAlign||this.originalTextColorCalculated!==f.ba.sg(this.TextColor)||this.originalStrokeColorCalculated!==f.ba.sg(this.StrokeColor)||this.originalFontSizeCalculated!==this.FontSize||this.originalFontCalculated!==this.Font?(m=this.StrokeColor.RV()+" "+f.ba.kU(this.Font,h),k=f.ba.jU(this)):(m=this.originalDefaultAppearance,k=this.originalDefaultStyle);var n=document.createElementNS("","defaultappearance");
n.textContent=m;e.appendChild(n);m=document.createElementNS("","defaultstyle");m.textContent=k;e.appendChild(m);this.$u&&"left"!==this.$u&&(l.justification=this.$u);k=f.ba.sg(this.TextColor);null!==k&&e.setAttribute("TextColor",k);e.setAttribute("FontSize",h);h=this.Zh();h===f.Ja.qc.FreeTextCallout&&(g=f.ba.Ho(g.slice(0,-2),a,",",","),l.callout=g,l.head=this.Ze(),e.setAttribute("IT",h));for(var r in l)b.setAttribute(r,l[r]);return e},deserialize:function(b,a){this.TextColor=new f.Color(0,0,0);var e=
f.ba;f.ra.prototype.deserialize.apply(this,arguments);null!==e.tj(b.getAttribute("color"))?this.FillColor=this.StrokeColor:this.FillColor=new f.Color(0,0,0,0);var g=e.Gn(b,"defaultappearance","defaultappearance"),l=e.Gn(b,"defaultstyle","defaultstyle"),h=e.jI(g);h.color&&(this.StrokeColor=e.tj(h.color));h.font&&(this.Font=h.font.name,this.FontSize=h.font.size);h=e.iT(l);h.font&&(this.Font=h.font.name,this.FontSize=h.font.size);h.textAlign&&(this.TextAlign=h.textAlign);h.color&&(this.TextColor=e.tj(h.color));
this.originalStrokeColorCalculated=e.sg(this.StrokeColor);this.originalTextAlignCalculated=this.TextAlign;this.originalTextColorCalculated=h.color?h.color:e.sg(this.TextColor);this.originalFontSizeCalculated=this.FontSize;this.originalFontCalculated=this.Font;this.originalDefaultStyle=b;this.originalDefaultAppearance=g;this.originalDefaultStyle=l;if((g=b.getAttribute("IT")||b.getAttribute("it"))&&g===f.Ja.qc.FreeTextCallout){if(this.Jo(f.Ja.qc.FreeTextCallout),this.Fi(b.getAttribute("head")||"OpenArrow"),
l=b.getAttribute("callout"))for(g=e.Yk(l,a),3>g.length&&(l=e.Yk(l,a,",",","),4>l.length&&(g=l,this.Hm=g.length-1)),l=this.getPath(),h=0;h<g.length;h++)l[h]=new f.Point(parseFloat(g[h].x),parseFloat(g[h].y))}else this.Jo(f.Ja.qc.FreeText);this.fringe?this.Lo(this.fringe):this.Lo(new f.Rect(0,0,0,0));if(g=b.getAttribute("justification"))this.$u=g;e=e.tj(b.getAttribute("TextColor"));null!==e&&(this.TextColor=e);e=b.getAttribute("FontSize");_.isUndefined(e)||_.isNull(e)||(this.FontSize=e+"pt");(e=b.getAttribute("rotation"))&&
(this.Rotation=parseInt(e,10));this.zf()||this.adjustRect();this.PA=this.Kz()},selectionModel:f.np};f.Ja.prototype=$.extend(new f.pc,f.Ja.prototype);Object.defineProperties(f.Ja.prototype,{CalloutLineCount:{get:function(){return this.Hm},set:function(b){this.Hm=b;this.mb()}},TextColor:{get:function(){return this.YC},set:function(b){this.YC=b;this.mb()}},FontSize:{get:function(){return this.NC},set:function(b){this.NC=b;this.mb()}},Font:{get:function(){return this.MC},set:function(b){this.MC=b;this.mb()}},
TextAlign:{get:function(){return this.XC},set:function(b){this.XC=b;this.mb()}},Rotation:{get:function(){return this.VC},set:function(b){this.VC=b;this.mb()}}})})(window);
(function(b){var f=b.Annotations||{};f.md=function(){f.ra.call(this);this["_xsi:type"]="Line";this.Subject=f.ha.Mc("line");this.$m=this.Ps=this.End=this.Start=this.Uf=null};f.md.prototype={elementName:"line",resize:function(b){var c=b.x1;b=b.y1;var a=c-this.X,d=b-this.Y;if(0!==a||0!==d)this.Start.x+=a,this.Start.y+=d,this.End.x+=a,this.End.y+=d,this.X=c,this.Y=b},adjustRect:function(){if(!_.isNull(this.Start)||!_.isNull(this.End)){"LineDimension"===this.IT&&this.Yp();var b=this.getRectPadding(),c=
this.bR(),a=this.JP(),a=a.map(function(a){return c.W(a)}),d=a.map(function(a){return a.x}),a=a.map(function(a){return a.y});this.X=Math.min.apply(null,d)-b;this.Y=Math.min.apply(null,a)-b;this.Width=Math.max.apply(null,d)-this.X+2*b;this.Height=Math.max.apply(null,a)-this.Y+2*b;this.lw()}},getRectPadding:function(){return this.StrokeThickness},EB:function(b,c){this.Start=new f.Point(b,c)},TQ:function(){return this.Start},setEndPoint:function(b,c){this.End=new f.Point(b,c)},ZP:function(){return this.End},
Fi:function(b){this.$m=b},Ze:function(){return this.$m||"None"},Io:function(b){this.Ps=b},bh:function(){return this.Ps||"None"},Fz:function(){return this.measure},lV:function(b){b.font=this.vf.FONT;b.fillStyle=this.vf.VL;b.textBaseline="top";b.textAlign="center"},oV:function(b){b.translate(this.Start.x,this.Start.y);b.rotate(Math.atan2(this.End.y-this.Start.y,this.End.x-this.Start.x));b.translate(0,this.bA())},draw:function(b,c){this.cc(b,c);if(this.Start&&this.End){var a=this.Jq(),d;b.save();this.lV(b);
this.oV(b);b.beginPath();this.leaderExtend&&this.YO(b,a);this.leaderLength&&this.ZO(b,a);"yes"===this.caption&&(d=this.PG(a),this.WO(b,a,d));this.aP(b,c,a);this.$O(b,a,d);b.stroke();b.closePath();b.restore()}},YO:function(b,c){var a=this.leaderExtend;this.We(b,0,0,0,-this.Iq()*a);this.We(b,c,0,c,-this.Iq()*a)},ZO:function(b,c){var a=this.leaderLength;this.We(b,0,0,0,a);this.We(b,c,0,c,a)},WO:function(b,c,a){var d=c/2,f;this.wA(a)?this["caption-offset-h"]&&!this.yH(c,a)&&(d=this.jG(c,a),a.left>c?this.We(b,
c,0,d.x,0):0>a.right&&this.We(b,0,0,d.x,0)):this["caption-offset-v"]&&(f=this.rz(c,a),b.moveTo(c/2,0),b.lineTo(f.x,f.y),this["caption-offset-h"]&&(a.right<d||a.left>d)&&(d=this.jG(c,a),b.lineTo(d.x,d.y)));d=this.Zg().split("\n");f=a.top;this.py(c)||!this.wA(a)||this["caption-offset-h"]||(f-=this.vf.IK);for(c=0;c<d.length;c++)b.fillText(d[c],a.left+this.Tn()/2,f),f+=this.vf.zs},aP:function(b,c,a){if("yes"!==this.caption||this.py(a))this.zu(this.Ze(),"start").call(this,b,c),this.zu(this.bh(),"end").call(this,
b,c);else{var d=5*this.yj(c)+10;"None"!==this.Ze()&&(this.zu("ROpenArrow","start").call(this,b,c),"None"!==this.bh()&&this.We(b,-d,0,0,0));"None"!==this.bh()&&(this.zu("ROpenArrow","end").call(this,b,c),"None"!==this.Ze()&&this.We(b,a,0,a+d,0))}},$O:function(b,c,a){a?this.py(c)?this.wA(a)&&this.yH(c,a)?(this.We(b,0,0,a.left,0),this.We(b,a.right,0,c,0)):this.We(b,0,0,c,0):"None"!==this.Ze()&&"None"!==this.bh()||this.We(b,0,0,c,0):this.We(b,0,0,c,0)},We:function(b,c,a,d,f){b.moveTo(c,a);b.lineTo(d,
f)},yn:function(b,c){var a=5*this.yj(c)+3,d=this.vf.AK;b.moveTo(Math.cos(d)*a,-Math.sin(d)*a);b.lineTo(0,0);b.lineTo(Math.cos(d)*a,Math.sin(d)*a)},wh:function(b){f.Annotation.prototype.wh.apply(this,arguments);this.Start=b.W(this.Start);this.End=b.W(this.End)},serialize:function(b,c){b=f.ra.prototype.serialize.apply(this,arguments);var a=new f.Point(this.End.x,this.End.y),d=f.ba;b.setAttribute("start",d.$v(new f.Point(this.Start.x,this.Start.y),c));b.setAttribute("end",d.$v(a,c));"None"!==this.Ze()&&
b.setAttribute("head",this.Ze());"None"!==this.bh()&&b.setAttribute("tail",this.bh());"LineDimension"===this.IT&&this.measure&&b.appendChild(d.Zv(this.measure));this.Wa(b,"leaderLength");this.Wa(b,"leaderExtend");this.Wa(b,"leader-offset");this.Wa(b,"caption");this.Wa(b,"caption-style");this.Wa(b,"caption-offset-h");this.Wa(b,"caption-offset-v");return b},deserialize:function(b,c){f.ra.prototype.deserialize.apply(this,arguments);var a=f.ba,d=a.pF(b.getAttribute("start"),c);null!==d?this.EB(d.x,d.y):
this.EB(this.X,this.Y);d=a.pF(b.getAttribute("end"),c);null!==d?this.setEndPoint(d.x,d.y):this.setEndPoint(this.X+this.Width,this.Y+this.Height);d=b.querySelector("measure");"LineDimension"===b.getAttribute("IT")&&d&&(this.measure=a.bu(d));this.Fi(b.getAttribute("head")||"None");this.Io(b.getAttribute("tail")||"None");this.le(b,"caption");this.le(b,"caption-style");this.Lr(b,"caption-offset-h");this.Lr(b,"caption-offset-v");this.Lr(b,"leaderLength");this.Lr(b,"leaderExtend");this.Lr(b,"leader-offset");
this.zf()||this.adjustRect()},selectionModel:f.pp,vf:{zs:10,YL:4,kx:2,FONT:"9px sans-serif",VL:"#000000",IK:17,AK:.2*Math.PI},zn:{None:function(){},OpenArrow:{start:function(b,c){this.yn(b,c)},end:function(b,c){b.save();b.translate(this.Jq(),0);b.scale(-1,1);this.yn(b,c);b.restore()}},ROpenArrow:{start:function(b,c){b.save();b.scale(-1,1);this.yn(b,c);b.restore()},end:function(b,c){b.save();b.translate(this.Jq(),0);this.yn(b,c);b.restore()}}},Yp:function(){if(this.measure){var b=this.measure.distance,
b=f.ha.Gz(this.Jq()*this.measure.axis[0].factor*b[0].factor,b);this.Di("Distance:\n"+b)}},dS:function(b){return!!this.zn[b]},py:function(b){return this.Tn()+2*(this.vf.kx+10)<=b},wA:function(b){return 0>b.top&&0<b.bottom},yH:function(b,c){return 0<=c.left&&c.right<=b},bR:function(){var b=this.bA(),c=Math.atan2(this.End.y-this.Start.y,this.End.x-this.Start.x),a=new XODText.za,d=new XODText.za;a.Fa(1,0,0,1,this.Start.x,this.Start.y);d.set(Math.cos(c),Math.sin(c),-Math.sin(c),Math.cos(c),0,0);a.concat(d);
d.set(1,0,0,1,0,b);a.concat(d);return a},zu:function(b,c){return _.isNull(b)?this.zn.None:this.dS(b)?"object"===typeof this.zn[b]?this.zn[b][c]:this.zn[b]:this.zn.OpenArrow[c]},PG:function(b){var c=this.Zg().split("\n"),a=this.YQ(c),c=c.length*this.vf.zs;b=this.WQ(b)-this.vf.kx;var d=this.Tn()+2*this.vf.kx;return{top:a,bottom:a+c,left:b,right:b+d,width:d,height:c}},YQ:function(b){var c=-this.vf.zs*b.length/2;if("Top"===this["caption-style"]&&!this["caption-offset-v"])return-this.vf.zs*b.length;this["caption-offset-v"]&&
(c-=this["caption-offset-v"]);return c},WQ:function(b){b=b/2-this.Tn()/2;this["caption-offset-h"]&&(b+=this["caption-offset-h"]);return b},Tn:function(){for(var b=this.Zg().split("\n"),c=0,a=0;a<b.length;a++)c=Math.max(c,b[a].trim().length*this.vf.YL);return c},rz:function(b,c){var a=-this["caption-offset-v"],d=b/2,f={x:d,y:void 0};f.y=0>a?c.bottom:c.top;this["caption-offset-h"]&&(c.right<d||c.left>d)&&(f.y=0>a?f.y-c.height/2:f.y+c.height/2);return f},jG:function(b,c){var a={};a.y=this["caption-offset-v"]?
this.rz(b,c).y:0;a.x=0>this["caption-offset-h"]?c.right:c.left;return a},JP:function(){var b=this.Jq(),c=[{x:0,y:0},{x:b,y:0}];if("yes"===this.caption){var a=this.PG(b);c.push({x:a.left,y:a.top},{x:a.left,y:a.bottom},{x:a.right,y:a.top},{x:a.right,y:a.bottom});this["caption-offset-v"]&&(a=this.rz(b,a),c.push({x:a.x,y:a.y}))}this.leaderExtend&&(a=this.leaderExtend,c.push({x:0,y:a*-this.Iq()},{x:b,y:a*-this.Iq()}));(a=this.bA())&&c.push({x:0,y:-a},{x:b,y:-a});return c},bA:function(){var b=this.leaderLength,
c=this["leader-offset"],a=0;b&&(a-=b);c&&(a+=c*-this.Iq());return a},Iq:function(){return!this.leaderLength||0<this.leaderLength?1:-1},Jq:function(){return Math.sqrt(Math.pow(this.End.x-this.Start.x,2)+Math.pow(this.End.y-this.Start.y,2))},Cc:f.ha.Cc,Uc:f.ha.Uc};f.md.prototype=$.extend(new f.ra,f.md.prototype)})(window);
(function(b){var f=b.Annotations||{};f.Qi=function(){f.ra.call(this);this.ma=[];this.$s=!1;this.Kd="solid";this.Hk=2;this["_xsi:type"]="Polygon";this.Subject=f.ha.Mc("polygon");this.Xa={x:0,y:0};this.yb={x:0,y:0}};f.Qi.prototype={elementName:"polygon",resize:function(b){var c=b.x1;b=b.y1;var a=c-this.X,d=b-this.Y;if(0!==a||0!==d){for(var f=0;f<this.ma.length;f++)this.ma[f].x+=a,this.ma[f].y+=d;this.X=c;this.Y=b}},adjustRect:function(){"PolygonDimension"===this.IT&&this.Yp();f.pc.prototype.adjustRect.call(this)},
Yp:function(){if(this.measure){var b=this.IP(),c=this.measure.axis[0],a=this.measure.area,b=f.ha.Gz(b*c.factor*c.factor*a[0].factor,a);this.Di("Area:\n"+b)}},finish:function(){b.Yd.Math.pI(this.ma)&&(this.ma[this.ma.length]={x:this.ma[0].x,y:this.ma[0].y});this.adjustRect()},draw:function(b,c){this.Yy(b,c)},Xh:function(b){if("cloudy"===this.Style)f.ha.wF(this,b,this.getPath());else for(var c=0;c<this.ma.length;c++){var a=this.ma[c];0===c?(b.beginPath(),b.moveTo(a.x,a.y)):b.lineTo(a.x,a.y)}1<this.ma.length&&
(b.closePath(),b.lineJoin="round")},IP:function(){var b=this.getPath();return 3>b.length?0:Math.abs(b.reduce(function(c,a,d){return c+a.x*b[d===b.length-1?0:d+1].y-b[d===b.length-1?0:d+1].x*a.y},0))/2},Jo:function(b){this.Intent=b},Zh:function(){return this.Intent},Cc:function(b,c){"PolygonDimension"!==this.IT?console.warn("setScale can only be called for area measurement annotation"):f.ha.Cc(b,c,this.measure,"area")},Uc:function(b){f.ha.Uc(b,this.measure,"area")},serialize:function(b,c){var a=f.ra.prototype.serialize.apply(this,
arguments);"cloudy"===this.Style&&(a.setAttribute("style",this.Style),a.setAttribute("intensity",this.Intensity));var d=this.getPath();if(d&&0<d.length){var g=document.createElementNS("","vertices");g.textContent=f.ba.Ho(d,c);a.appendChild(g)}"PolygonDimension"===this.IT&&this.measure&&a.appendChild(f.ba.Zv(this.measure));return a},deserialize:function(b,c){f.ra.prototype.deserialize.apply(this,arguments);var a=b.getElementsByTagName("vertices");0<a.length&&(this.ma=f.ba.Yk(a[0].textContent,c));this.Kd=
b.getAttribute("style");this.Hk=parseInt(b.getAttribute("intensity")||0,10);this.Yf=b.getAttribute("IT");a=b.querySelector("measure");"PolygonDimension"===this.Yf&&a&&(this.measure=f.ba.bu(a));this.zf()||this.adjustRect()},selectionModel:f.ax};f.Qi.prototype=$.extend(new f.pc,f.Qi.prototype);Object.defineProperties(f.Qi.prototype,{Intensity:{get:function(){return this.Hk},set:function(b){this.Hk=b;this.mb()}},Style:{get:function(){return this.Kd},set:function(b){this.Kd=b;this.mb()}},Intent:{get:function(){return this.Yf},
set:function(b){this.Yf=b;this.mb()}}})})(window);
(function(b){var f=b.Annotations||{};f.xm=function(){f.ra.call(this);this.ma=[];this.$s=!1;this["_xsi:type"]="Polyline";this.Subject=f.ha.Mc("polyline");this.Xa={x:0,y:0};this.yb={x:0,y:0};this.Uf=null};f.xm.prototype={elementName:"polyline",resize:function(b){var c=b.x1;b=b.y1;var a=c-this.X,d=b-this.Y;if(0!==a||0!==d){for(var f=0;f<this.ma.length;f++)this.ma[f].x+=a,this.ma[f].y+=d;this.X=c;this.Y=b}},adjustRect:function(){"PolyLineDimension"===this.IT&&this.Yp();f.pc.prototype.adjustRect.call(this)},
Yp:function(){if(this.measure){var b=this.GQ(),c=this.measure.distance,b=f.ha.Gz(b*this.measure.axis[0].factor*c[0].factor,c);this.Di("Perimeter:\n"+b)}},finish:function(){this.adjustRect()},draw:function(b,c){this.cc(b,c);for(var a=0;a<this.ma.length;a++){var d=this.ma[a];0===a?(b.beginPath(),b.moveTo(d.x,d.y)):b.lineTo(d.x,d.y)}1<this.ma.length&&(b.lineJoin="round",b.stroke())},Fi:function(b){this.$m=b},Ze:function(){return this.$m||"None"},Io:function(b){this.Ps=b},bh:function(){return this.Ps||
"None"},GQ:function(){var b=this.getPath();return 2>b.length?0:b.reduce(function(c,a,d){if(0===d)return c;d=b[d-1];return c+Math.sqrt(Math.pow(a.x-d.x,2)+Math.pow(a.y-d.y,2))},0)},Cc:function(b,c){"PolyLineDimension"!==this.IT?console.warn("setScale can only be called for perimeter measurement annotation"):(f.ha.Cc(b,c,this.measure,"distance"),f.ha.Cc(b,c,this))},Uc:function(b){f.ha.Uc(b,this.measure,"distance")},serialize:function(b,c){var a=f.ra.prototype.serialize.apply(this,arguments),d=this.getPath();
if(d&&0<d.length){var g=document.createElementNS("","vertices");g.textContent=f.ba.Ho(d,c);a.appendChild(g)}a.setAttribute("head",this.Ze());a.setAttribute("tail",this.bh());"PolyLineDimension"===this.IT&&this.measure&&a.appendChild(f.ba.Zv(this.measure));return a},deserialize:function(b,c){f.ra.prototype.deserialize.apply(this,arguments);var a=b.getElementsByTagName("vertices");0<a.length&&(this.ma=f.ba.Yk(a[0].textContent,c));this.Fi(b.getAttribute("head")||"None");this.Io(b.getAttribute("tail")||
"None");a=b.querySelector("measure");"PolyLineDimension"===b.getAttribute("IT")&&a&&(this.measure=f.ba.bu(a));this.zf()||this.adjustRect()},selectionModel:f.wm};f.xm.prototype=$.extend(new f.pc,f.xm.prototype)})(window);
(function(b){var f=b.Annotations||{};f.qk=function(){f.ra.call(this);this["_xsi:type"]="Rectangle";this.Subject=f.ha.Mc("rectangle");var b=this.getRectPadding();this.fringe=new f.Rect(b,b,b,b);this.Hk=2;this.Kd="solid"};f.qk.prototype={elementName:"square",draw:function(b,c){this.Yy(b,c)},Xh:function(b){var c=this.Qc();c.x1+=this.fringe.x1;c.y1+=this.fringe.y1;c.x2-=this.fringe.x2;c.y2-=this.fringe.y2;"cloudy"===this.Style?(f.ha.wF(this,b,[new f.Point(c.x1,c.y1),new f.Point(c.x2,c.y1),new f.Point(c.x2,
c.y2),new f.Point(c.x1,c.y2),new f.Point(c.x1,c.y1)]),b.closePath(),b.lineJoin="round"):(b.lineWidth*=2,b.beginPath(),b.moveTo(c.x1,c.y1),b.lineTo(c.x2,c.y1),b.lineTo(c.x2,c.y2),b.lineTo(c.x1,c.y2),b.closePath(),b.clip())},getRectPadding:function(){return 0},serialize:function(){var b=f.ra.prototype.serialize.apply(this,arguments);"cloudy"===this.Style&&(b.setAttribute("style",this.Style),b.setAttribute("intensity",this.Intensity));return b},deserialize:function(b){f.ra.prototype.deserialize.apply(this,
arguments);this.Kd=b.getAttribute("style");this.Hk=b.getAttribute("intensity")}};f.qk.prototype=$.extend(new f.ra,f.qk.prototype);Object.defineProperties(f.qk.prototype,{Intensity:{get:function(){return this.Hk},set:function(b){this.Hk=b;this.mb()}},Style:{get:function(){return this.Kd},set:function(b){this.Kd=b;this.mb()}}})})(window);
(function(b){var f,e=b.Annotations||{};e.vk=function(){e.ra.call(this);this["_xsi:type"]="Stamp";this.Subject=e.ha.Mc("stamp");this.Icon="Draft";this.Zi=this.Yi=this.Uf=null;this.co=1;this.BO="bold italic "+this.WJ+"px Verdana"};e.vk.prototype={elementName:"stamp",padding:20,WJ:30,Iy:10,draw:function(c,a){this.cc(c,a);c.translate(this.X,this.Y);c.rotate(-this.Rotation*Math.PI/180);var d=b.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);c.translate(-d.dx,-d.dy);if(this.image){var d=
this.Width,e=this.Height;if(this.Rotation&&(90===Number(this.Rotation)||270===Number(this.Rotation)))var f=d,d=e,e=f;1!==this.co&&(c.globalAlpha=1);c.drawImage(this.image,0,0,d,e)}else if("SHAccepted"===this.Icon)c.lineWidth=.2*Math.min(this.Width,this.Height),c.strokeStyle="#426922",c.beginPath(),c.moveTo(.05*this.Width,.5*this.Height),c.lineTo(.4*this.Width,.85*this.Height),c.lineTo(.95*this.Width,.05*this.Height),c.stroke();else if("SBRejected"===this.Icon)c.lineWidth=.2*Math.min(this.Width,this.Height),
c.strokeStyle="#8F110F",c.beginPath(),c.moveTo(.05*this.Width,.05*this.Height),c.lineTo(.95*this.Width,.95*this.Height),c.moveTo(.95*this.Width,.05*this.Height),c.lineTo(.05*this.Width,.95*this.Height),c.stroke();else{d=this.QP();c.fillStyle=d.fill;c.strokeStyle=d.hv;c.lineWidth=1;e=this.Iy;if(this.Ba()<=2*this.Iy||this.xa()<=2*this.Iy)e=Math.min(this.Ba()/2,this.xa()/2);this.bP(c,0,0,this.Ba(),this.xa(),e);c.font=this.BO;c.fillStyle=d.hv;d=this.QJ.toUpperCase();e=c.measureText(d).width+2*this.padding;
c.save();e=this.Ba()/e;f=this.xa()/(1.5*this.WJ);c.scale(e,f);c.textBaseline="middle";c.textAlign="center";c.fillText(d,this.Ba()/(2*e),this.xa()/(2*f));c.restore()}},cR:function(){var b=this.Icon;if(this.Vc[b])return this.Vc[b];if(0===b.indexOf("SB")||0===b.indexOf("SH")){var a=this.Vc[b.substring(2)];if(a)return a}return b},QP:function(){var b=_.isUndefined(this.opacity)?1:parseFloat(this.opacity),a={hv:"rgba(145, 15, 5, "+b+")",fill:"rgba(242, 230, 227, "+.7*b+")"},d={hv:"rgba(65, 106, 28, "+b+
")",fill:"rgba(215, 226, 207, "+.7*b+")"},b={hv:"rgba(24, 37, 100, "+b+")",fill:"rgba(224, 235, 246, "+.7*b+")"};switch(this.QJ){case this.Vc.Approved:case this.Vc.Completed:case this.Vc.Final:return d;case this.Vc.Asis:case this.Vc.Confidential:case this.Vc.Departmental:case this.Vc.Draft:case this.Vc.Experimental:case this.Vc.ForComment:case this.Vc.ForPublicRelease:case this.Vc.NotForPublicRelease:case this.Vc.Sold:case this.Vc.TopSecret:return b;case this.Vc.Expired:case this.Vc.NotApproved:case this.Vc.Void:return a;
default:return b}},Vc:{Approved:"Approved",AsIs:"As Is",Completed:"Completed",Confidential:"Confidential",Departmental:"Departmental",Draft:"Draft",Experimental:"Experimental",Expired:"Expired",Final:"Final",ForComment:"For Comment",ForPublicRelease:"For Public Release",InformationOnly:"Information Only",NotApproved:"Not Approved",NotForPublicRelease:"Not For Public Release",PreliminaryResults:"Preliminary Results",Sold:"Sold",TopSecret:"Top Secret",Void:"Void"},bP:function(b,a,d,e,f,h){b.beginPath();
b.moveTo(a+h,d);b.lineTo(a+e-h,d);b.quadraticCurveTo(a+e,d,a+e,d+h);b.lineTo(a+e,d+f-h);b.quadraticCurveTo(a+e,d+f,a+e-h,d+f);b.lineTo(a+h,d+f);b.quadraticCurveTo(a,d+f,a,d+f-h);b.lineTo(a,d+h);b.quadraticCurveTo(a,d,a+h,d);b.closePath();b.fill();b.stroke()},jK:function(b){f=f||document.createElement("canvas");f.width=this.image.width;f.height=this.image.height;var a=f.getContext("2d");a.drawImage(this.image,0,0);for(var d=a.getImageData(0,0,this.image.width,this.image.height),e=d.data,l=e.length,
h=3;h<l;h+=4)e[h]=255*b;a.putImageData(d,0,0);return f.toDataURL()},serialize:function(){var b=e.ra.prototype.serialize.apply(this,arguments);this.ZH&&this.Icon===this.ZH||b.setAttribute("icon",this.Icon);if(this.image){var a=document.createElementNS("","imagedata");a.textContent=this.image.src.split("%0A").join("");1===this.co&&this.Opacity!==this.co&&(a.textContent=this.jK(this.Opacity));b.appendChild(a)}return b},deserialize:function(b){e.ra.prototype.deserialize.apply(this,arguments);var a=b.getAttribute("icon");
a?this.Icon=a:this.Subject&&(this.Icon=this.Subject);a||(this.ZH=this.Icon);a=b.getElementsByTagName("imagedata");0<a.length&&(this.ImageData=a[0].textContent,this.co=this.Opacity)}};e.vk.prototype=$.extend(new e.ra,e.vk.prototype,b.utils.eventHandler);Object.defineProperties(e.vk.prototype,{Icon:{get:function(){return this.kM},set:function(b){this.kM=b;this.QJ=this.cR();this.mb()}},ImageData:{get:function(){return this.image.src},set:function(b){this.image||(this.image=new Image);if(this.image.src!==
b){var a=this;this.YD=new Promise(function(d){a.image.onload=d;a.image.onerror=d;a.image.src=b;a.mb()})}}},Opacity:{get:function(){return Object.getOwnPropertyDescriptor(e.ra.prototype,"Opacity").get.call(this)},set:function(b){Object.getOwnPropertyDescriptor(e.ra.prototype,"Opacity").set.call(this,b);if(this.image&&1>this.co){this.co=1;var a=this;this.UI().then(function(){a.ImageData=a.jK(1)})}}}})})(window);
(function(b){var f=b.Annotations||{};f.ip=function(b){f.Annotation.call(this);this["_xsi:type"]="Custom";this.Subject=i18n.t("annotations.types.custom");this.Opacity=1;if(_.isObject(b)&&(_.isUndefined(b.page)||(this.PageNumber=parseInt(b.page,10)+1),_.isUndefined(b.appearances)||(this.appearances=b.appearances),!_.isUndefined(b.rect))){var c=new f.Rect(b.rect.x1,b.rect.y1,b.rect.x2,b.rect.y2);0>c.Ba()&&(b=c.x1,c.x1=c.x2,c.x2=b);0>c.xa()&&(b=c.y1,c.y1=c.y2,c.y2=b);this.X=c.x1;this.Y=c.y1;this.Ep=c.Ba();
this.Dp=c.xa()}};f.ip.prototype={elementName:"custom",draw:function(){},serialize:function(b,c){return f.Annotation.prototype.serialize.apply(this,arguments)},deserialize:function(b,c){f.Annotation.prototype.deserialize.apply(this,arguments)}};f.ip.prototype=$.extend(new f.Annotation,f.ip.prototype)})(window);
(function(b){var f=b.Annotations||{};f.Eh=function(){f.ra.call(this);this["_xsi:type"]="Sticky";this.Subject=f.ha.Mc("stickyNote");this.Height=this.Width=20;this.NoRotate=this.NoZoom=this.NoResize=!0;this.Uf=this.Zi=null;this.Yi=new f.Color(255,255,0);this.Icon="Comment";this.OC=null};f.Eh.prototype={SIZE:31,elementName:"text",zf:function(){return null},draw:function(e,c,a){if(!this.hi()){var d=this.SIZE,f=this.SIZE;c=d<f?d:f;var l=.75*c,h=.48*c,k=.29*c,m=.19*c,n=c-m;e.strokeStyle="rgb(0, 0, 0)";
e.fillStyle=this.StrokeColor.toString();e.globalAlpha=0===this.Opacity?0:this.Opacity||1;a=a||0;e.rotate(-a*Math.PI/180);a=b.utils.getRotationOffsets((360-a)%360,d,f);e.translate(-a.dx,-a.dy);e.beginPath();e.moveTo(7,2);e.lineTo(c-5-2,2);e.quadraticCurveTo(c-2,2,c-2,7);e.lineTo(c-2,l-5);e.quadraticCurveTo(c-2,l,c-5-2,l);e.lineTo(h,l);e.lineTo(k,c-2);e.lineTo(k,l);e.lineTo(7,l);e.quadraticCurveTo(2,l,2,l-5);e.lineTo(2,7);e.quadraticCurveTo(2,2,7,2);e.fill();e.moveTo(m,.25*c);e.lineTo(n,.25*c);e.moveTo(m,
.41*c);e.lineTo(n,.41*c);e.moveTo(m,.57*c);e.lineTo(.68*c,.57*c);e.stroke()}},serialize:function(){var b=f.ra.prototype.serialize.apply(this,arguments),c={};this.Icon&&(c.icon=this.Icon);null!==this.InReplyTo&&(c.inreplyto=this.InReplyTo);for(var a in c)b.setAttribute(a,c[a]);this.Wa(b,"state");this.Wa(b,"statemodel");return b},deserialize:function(b){f.ra.prototype.deserialize.apply(this,arguments);this.Uf=null;this.Icon=b.getAttribute("icon");var c=b.getAttribute("inreplyto");c&&(this.InReplyTo=
c);this.le(b,"state");this.le(b,"statemodel");this.NoRotate=this.NoZoom=!0;this.Height=this.Width=20;this.lw()},selectionModel:f.Ap};f.Eh.prototype=$.extend(!0,new f.ra,f.Eh.prototype);Object.defineProperties(f.Eh.prototype,{InReplyTo:{get:function(){return this.OC},set:function(b){this.OC=b;this.mb()}}})})(window);
(function(b){var f=b.Annotations||{},e=f.ha||{};f.wb=function(){f.ra.call(this);this.Uf=null;this.Yi=new f.Color(255,0,0);this.Zi=null;this.RC=!0;this.SC=!1;this.fb=[];this.Wf=!1;this.SurroundingTexts=this.TextIndices=null;this["_xsi:type"]="Text Markup";this.Subject=this["_xsi:type"]};f.wb.prototype={hw:function(b){if(!b||"undefined"===typeof b.length||0===b.length)throw Error("Argument quads requires an array of at least one element");this.fb=b;for(var a=Infinity,d=Infinity,e=0,f=0,h=0;h<this.fb.length;h++)b=
this.fb[h],a=Math.min(a,b.x1,b.x2,b.x3,b.x4),d=Math.min(d,b.y1,b.y2,b.y3,b.y4),e=Math.max(e,b.x1,b.x2,b.x3,b.x4),f=Math.max(f,b.y1,b.y2,b.y3,b.y4);this.X=a;this.Y=d;this.Width=e-a;this.Height=f-d},ce:function(){return this.fb},wh:function(b){f.Annotation.prototype.wh.apply(this,arguments);var a=[];this.fb.forEach(function(d){var e={x:d.x1,y:d.y1},l={x:d.x2,y:d.y2},h={x:d.x3,y:d.y3};d={x:d.x4,y:d.y4};e=b.W(e);l=b.W(l);h=b.W(h);d=b.W(d);a.push(new f.ab(e.x,e.y,l.x,l.y,h.x,h.y,d.x,d.y))});this.hw(a)},
serialize:function(c,a){var d=f.ra.prototype.serialize.apply(this,arguments),g,l=[];for(g=0;g<this.Quads.length;g++){var h=this.Quads[g];l.push(new f.Point(h.x4,h.y4));l.push(new f.Point(h.x3,h.y3));l.push(new f.Point(h.x1,h.y1));l.push(new f.Point(h.x2,h.y2))}0<this.Quads.length&&(g=f.ba.Ho(l,a,",",","),d.setAttribute("coords",g));this.Wa(c,"inreplyto");this.Wa(c,"replyType");if(e.zq){l={};this.TextIndices?l.selidxs=f.ba.mU(this.TextIndices):b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.serialize: no idxs to serialize.");
if(this.SurroundingTexts)for(h=f.ba.lU(this.SurroundingTexts),g=0;g<h.length;g++)l["surrtxts_"+g+"_0"]=h[g][0],l["surrtxts_"+g+"_1"]=h[g][1];else b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.serialize: no surrtxts to serialize.");for(var k in l)d.setAttribute(k,l[k])}return d},deserialize:function(c,a,d){f.ra.prototype.deserialize.apply(this,arguments);this.fb=[];this.le(c,"inreplyto");this.le(c,"replyType");for(var g=c.getAttribute("coords"),g=f.ba.Yk(g,a,",",","),l=0;l+
3<g.length;l+=4){if(b.Yd.Math.pS(g[l],g[l+3],g[l+1],g[l+2])){var h=g[l+2];g[l+2]=g[l+3];g[l+3]=h}this.fb.push(new f.ab(g[l+3].x,g[l+3].y,g[l+2].x,g[l+2].y,g[l+1].x,g[l+1].y,g[l].x,g[l].y))}d?f.ha.HO(this,c,d):(this instanceof f.wb&&b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: no annotManager provided; could not attempt to deserialize extra selector data."),this.Wf=!1);var k=function(a){var c=!1,d;if(this.sf&&this.fb.length===this.sf.length)for(c=!0,l=0;l<this.fb.length;l++)for(d=
0;8>d;d++)if(5<=Math.abs(this.fb[l].pz()[d]-this.sf[l][d])){c=!1;l=this.fb.length;break}var e=!1;if(this.Ng&&this.fb.length===this.Ng.length)for(e=!0,l=0;l<this.fb.length;l++)for(d=0;8>d;d++)if(5<=Math.abs(this.fb[l].pz()[d]-this.Ng[l][d])){e=!1;l=this.fb.length;break}c||b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: absolute position selector DOES NOT agree with surrtxt selector.");e||b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: absolute position selector DOES NOT agree with index-based selector.");
d=null!==this.Ng&&(0<this.Ng.length||0===this.fb.length&&0===this.Ng.length);var h=null!==this.sf&&(0<this.sf.length||0===this.fb.length&&0===this.sf.length),g=[],k=Array(8);if(d&&h)if(c||e)b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");else{for(l=0;l<this.sf.length;l++){for(d=0;8>d;d++)k[d]=Math.round(this.sf[l][d]);g.push(new f.ab(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7]))}this.fb=g}else if(d)if(e)b.utils.warn("annot_extra_selectors",
"Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");else{for(l=0;l<this.Ng.length;l++){for(d=0;8>d;d++)k[d]=Math.round(this.Ng[l][d]);g.push(new f.ab(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7]))}this.fb=g}else if(h)if(c)b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");else{for(l=0;l<this.sf.length;l++){for(d=0;8>d;d++)k[d]=Math.round(this.sf[l][d]);g.push(new f.ab(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7]))}this.fb=
g}else b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");e=c=9007199254740991;for(l=k=g=0;l<this.fb.length;l++)d=this.fb[l].pz(),d[0]<c&&(c=d[0]),d[7]<e&&(e=d[7]),d[2]>g&&(g=d[2]),d[3]>k&&(k=d[3]);this.wJ(new f.Rect(c,e,g,k));a.Tb(this);this.trigger("extraSelectorsUsedForAdjustments");this.Hp=!0}.bind(this);if(e.zq&&this.Wf&&d)if(this.VD)k(d);else this.one("quadsCalculatedFromExtraSelectors",function(){k(d)});else b.utils.warn("annot_extra_selectors",
"Annotations.TextMarkupAnnotation.deserialize: NOT taking extra selectors path.")},Xj:function(){return!0},selectionModel:f.Ui};f.wb.prototype=$.extend(new f.ra,f.wb.prototype);Object.defineProperties(f.wb.prototype,{Quads:{get:function(){return this.fb},set:function(b){this.hw(b)}}})})(window);
(function(b){var f=b.Annotations||{},e=f.ha||{};f.Fh=function(){f.wb.call(this);this.Yi=new f.Color(255,255,0);this["_xsi:type"]="Highlight";this.Subject=f.ha.Mc("highlight");this.Opacity=1};f.Fh.opacityCap=.3;f.Fh.prototype={elementName:"highlight",zf:function(){return null},draw:function(b,a){var d=function(){this.cc(b,a);if(_.isUndefined(this.Opacity)||_.isNull(this.Opacity)||this.Opacity>f.Fh.opacityCap)b.globalAlpha=f.Fh.opacityCap;b.fillStyle=this.StrokeColor.toString();for(var d,e=0;e<this.Quads.length;e++)d=
this.Quads[e],b.beginPath(),b.moveTo(d.x1,d.y1),b.lineTo(d.x2,d.y2),b.lineTo(d.x3,d.y3),b.lineTo(d.x4,d.y4),b.closePath(),b.fill()}.bind(this);if(e.zq&&this.Wf)if(this.Hp)d();else this.one("extraSelectorsUsedForAdjustments",function(){d()});else d()}};f.Fh.prototype=$.extend(new f.wb,f.Fh.prototype)})(window);
(function(b){var f=b.Annotations||{},e=f.ha||{};f.Dm=function(){f.wb.call(this);this["_xsi:type"]="Squiggly";this.Subject=f.ha.Mc("squiggly")};f.Dm.prototype={elementName:"squiggly",draw:function(b,a){var d=function(){var d,e,f,k,m,n,r;this.cc(b,a);for(var p=0;p<this.fb.length;p++){e=this.fb[p];d=Math.sqrt((e.x1-e.x2)*(e.x1-e.x2)+(e.y1-e.y2)*(e.y1-e.y2));var u=5/3,q=d/10;b.save();b.translate(e.x1,e.y1-1.25);b.rotate(Math.atan2(e.y2-e.y1,e.x2-e.x1));e=Math.abs(e.y1-e.y4);b.beginPath();b.rect(0,-e,
d,e+1.25+1);b.clip();b.beginPath();for(var v=0;v<2*q;v+=2)r=5*v,m=5*v+u/2,n=u,f=5*(v+1)-u/2,k=u,d=5*(v+1),e=0,b.moveTo(r,0),b.bezierCurveTo(m,n,f,k,d,e),m=5*(v+1)+u/2,n=-u,f=5*(v+2)-u/2,k=-u,d=5*(v+2),e=0,b.bezierCurveTo(m,n,f,k,d,e);b.stroke();b.restore()}}.bind(this);if(e.zq&&this.Wf)if(this.Hp)d();else this.one("extraSelectorsUsedForAdjustments",function(){d()});else d()}};f.Dm.prototype=$.extend(new f.wb,f.Dm.prototype)})(window);
(function(b){var f=b.Annotations||{},e=f.ha||{};f.Em=function(){f.wb.call(this);this["_xsi:type"]="Strikeout";this.Subject=f.ha.Mc("strikeout")};f.Em.prototype={elementName:"strikeout",draw:function(b,a){var d=function(){this.cc(b,a);0===this.StrokeThickness&&(b.lineWidth=1);for(var d,e=0;e<this.fb.length;e++){d=this.fb[e];var f=(d.x1+d.x4)/2,k=(d.y1+d.y4)/2,m=(d.x2+d.x3)/2;d=(d.y2+d.y3)/2;b.beginPath();b.moveTo(f,k);b.lineTo(m,d);b.stroke()}}.bind(this);if(e.zq&&this.Wf)if(this.Hp)d();else this.one("extraSelectorsUsedForAdjustments",
function(){d()});else d()}};f.Em.prototype=$.extend(new f.wb,f.Em.prototype)})(window);
(function(b){var f=b.Annotations||{},e=f.ha||{};f.Fm=function(){f.wb.call(this);this["_xsi:type"]="Underline";this.Subject=f.ha.Mc("underline")};f.Fm.prototype={elementName:"underline",draw:function(b,a){var d=function(){this.cc(b,a);for(var d,e=0;e<this.fb.length;e++)d=this.fb[e],b.beginPath(),b.moveTo(d.x1,d.y1),b.lineTo(d.x2,d.y2),b.closePath(),b.stroke()}.bind(this);if(e.zq&&this.Wf)if(this.Hp)d();else this.one("extraSelectorsUsedForAdjustments",function(){d()});else d()}};f.Fm.prototype=$.extend(new f.wb,
f.Fm.prototype)})(window);
(function(b){var f=b.Annotations||{},e=new f.Color(0,0,0,0),c=new f.Color(0,0,0,1),a=new f.Color(255,0,0,1);f.qe=function(b){b=b||{};f.TextMarkupAnnotation.call(this);this["_xsi:type"]="Redact";this.Subject=f.ha.Mc("redact");this.Opacity=1;this.IsHoverable=!0;this.IsHovering=!1;this.PageNumber=b.PageNumber||this.PageNumber;this.StrokeThickness=1.5;this.Color=b.StrokeColor||new f.Color(a);this.FillColor=b.FillColor||new f.Color(c);this.FillDisplayColor=new f.Color(e);b.Rect&&this.ug(b.Rect);b.Quads?
(this.Quads=b.Quads,this.IsText=!0):b.Rect&&(this.DB(),this.NoMove=this.IsText=!1)};f.qe.prototype={elementName:"redact",draw:function(a,b){this.cc(a,b);var c=this.StrokeThickness,e=c/2;this.IsText||(e=-c/2);this.Rz().forEach(function(b){b.x1-=e;b.x2+=e;b.y1-=e;b.y2+=e;var c=b.x2-b.x1,f=b.y2-b.y1;a.save();a.beginPath();a.rect(b.x1,b.y1,c,f);a.clip();a.stroke();a.fill();a.closePath();a.restore()})},Rz:function(){var a=this.ce();return a=0===a.length?[this.Qc()]:a.map(function(a){return{x1:a.x4,y1:a.y4,
x2:a.x2,y2:a.y2}})},ug:function(a){f.wb.prototype.ug.call(this,a);this.IsText||(this.DB(!0),this.NoMove=!1)},cc:function(a,b){var c=this.fe();a.globalAlpha=1;a.fillStyle=c.fillColor.toString();c.strokeColor&&(a.strokeStyle=c.strokeColor.toString());a.lineWidth=2*f.ha.fq(b,c.SJ)},fe:function(){return this.IsHovering?{fillColor:this.FillColor,SJ:0,strokeColor:this.FillColor}:{fillColor:this.FillDisplayColor,SJ:this.StrokeThickness,strokeColor:this.StrokeColor}},DB:function(){if(!this.IsText){var a=
this.Qc();this.Quads=[{x1:a.x1,x2:a.x2,x3:a.x2,x4:a.x1,y1:a.y2,y2:a.y2,y3:a.y1,y4:a.y1}]}},selectionModel:f.vs,serialize:function(){var a=f.wb.prototype.serialize.apply(this,arguments);this.Wa(a,"overlay-text");this.Wa(a,"overlay-text-repeat");this.Wa(a,"justification");this.Wa(a,"defaultappearance");return a},deserialize:function(a){f.wb.prototype.deserialize.apply(this,arguments);this.le(a,"overlay-text");this.le(a,"overlay-text-repeat");this.le(a,"justification");this.defaultappearance=f.ba.Gn(a,
"defaultappearance","defaultappearance");this.Quads.length?this.NoMove=this.IsText=!0:(this.NoMove=this.IsText=!1,this.DB())}};f.qe.prototype=$.extend(new f.wb,f.qe.prototype)})(window);
(function(b){function f(){}function e(a){this.size=a;this.jc=Array(this.size);for(a=0;a<this.size;a++)this.jc[a]={Xg:b.o.ya.Ck(1,1,1),yv:b.o.ya.Ck(1,1,1),ln:null,oi:[],Uq:!1}}function c(a){var b=a.width;a.width=1;a.width=b}var a={Bs:"ViewportCanvas",$w:"PageCanvas"};e.prototype={Bj:function(a,b,c){return c&&1<b?0===a?0:Math.floor((a+1)/b):Math.floor(a/b)},Bu:function(a,b,c){b=this.Bj(a,b,c);c=null;for(var d=0;d<this.size;d++){if(this.jc[d].ln===b)return-1===this.jc[d].oi.indexOf(a)&&this.jc[d].oi.push(a),
this.jc[d].Uq=!0,this.jc[d];this.jc[d].Uq||(c=this.jc[d])}return c?(c.ln=b,c.oi.push(a),c.Uq=!0,c):null},$P:function(a,b,c){b=this.Bj(a,b,c);for(c=0;c<this.size;c++)if(this.jc[c].ln===b)return-1===this.jc[c].oi.indexOf(a)&&this.jc[c].oi.push(a),this.jc[c].Uq=!0,this.jc[c];return null},vo:function(a){for(var b=0;b<this.size;b++){var c=this.jc[b].oi,d=c.indexOf(a),e=!1;-1<d&&(c.splice(d,1),e=!0);if(e&&0===c.length){this.OE(this.jc[b]);break}}},Br:function(){for(var a=0;a<this.size;a++)this.OE(this.jc[a])},
OE:function(a){a.ln=null;a.Uq=!1;$(a.Xg).removeAttr("style").removeClass();$(a.yv).removeAttr("style").removeClass();c(a.Xg);a.Xg.getContext("2d").clearRect(0,0,a.Xg.width,a.Xg.height);a.oi=[]},KV:function(a,b,c){a=this.Bu(a,c,this.ho);_.isNull(b)&&(b=a.yv);a.yv=a.Xg;a.Xg=b}};f.prototype={$j:!1,hJ:function(){},init:function(){var a=b.innerWidth,c=b.innerHeight;this.jc=new e(3);this.gn=new e(3);this.qh=this.Ck(a,c,1);this.Sj=1},ty:function(){},Bj:function(a){return this.gn.Bj(a,this.Sj,this.ho)},gw:function(a,
b){this.Sj=a;this.ho=b},wy:function(){this.qh.getAttribute("style");this.qh.removeAttribute("style")},Xv:function(a,b){this.jc.KV(a,b,this.Sj)},vo:function(a){this.jc.vo(a);this.gn.vo(a)},Br:function(){this.jc.Br();this.gn.Br()},Zm:function(a,c,d){var e=$(a);c=Math.floor(c);d=Math.floor(d);var f=""===a.style.height||1<Math.abs(parseInt(a.style.height,10)-d);if(""===a.style.width||1<Math.abs(parseInt(a.style.width,10)-c)||f){var f=b.utils.getCanvasMultiplier(),g=Math.floor(d*f);a.setAttribute("width",
Math.floor(c*f));a.setAttribute("height",g);e.css("width",c);e.css("height",d)}},Ck:function(a,b,c,d){if("undefined"===typeof d||null===d)d=document.createElement("canvas");this.Zm(d,a,b);return"undefined"===typeof d.getContext("2d")?null:d},uM:function(a,b,c,d){var e=1,f=null,g=a;if(1>=a*c||1>=b*c)f=this.Ck(1,1,1);if(4E6>a*b)return this.Ck(a,b,c);var u=a/b;64E6<a*b&&(b=Math.sqrt(64E6/u),e=u*b/a,a=u*b);u=null;for("undefined"===typeof d&&(d=.25);null===f;){var u=this.Ck(Math.ceil(a*e),Math.ceil(b*
e),c,u),q=u.getContext("2d");q.fillStyle="white";q.fillRect(u.width-1,u.height-1,1,1);q=!(1>window.devicePixelRatio)&&(u.width<parseFloat(u.style.width)||u.height<parseFloat(u.style.height));if(null!==u&&0<this.zM(u)&&!q)f=u;else if(e-=d,0>=e)return console.error("No canvas could be created"),null}1>e&&(a="scale("+g/parseFloat(f.style.width)+")",$(f).css({transform:a,"transform-origin":"top left","ms-transform":a,"ms-transform-origin":"top left","-moz-transform":a,"-moz-transform-origin":"top left",
"-webkit-transform-origin":"top left","-webkit-transform":a,"-o-transform":a,"-o-transform-origin":"top left"}));$(f).css("position","absolute");f.getContext("2d").clearRect(f.width-1,f.height-1,1,1);return f},zM:function(a){return a.getContext("2d").getImageData(a.width-1,a.height-1,1,1).data[3]},mq:function(a,b,c){if(!a)throw Error("Canvas not defined");b=b||a.width;c=c||a.height;a.getContext("2d").clearRect(0,0,b,c)},tG:function(a,c,d,e,f,g){if(a!==this.qh)throw Error("Canvas drawing error");var p=
this.jc.Bu(c,this.Sj,this.ho);a=p.Xg;this.Zm(a,parseFloat(this.qh.style.width),parseFloat(this.qh.style.height));p=p.oi.sort(function(a,b){return a-b});c<=p[0]&&(a.width=a.width);c=b.utils.getCanvasMultiplier();d=b.ld(d,e,g,f,!0,c);e=a.getContext("2d");e.save();e.transform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);e.fillStyle="white";e.fillRect(0,0,g.width,g.height);e.restore();e.drawImage(this.qh,0,0);this.wy();return a},Mo:function(a,c,d,e,f,r,p){if(p)return g.Mo.apply(g,arguments);this.Zm(this.qh,b.innerWidth,
b.innerHeight);var u=b.utils.getCanvasMultiplier(),u=b.ld(c,d,a,e,!0,u),q=this.qh.getContext("2d");q.restore();q.save();q.transform(u.m_a,u.m_b,u.m_c,u.m_d,u.m_h,u.m_v);b.utils.canvasClipBug||(q.beginPath(),q.rect(0,0,a.width,a.height),q.clip());return{canvas:this.qh,ctx:q,t:u}},cq:function(a,b){var c=document.getElementById("pageContainer"+b);if(!c)return null;var d=$(a);d.css({"z-index":"20"});d.addClass("hacc canvas"+b);return c.parentNode},FM:function(a,b,c,d){a=d?this.gn.Bu(a,this.Sj,this.ho):
this.gn.$P(a,this.Sj,this.ho);if(!a)return null;d=d?a.Xg:a.yv;this.Zm(d,b,c);return d},No:function(a,c,d,e,f,g,p){g=a[0].getContext("2d");g.restore();g.save();var u=b.utils.getCanvasMultiplier();if(1===p||3===p)c={width:c.height,height:c.width};d=b.ld(d,(e+p||0)%4,c,f,!0,u);g.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);b.utils.canvasClipBug||(g.beginPath(),g.rect(0,0,c.width,c.height),g.clip());return a[0]},il:function(a,b,c,d,e,f,g){a=$("#pageContainer"+a).parent().find(".auxiliary");return 0===
a.length?null:this.No(a,b,c,d,e,f,g)},rn:function(a,c,d,e,f){var g=b.innerWidth,p=this.FM(a,g,b.innerHeight,f);if(!p)return null;a=$(p);a.addClass("auxiliary");a.css({"z-index":"30",position:"absolute",display:""});f=p.getContext("2d");d*=parseFloat(p.style.width)/g;g=b.utils.getCanvasMultiplier();c=b.ld(d,e,c,null,!0,g);f.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);return a[0]},Mt:function(a,b,d,e){var f=document.getElementById("pageContainer"+a);if(!f)return null;f=$(f).parent();0<f.find(".auxiliary").length?
(b=this.gn.Bu(a,this.Sj,this.ho),d=b.oi.sort(function(a,b){return a-b}),a<=d[0]&&c(b.Xg)):(a=this.rn(a,b,d,e,!0),f.append(a))},Mv:function(a,c,d){if(a=document.querySelector("#pageContainer"+a).parentNode.querySelector(".auxiliary"))b.o.ya.mq(a,d.width,d.height),d=a.getContext("2d"),d.setTransform(1,0,0,1,0,0),d.drawImage(c,0,0)},UG:function(a){return $("#pageContainer"+a).parent()},eA:function(a){return $("#pageWidgetContainer"+a)}};var d=new f,g=new f;$.extend(g,{$j:!0,hJ:function(a){this.$j=1<
a},init:function(){this.Uk={}},ty:function(a){this.Uk[a]&&(this.Uk[a].width=0,this.Uk[a].height=0);delete this.Uk[a]},Bj:function(a){return a},gw:function(){},wy:function(){},Xv:function(){},vo:function(){},Br:function(){},mq:function(a){if(!a)throw Error("Canvas not defined");var b=a.getContext("2d");b.save();b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,a.width,a.height);b.restore()},tG:function(a){return a},Mo:function(a,c,d,e,f,g){var p=!1;if(d===b.o.Ra.Xe||d===b.o.Ra.fg)p=!0;(e=!_.isUndefined(g))?
(f=(p?g.y2-g.y1:g.x2-g.x1)*c,p=(p?g.x2-g.x1:g.y2-g.y1)*c):(f=p?a.height*c:a.width*c,p=p?a.width*c:a.height*c);var u,p=this.Ck(f,p,c);u=parseFloat(p.style.width);var q=b.utils.getCanvasMultiplier();a=b.ld(u/f*c,d,e?g:a,{x:0,y:0},!0,q);c=p.getContext("2d");b.kz||(p.style.backgroundColor="white");c.transform(a.m_a,a.m_b,a.m_c,a.m_d,a.m_h,a.m_v);return{canvas:p,ctx:c,t:a}},cq:function(a,b,c){var d=document.getElementById("pageContainer"+b);if(!d)return null;var e=$(d).find(".canvas"+b);e.remove();0<e.length&&
e[0]===c&&(e[0].width=0,e[0].height=0);var f=a.FZ;a=$(a);a.css({"z-index":"20",position:"absolute"});a.addClass("hacc canvas"+b);_.isUndefined(f)||a.css("top",function(a){return a*f});$(d).append(a);return d},vD:function(a){return{width:a.x2-a.x1,height:a.y2-a.y1}},ZD:function(a,c){var d=!1;if(c===b.o.Ra.Xe||c===b.o.Ra.fg)d=!0;return{width:d?a.height:a.width,height:d?a.width:a.height}},No:function(a,c,d,e,f,g,p){if(g){var u=a[0].getContext("2d");u.restore();u.save();var q=b.utils.getCanvasMultiplier(),
v=this.ZD(this.vD(g),e),x=Math.round(v.width*d),v=Math.round(v.height*d),A=parseFloat(a.css("width")),B=parseFloat(a.css("height"));a.css({left:f.x,top:f.y});(1<Math.abs(A-x)||1<Math.abs(B-v))&&a.attr({width:x*q,height:v*q}).css({width:x,height:v});if(g&&p){f=c.width;x=c.height;if(1===p||3===p)f=c.height,x=c.width;c=b.ld(1,p,{width:f,height:x},null,!1).inverse();g=b.utils.normalizeRect(c.W({x:g.x1,y:g.y1}),c.W({x:g.x2,y:g.y2}))}d=b.ld(d,(e+(p||0))%4,g,null,!0,q);u.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,
d.m_h,d.m_v)}else a.css({top:"",left:""});return a[0]},il:function(a,b,c,d,e,f,g){a=$("#pageContainer"+a).find(".auxiliary");return 0<a.length?this.No(a,b,c,d,e,f,g):null},rn:function(a,c,d,e,f,g){var p;f?(p=this.vD(f),f=p.width,p=p.height):(f=c.width,p=c.height);p=this.ZD({width:f,height:p},e);f=p.width*d;var u=p.height*d;!g&&this.Uk[a]?(p=this.Uk[a],this.Zm(p,f,u),p.getContext("2d").setTransform(1,0,0,1,0,0)):p=this.uM(f,u,d,.2);g||(this.Uk[a]=p);a=$(p);a.addClass("auxiliary");a.css({"z-index":"30",
position:"absolute"});a=p.getContext("2d");a.clearRect(0,0,p.width,p.height);c=b.ld(parseFloat(p.style.width)/f*d,e,c);a.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);return p},Mt:function(a,b,c,d,e){var f=document.getElementById("pageContainer"+a);if(!f)return null;f=$(f);0<f.find(".auxiliary").length||(a=this.rn(a,b,c,d,e,!0),f.prepend(a))},Mv:function(a,c){var d=document.querySelector("#pageContainer"+a+" .auxiliary");d&&(b.o.ya.mq(d),d.width=c.width,d.height=c.height,d.style.width=c.style.width,
d.style.height=c.style.height,d.style.top=c.style.top,d.style.left=c.style.left,d=d.getContext("2d"),d.setTransform(1,0,0,1,0,0),d.drawImage(c,0,0))},UG:function(a){return $("#pageContainer"+a)},eA:function(a){return $("#pageWidgetContainer"+a)}});b.o.TL=function(c){if(c===a.Bs)b.o.ya=d;else if(c===a.$w)b.o.ya=g;else throw Error("Invalid Canvas Manager type");b.o.dF=c;b.o.ya.init()};b.o.jm=a;b.o.dF=a.$w;b.o.ya=g;b.o.ya.init()})(window);
(function(b){function f(a,d,f,l){for(var h=d.password||d.p,k=d.type.toUpperCase(),m=e.length,n,r=0;r<m;r++)e[r].done&&(n=e[r]);!n&&4>m&&(n={done:!1,worker:new Worker(b.o.Ej()+"DecryptWorker.js"),callback:l},e[m]=n,n.worker.addEventListener("message",function(a){if(a.data.error)throw d.error&&d.error(a.data.error),Error(a.data.error);n.callback(a.data);0<c.length?(a=c[0],c.shift(),n.done=!1,n.callback=a.callback,n.worker.postMessage({data:a.data,password:a.password,partName:a.Kl,type:k})):(n.callback=
null,n.done=!0)}));n?(n.done=!1,n.callback=l,n.worker.postMessage({data:a,password:h,partName:f,type:k})):c.push({data:a,password:h,Kl:f,type:k,callback:l})}var e=[],c=[];b.o=b.o||{};b.o.zh=b.o.zh||{};b.o.zh.decrypt=function(a,c,e,l){a=b.Aj(a);f(a,c,e,l)};b.o.zh.lF=function(a,c,e){a=b.Aj(a);var f=c.password||c.p;switch(c.type.toUpperCase()){case "AES":a=b.kF(a,f,e);break;default:a=b.kF(a,f,e)}if(a.error)throw c.error&&c.error(a.error),Error(a.error);return a}})(window);
(function(b){b.kF=function(b,e,c){for(var a=[],d=0;16>d;++d){a[d]=d;d<e.length&&(a[d]|=e.charCodeAt(d));var g=c.length+d-16;0<=g&&(a[d]|=c.charCodeAt(g))}e=[];for(c=0;16>c;++c)e.push(b.charCodeAt(c));b=b.slice(16);a=forge.aes.startDecrypting(a,e);a.update(forge.util.createBuffer(b));return a.finish()?a.output.data:{error:"Bad password or file corrupt"}}})(self);
(function(b){var f,e,c={},a=b.o;a.NU=function(a){a.indexOf("/")!==a.length-1&&(a+="/");e=a};a.Iz=function(){return e||a.Ej()+"office/"};a.uz=function(){return c.ky};a.sI=function(d,e,l){_.isUndefined(l)&&(l={});a.Cf().qr&&d===a.uz()||(l.workerId="office_pnacl_module",l.pnaclWorkerPath=window.o.Iz()+(b.ow?"WebOfficeWorkerSubzero.nmf":"WebOfficeWorker.nmf"),l.emsWorkerPath=window.o.Iz()+"OfficeWorker.js",l.ZB=c,f=a.uI(d,e,l))};a.TT=function(b){f=Promise.resolve(b);a.kw({office:null})};a.qH=function(){};
a.jH=function(c,e,l){f||a.Cf().qr||a.sI(c,e);a.yu()||a.oJ(l);l=l||a.yu();if(!a.Cf().qr){var h;c=Promise.all([a.xG(l),f]).then(function(c){var d=c[0],e=c[1];if(null===d)throw c=Error("A license key for WebViewer is required. You can get a demo license key by downloading the trial from pdftron.com."),c.userMessage="A license key for WebViewer is required. You can get a demo license key by downloading the trial from pdftron.com.",c;return new Promise(function(c,f){a.CN(function(){f(new b.zk("The worker has encountered an error",
b.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});h=new a.pL(e,a.JQ(),{l:d});h.YB.then(function(){c(h)},function(a){f(a)})})});a.kw({office:c})}return a.Cf().qr}})("undefined"===typeof window?this:window);
(function(b){b.GetPageMatrix=b.ld;b.CoreControls=function(){};b.CoreControls.setWorkerPath=b.o.qV;b.CoreControls.getWorkerPath=b.o.Ej;b.CoreControls.setPDFWorkerPath=b.o.QU;b.CoreControls.getPDFWorkerPath=b.o.Jz;b.CoreControls.setPDFResourcePath=b.o.PU;b.CoreControls.getPDFResourcePath=b.o.Gu;b.CoreControls.setPDFAsmPath=b.o.OU;b.CoreControls.getPDFAsmPath=b.o.uQ;b.CoreControls.setLocalWorkerPath=b.o.JU;b.CoreControls.getLocalWorkerPath=b.o.Ez;b.CoreControls.setOfficeWorkerPath=b.o.NU;b.CoreControls.getOfficeWorkerPath=
b.o.Iz;b.CoreControls.setResourcesPath=b.o.cV;b.CoreControls.getResourcesPath=b.o.pl;b.CoreControls.setAdvancedImageScaling=b.o.oU;b.CoreControls.setProgressiveTime=b.o.$U;b.CoreControls.preloadPDFWorker=b.o.tI;b.CoreControls.initPDFWorkerTransports=b.o.Qu;b.CoreControls.getDefaultBackendType=b.o.vz;b.CoreControls.getDefaultPdfBackendType=b.o.vz;b.CoreControls.getCurrentPDFBackendType=b.o.nG;b.CoreControls.getCurrentOfficeBackendType=b.o.uz;b.CoreControls.resetWorker=b.o.UT;b.CoreControls.resetOfficeWorker=
b.o.TT;b.CoreControls.isDemoMode=b.o.qH;b.CoreControls.setEmscriptenHeapSize=b.o.vU;b.CoreControls.setCustomFontURL=b.o.aw;b.CoreControls.disableEmbeddedJavaScript=b.o.KO;b.CoreControls.enableSubzero=b.o.kP;b.CoreControls.isSubzeroEnabled=b.o.xH;b.CoreControls.enableFullPDF=b.o.jP;b.CoreControls.isFullPDFEnabled=b.o.xl;b.CoreControls.preloadOfficeWorker=b.o.sI;b.CoreControls.initOfficeWorkerTransports=b.o.jH;b.CoreControls.setWorkerTransportPromise=b.o.kw;b.CoreControls.BlackBoxAnnotationManager=
b.o.hm;b.CoreControls.BlackBoxAnnotationManager.prototype.initiateCollaboration=b.o.hm.prototype.NR;b.CoreControls.BlackBoxAnnotationManager.prototype.disableCollaboration=b.o.hm.prototype.Ry;b.CoreControls.BlackBoxAnnotationManager.prototype.preloadAnnotations=b.o.hm.prototype.sT;b.XODText=XODText;b.XODText.ResultCode=XODText.ec;b.XODText.ResultCode.e_done=XODText.ec.al;b.XODText.ResultCode.e_page=XODText.ec.iu;b.XODText.ResultCode.e_found=XODText.ec.uq;b.XODText.Quad=XODText.ab;b.XODText.Quad.prototype.getPoints=
XODText.ab.prototype.fh;b.XODText.Quad.prototype.getNormalizedPoints=XODText.ab.prototype.sQ;b.XODText.Matrix2D=XODText.za;b.XODText.Matrix2D.prototype.initMatrix=XODText.za.prototype.rl;b.XODText.Matrix2D.prototype.initCoordinates=XODText.za.prototype.Fa;b.XODText.Matrix2D.prototype.mult=XODText.za.prototype.W;b.XODText.Point2D=XODText.Ed;b.XODText.SelectionInfo=XODText.te;b.XODText.SelectionInfo.prototype.parseFromOld=XODText.te.prototype.xr;b.CoreControls.Encryption=b.o.zh;b.CoreControls.Encryption.decrypt=
b.o.zh.decrypt;b.CoreControls.Encryption.decryptSynchronous=b.o.zh.lF;b.CoreControls.PartRetrievers=function(){};b.CoreControls.PartRetrievers.PartRetriever=b.o.V.jf;b.CoreControls.PartRetrievers.PartRetriever.prototype.setErrorCallback=b.o.V.jf.prototype.wU;b.CoreControls.PartRetrievers.PartRetriever.prototype.setCustomHeaders=b.o.V.jf.prototype.Ul;b.CoreControls.PartRetrievers.PartRetriever.prototype.setWithCredentials=b.o.V.jf.prototype.jw;b.CoreControls.PartRetrievers.CacheHinting=b.o.V.Li;b.CoreControls.PartRetrievers.CacheHinting.NEVER_CACHE=
b.o.V.Li.ps;b.CoreControls.PartRetrievers.CacheHinting.CACHE=b.o.V.Li.gC;b.CoreControls.PartRetrievers.CacheHinting.NO_HINT=b.o.V.Li.hL;b.CoreControls.PartRetrievers.LocalPartRetriever=b.o.V.nC;b.CoreControls.PartRetrievers.HttpPartRetriever=b.o.V.jk;b.CoreControls.PartRetrievers.HttpPartRetriever.prototype.requestDocument=b.o.V.jf.prototype.Pl;b.CoreControls.PartRetrievers.HttpPartRetriever.prototype.request=b.o.V.jf.prototype.request;b.CoreControls.PartRetrievers.ExternalHttpPartRetriever=b.o.V.Uw;
b.CoreControls.PartRetrievers.ExternalPdfPartRetriever=b.o.V.ls;b.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.setCustomHeaders=b.o.V.ls.prototype.Ul;b.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.getFileData=b.o.V.ls.prototype.getFileData;b.CoreControls.PartRetrievers.ArrayBufferPdfPartRetriever=b.o.V.CK;b.CoreControls.PartRetrievers.LocalPdfPartRetriever=b.o.V.eL;b.CoreControls.PartRetrievers.StreamingPartRetriever=b.o.V.AC;b.CoreControls.PartRetrievers.RangeStreamingPartRetriever=
b.o.V.EL;b.CoreControls.PartRetrievers.BlackBoxPartRetriever=b.o.V.cs;b.CoreControls.PartRetrievers.BlackBoxPartRetriever.prototype.setCustomHeaders=b.o.V.cs.prototype.Ul;b.CoreControls.PartRetrievers.BlackBoxPartRetriever.prototype.getFileData=b.o.V.cs.prototype.getFileData;b.CoreControls.PartRetrievers.BlackBoxPartRetriever.prototype.setWithCredentials=b.o.V.cs.prototype.jw;b.CoreControls.PartRetrievers.WebDBPartRetriever=b.o.V.Bp;b.CoreControls.PartRetrievers.AndroidContentPartRetriever=b.o.V.BK;
b.CoreControls.PartRetrievers.AzurePartRetriever=b.o.V.FK;b.CoreControls.PartRetrievers.IOSPartRetriever=b.o.V.op;b.CoreControls.PartRetrievers.IOSPartRetriever.partSuccess=b.o.V.op.XA;b.CoreControls.PartRetrievers.IOSPartRetriever.partFail=b.o.V.op.WA;b.CoreControls.PartRetrievers.WinRTPartRetriever=b.o.V.Cp;b.CoreControls.PartRetrievers.WinRTPartRetriever.partSuccess=b.o.V.Cp.XA;b.CoreControls.PartRetrievers.WinRTPartRetriever.partFail=b.o.V.Cp.WA;b.CoreControls.CanvasMode=b.o.jm;b.CoreControls.CanvasMode.ViewportCanvas=
b.o.jm.Bs;b.CoreControls.CanvasMode.PageCanvas=b.o.jm.$w;b.CoreControls.SetCanvasMode=b.o.TL;b.CoreControls.Bookmark=b.o.cf;b.CoreControls.Bookmark.prototype.getName=b.o.cf.prototype.getName;b.CoreControls.Bookmark.prototype.getVPos=b.o.cf.prototype.eR;b.CoreControls.Bookmark.prototype.getHPos=b.o.cf.prototype.fQ;b.CoreControls.Bookmark.prototype.getPageNumber=b.o.cf.prototype.Mb;b.CoreControls.Bookmark.prototype.getURL=b.o.cf.prototype.dR;b.CoreControls.Bookmark.prototype.getParent=b.o.cf.prototype.getParent;
b.CoreControls.Bookmark.prototype.getChildren=b.o.cf.prototype.kG;b.CoreControls.Bookmark.prototype.isValid=b.o.cf.prototype.isValid;b.CoreControls.BaseDocument=b.o.Ki;b.CoreControls.BaseDocument.prototype.calculateBoundingBox=b.o.Ki.prototype.jn;b.CoreControls.BaseDocument.prototype.addPage=b.o.Ki.prototype.gN;b.CoreControls.BaseDocument.prototype.getPage=b.o.Ki.prototype.Pn;b.PageInfo=b.mk;b.PageInfo.prototype.setFromPageData=b.mk.prototype.nJ;b.CoreControls.Document=b.o.Document;b.CoreControls.Document.registerDocumentType=
b.o.Document.Cr;b.CoreControls.Document.unregisterDocumentType=b.o.Document.WV;b.CoreControls.Document.prototype.getType=b.o.Document.prototype.QG;b.CoreControls.Document.prototype.getMetadata=b.o.Document.prototype.getMetadata;b.CoreControls.Document.prototype.getBookmarks=b.o.Document.prototype.eG;b.CoreControls.Document.prototype.getLayers=b.o.Document.prototype.FY;b.CoreControls.Document.prototype.getLinks=b.o.Document.prototype.Mn;b.CoreControls.Document.prototype.loadThumbnailAsync=b.o.Document.prototype.FA;
b.CoreControls.Document.prototype.includesThumbnails=b.o.Document.prototype.Ij;b.CoreControls.Document.prototype.loadPageText=b.o.Document.prototype.wS;b.CoreControls.Document.prototype.refreshTextData=b.o.Document.prototype.FI;b.CoreControls.Document.prototype.getTextPosition=b.o.Document.prototype.XQ;b.CoreControls.Document.prototype.extractXFDF=b.o.Document.prototype.fz;b.CoreControls.Document.prototype.loadCanvasAsync=b.o.Document.prototype.fv;b.CoreControls.Document.prototype.pauseLoadCanvas=
b.o.Document.prototype.Ev;b.CoreControls.Document.prototype.resumeLoadCanvas=b.o.Document.prototype.Wv;b.CoreControls.Document.prototype.cancelLoadCanvas=b.o.Document.prototype.Rh;b.CoreControls.Document.prototype.cancelLoadThumbnail=b.o.Document.prototype.oj;b.CoreControls.Document.prototype.unloadCanvasResources=b.o.Document.prototype.To;b.CoreControls.Document.prototype.getPageInfo=b.o.Document.prototype.zc;b.CoreControls.Document.prototype.getPageMatrix=b.o.Document.prototype.Oc;b.CoreControls.Document.prototype.getPageCount=
b.o.Document.prototype.Db;b.CoreControls.Document.prototype.getPDFCoordinates=b.o.Document.prototype.On;b.CoreControls.Document.prototype.getXODCoordinates=b.o.Document.prototype.Ou;b.CoreControls.Document.prototype.getViewerCoordinates=b.o.Document.prototype.cA;b.CoreControls.Document.prototype.loadAsync=b.o.Document.prototype.fr;b.CoreControls.Document.prototype.unloadResources=b.o.Document.prototype.dc;b.CoreControls.Document.prototype.initOfflineDB=b.o.Document.prototype.sl;b.CoreControls.Document.prototype.storeOffline=
b.o.Document.prototype.Ro;b.CoreControls.Document.prototype.isDownloaded=b.o.Document.prototype.Jj;b.CoreControls.Document.prototype.getOfflineModeEnabled=b.o.Document.prototype.Nn;b.CoreControls.Document.prototype.setOfflineModeEnabled=b.o.Document.prototype.Ko;b.CoreControls.Document.prototype.cancelOfflineModeDownload=b.o.Document.prototype.kn;b.CoreControls.Document.prototype.getPrintablePDF=b.o.Document.prototype.Sn;b.CoreControls.Document.prototype.getDownloadLink=b.o.Document.prototype.Eq;
b.CoreControls.Document.prototype.submitRedactions=b.o.Document.prototype.mw;b.CoreControls.Document.prototype.getFileData=b.o.Document.prototype.getFileData;b.CoreControls.Document.prototype.onJSCompletion=b.o.Document.prototype.XS;b.CoreControls.Document.prototype.insertPages=b.o.Document.prototype.fo;b.CoreControls.Document.prototype.getPDFDoc=b.o.Document.prototype.ol;b.CoreControls.Document.prototype.getLayersArray=b.o.Document.prototype.Kn;b.CoreControls.Document.prototype.setLayersArray=b.o.Document.prototype.cw;
b.CoreControls.Document.prototype.setOverprintPreviewMode=b.o.Document.prototype.ew;b.CoreControls.Document.prototype.extractPDFNetLayersContext=b.o.Document.prototype.Dn;b.CoreControls.Document.prototype.insertBlankPages=b.o.Document.prototype.Vq;b.CoreControls.Document.prototype.removePages=b.o.Document.prototype.wo;b.CoreControls.Document.prototype.movePages=b.o.Document.prototype.lr;b.CoreControls.Document.prototype.rotatePages=b.o.Document.prototype.Ao;b.CoreControls.Document.prototype.extractPages=
b.o.Document.prototype.En;b.CoreControls.Document.prototype.cropPages=b.o.Document.prototype.tn;b.CoreControls.Document.prototype.print=b.o.Document.prototype.print;b.CoreControls.Document.prototype.documentCompletePromise=b.o.Document.prototype.kc;b.CoreControls.Document.prototype.setWatermark=b.o.Document.prototype.Wl;b.CoreControls.Document.prototype.requirePage=b.o.Document.prototype.Ql;b.CoreControls.Document.prototype.supportsExtraSelectorPositioning=b.o.Document.prototype.Xj;b.CoreControls.Document.prototype.getOfficeDocInfo=
b.o.Document.prototype.GY;b.CoreControls.Document.prototype.getOfficeResources=b.o.Document.prototype.HY;b.CoreControls.Document.prototype.enableColorSeparations=b.o.Document.prototype.ku;b.CoreControls.Document.prototype.getColorSeparations=b.o.Document.prototype.xu;b.CoreControls.Document.prototype.enableSeparation=b.o.Document.prototype.lu;b.CoreControls.PageRotation=b.o.Ra;b.CoreControls.PageRotation.e_0=b.o.Ra.Yh;b.CoreControls.PageRotation.e_90=b.o.Ra.Xe;b.CoreControls.PageRotation.e_180=b.o.Ra.tq;
b.CoreControls.PageRotation.e_270=b.o.Ra.fg;b.CoreControls.OverprintPreviewMode=b.o.rp;b.CoreControls.OverprintPreviewMode.OFF=b.o.rp.jL;b.CoreControls.OverprintPreviewMode.ON=b.o.rp.lL;b.CoreControls.OverprintPreviewMode.PDFX_ON=b.o.rp.CL;b.CoreControls.SaveOptions=b.o.tk;b.CoreControls.SaveOptions.INCREMENTAL=b.o.tk.ZK;b.CoreControls.SaveOptions.REMOVE_UNUSED=b.o.tk.DL;b.CoreControls.SaveOptions.HEX_STRINGS=b.o.tk.UK;b.CoreControls.SaveOptions.OMIT_XREF=b.o.tk.kL;b.CoreControls.SaveOptions.LINEARIZED=
b.o.tk.dL;b.CoreControls.SaveOptions.COMPATIBILITY=b.o.tk.GK;b.CoreControls.DocumentViewer=b.o.aa;b.CoreControls.DocumentViewer.prototype.loadAsync=b.o.aa.prototype.fr;b.CoreControls.DocumentViewer.prototype.dispose=b.o.aa.prototype.Zc;b.CoreControls.DocumentViewer.prototype.FitMode=function(){};b.CoreControls.DocumentViewer.prototype.FitMode.FitWidth=b.o.aa.prototype.Hg.Xw;b.CoreControls.DocumentViewer.prototype.FitMode.FitPage=b.o.aa.prototype.Hg.lC;b.CoreControls.DocumentViewer.prototype.FitMode.Zoom=
b.o.aa.prototype.Hg.Zoom;b.CoreControls.DocumentViewer.prototype.displayLastPage=b.o.aa.prototype.QO;b.CoreControls.DocumentViewer.prototype.displayFirstPage=b.o.aa.prototype.PO;b.CoreControls.DocumentViewer.prototype.setCurrentPage=b.o.aa.prototype.Ge;b.CoreControls.DocumentViewer.prototype.getCurrentPage=b.o.aa.prototype.Hn;b.CoreControls.DocumentViewer.prototype.setRightToLeftPages=b.o.aa.prototype.dV;b.CoreControls.DocumentViewer.prototype.getRightToLeftPages=b.o.aa.prototype.Uz;b.CoreControls.DocumentViewer.prototype.getZoom=
b.o.aa.prototype.gh;b.CoreControls.DocumentViewer.prototype.getPageCount=b.o.aa.prototype.Db;b.CoreControls.DocumentViewer.prototype.setFitMode=b.o.aa.prototype.zB;b.CoreControls.DocumentViewer.prototype.getFitMode=b.o.aa.prototype.bQ;b.CoreControls.DocumentViewer.prototype.zoomTo=b.o.aa.prototype.dC;b.CoreControls.DocumentViewer.prototype.zoomToMouse=b.o.aa.prototype.IW;b.CoreControls.DocumentViewer.prototype.setToolMode=b.o.aa.prototype.iw;b.CoreControls.DocumentViewer.prototype.getToolMode=b.o.aa.prototype.Mu;
b.CoreControls.DocumentViewer.prototype.getToolModeMap=b.o.aa.prototype.$Q;b.CoreControls.DocumentViewer.prototype.getTool=b.o.aa.prototype.Qq;b.CoreControls.DocumentViewer.prototype.rotateClockwise=b.o.aa.prototype.YT;b.CoreControls.DocumentViewer.prototype.rotateCounterClockwise=b.o.aa.prototype.ZT;b.CoreControls.DocumentViewer.prototype.textSearchInit=b.o.aa.prototype.QB;b.CoreControls.DocumentViewer.prototype.SearchMode=function(){};b.CoreControls.DocumentViewer.prototype.SearchMode.e_case_sensitive=
XODText.ib.BF;b.CoreControls.DocumentViewer.prototype.SearchMode.e_whole_word=XODText.ib.FF;b.CoreControls.DocumentViewer.prototype.SearchMode.e_search_up=XODText.ib.$y;b.CoreControls.DocumentViewer.prototype.SearchMode.e_page_stop=XODText.ib.DF;b.CoreControls.DocumentViewer.prototype.SearchMode.e_highlight=XODText.ib.CF;b.CoreControls.DocumentViewer.prototype.SearchMode.e_ambient_string=XODText.ib.AF;b.CoreControls.DocumentViewer.prototype.SearchMode.e_wild_card=XODText.ib.GF;b.CoreControls.DocumentViewer.prototype.SearchMode.e_regex=
XODText.ib.EF;b.CoreControls.DocumentViewer.prototype.displayBookmark=b.o.aa.prototype.OO;b.CoreControls.DocumentViewer.prototype.displayPageLocation=b.o.aa.prototype.un;b.CoreControls.DocumentViewer.prototype.getDocument=b.o.aa.prototype.getDocument;b.CoreControls.DocumentViewer.prototype.getSelectedText=b.o.aa.prototype.Lu;b.CoreControls.DocumentViewer.prototype.getSelectedTextQuads=b.o.aa.prototype.Wz;b.CoreControls.DocumentViewer.prototype.setTextHighlightColor=b.o.aa.prototype.kV;b.CoreControls.DocumentViewer.prototype.setSearchHighlightColors=
b.o.aa.prototype.fV;b.CoreControls.DocumentViewer.prototype.displaySearchResult=b.o.aa.prototype.Sy;b.CoreControls.DocumentViewer.prototype.displayAdditionalSearchResult=b.o.aa.prototype.NO;b.CoreControls.DocumentViewer.prototype.setActiveSearchResult=b.o.aa.prototype.nU;b.CoreControls.DocumentViewer.prototype.clearSearchResults=b.o.aa.prototype.$N;b.CoreControls.DocumentViewer.prototype.getColorSeparationsAtPoint=b.o.aa.prototype.PP;b.CoreControls.DocumentViewer.prototype.scrollViewUpdated=b.o.aa.prototype.iU;
b.CoreControls.DocumentViewer.prototype.closeDocument=b.o.aa.prototype.TE;b.CoreControls.DocumentViewer.prototype.setOptions=b.o.aa.prototype.ke;b.CoreControls.DocumentViewer.prototype.recalculateLayout=b.o.aa.prototype.BI;b.CoreControls.DocumentViewer.prototype.refreshAll=b.o.aa.prototype.FT;b.CoreControls.DocumentViewer.prototype.refreshPage=b.o.aa.prototype.CI;b.CoreControls.DocumentViewer.prototype.getAnnotationsLoadedPromise=b.o.aa.prototype.HP;b.CoreControls.DocumentViewer.prototype.printCurrentDocument=
b.o.aa.prototype.zZ;b.CoreControls.DocumentViewer.prototype.getRenderingPipeline=b.o.aa.prototype.JG;b.CoreControls.DocumentViewer.prototype.setWatermark=b.o.aa.prototype.Wl;b.CoreControls.DocumentViewer.prototype.getWatermark=b.o.aa.prototype.TG;b.CoreControls.DocumentViewer.prototype.getViewer=b.o.aa.prototype.Rc;b.CoreControls.DocumentViewer.prototype.getViewerElement=b.o.aa.prototype.SG;b.CoreControls.DocumentViewer.prototype.setViewerElement=b.o.aa.prototype.BJ;b.CoreControls.DocumentViewer.prototype.getScrollView=
b.o.aa.prototype.Ob;b.CoreControls.DocumentViewer.prototype.getScrollViewElement=b.o.aa.prototype.Iu;b.CoreControls.DocumentViewer.prototype.setScrollViewElement=b.o.aa.prototype.yJ;b.CoreControls.RenderingPipeline=b.o.Am;b.CoreControls.RenderingPipeline.PipelineManager=b.o.Am.wp;b.CoreControls.RenderingPipeline.PipelineManager.prototype.registerHandlers=b.o.Am.wp.prototype.GI;b.CoreControls.RenderingPipeline.PipelineManager.prototype.pushChange=b.o.Am.wp.prototype.vi;b.CoreControls.RenderingPipeline.PipelineManager.prototype.hasPipeline=
b.o.Am.wp.prototype.sR;b.CoreControls.SetCachingLevel=b.o.hx;b.CoreControls.SetPreRenderLevel=b.o.xC;b.CoreControls.DocumentViewer.prototype.getMargin=b.o.aa.prototype.Du;b.CoreControls.DocumentViewer.prototype.setMargin=b.o.aa.prototype.KU;b.CoreControls.DocumentViewer.prototype.updateView=b.o.aa.prototype.Yj;b.CoreControls.DocumentViewer.prototype.updateVisiblePages=b.o.aa.prototype.Vo;b.CoreControls.DocumentViewer.prototype.stopPageRender=b.o.aa.prototype.Qo;b.CoreControls.DocumentViewer.prototype.setPagesPerCanvas=
b.o.aa.prototype.gw;b.CoreControls.DocumentViewer.prototype.returnCanvas=b.o.aa.prototype.Xv;b.CoreControls.DocumentViewer.prototype.drawSelection=b.o.aa.prototype.Xy;b.CoreControls.DocumentViewer.prototype.clearSelection=b.o.aa.prototype.oq;b.CoreControls.DocumentViewer.prototype.removeContent=b.o.aa.prototype.yi;b.CoreControls.DocumentViewer.prototype.select=b.o.aa.prototype.select;b.CoreControls.DocumentViewer.prototype.getPageHeight=b.o.aa.prototype.sd;b.CoreControls.DocumentViewer.prototype.getPageWidth=
b.o.aa.prototype.ud;b.CoreControls.DocumentViewer.prototype.setPageZoom=b.o.aa.prototype.fw;b.CoreControls.DocumentViewer.prototype.getPageZoom=b.o.aa.prototype.ub;b.CoreControls.DocumentViewer.prototype.getRotation=b.o.aa.prototype.de;b.CoreControls.DocumentViewer.prototype.setRotation=b.o.aa.prototype.eV;b.CoreControls.DocumentViewer.prototype.getCompleteRotation=b.o.aa.prototype.ye;b.CoreControls.DocumentViewer.prototype.getPageRotations=b.o.aa.prototype.AQ;b.CoreControls.DocumentViewer.prototype.setPageRotations=
b.o.aa.prototype.SU;b.CoreControls.DocumentViewer.prototype.getAnnotationManager=b.o.aa.prototype.Bb;b.CoreControls.DocumentViewer.prototype.setAnnotationImportOptions=b.o.aa.prototype.pU;b.CoreControls.DocumentViewer.prototype.setInternalAnnotationsTransform=b.o.aa.prototype.DU;b.CoreControls.DocumentViewer.prototype.setPagesUpdatedInternalAnnotationsTransform=b.o.aa.prototype.XU;b.CoreControls.DocumentViewer.prototype.setPageVisibilityCallback=b.o.aa.prototype.WU;b.CoreControls.DocumentViewer.prototype.getDisplayModeManager=
b.o.aa.prototype.ll;b.CoreControls.DocumentViewer.prototype.setViewportRenderMode=b.o.aa.prototype.HB;b.CoreControls.DocumentViewer.prototype.getViewportRegionRect=b.o.aa.prototype.fR;b.CoreControls.DocumentViewer.prototype.setRenderBatchSize=b.o.aa.prototype.xJ;b.CoreControls.DisplayMode=b.o.Cd;b.CoreControls.DisplayMode.prototype.setParameters=b.o.Cd.prototype.YU;b.CoreControls.DisplayMode.prototype.isContinuous=b.o.Cd.prototype.sA;b.CoreControls.DisplayMode.prototype.windowToPage=b.o.Cd.prototype.ak;
b.CoreControls.DisplayMode.prototype.windowToPageNoRotate=b.o.Cd.prototype.uW;b.CoreControls.DisplayMode.prototype.pageToWindow=b.o.Cd.prototype.Jf;b.CoreControls.DisplayMode.prototype.pageToWindowNoRotate=b.o.Cd.prototype.dT;b.CoreControls.DisplayMode.prototype.getSelectedPages=b.o.Cd.prototype.Ku;b.CoreControls.DisplayMode.prototype.getVisiblePages=b.o.Cd.prototype.Ae;b.CoreControls.DisplayMode.prototype.getPageTransform=b.o.Cd.prototype.Rn;b.CoreControls.DisplayMode.prototype.getPageOffset=b.o.Cd.prototype.Lz;
b.CoreControls.DisplayMode.prototype.createPageSections=b.o.Cd.prototype.cY;b.CoreControls.DisplayMode.prototype.setCustomFunctions=b.o.Cd.prototype.uU;b.CoreControls.DisplayModes=b.o.Dd;b.CoreControls.DisplayModes.Single=b.o.Dd.yC;b.CoreControls.DisplayModes.Continuous=b.o.Dd.hp;b.CoreControls.DisplayModes.Facing=b.o.Dd.jC;b.CoreControls.DisplayModes.FacingContinuous=b.o.Dd.Ww;b.CoreControls.DisplayModes.Cover=b.o.Dd.fs;b.CoreControls.DisplayModes.CoverFacing=b.o.Dd.gs;b.CoreControls.DisplayModes.Custom=
b.o.Dd.Rf;b.CoreControls.DisplayModeManager=b.o.kp;b.CoreControls.DisplayModeManager.prototype.setDisplayMode=b.o.kp.prototype.kJ;b.CoreControls.DisplayModeManager.prototype.getDisplayMode=b.o.kp.prototype.lc;b.CoreControls.AnnotationManager=b.o.ja;b.CoreControls.AnnotationManager.prototype.addAnnotation=b.o.ja.prototype.Tg;b.CoreControls.AnnotationManager.prototype.addAnnotations=b.o.ja.prototype.Ug;b.CoreControls.AnnotationManager.prototype.deleteAnnotation=b.o.ja.prototype.eg;b.CoreControls.AnnotationManager.prototype.deleteAnnotations=
b.o.ja.prototype.Ky;b.CoreControls.AnnotationManager.prototype.applyRedactions=b.o.ja.prototype.hy;b.CoreControls.AnnotationManager.prototype.isRedactionEnabled=b.o.ja.prototype.vA;b.CoreControls.AnnotationManager.prototype.isAnnotationRedactable=b.o.ja.prototype.SR;b.CoreControls.AnnotationManager.prototype.enableRedaction=b.o.ja.prototype.az;b.CoreControls.AnnotationManager.prototype.selectAnnotation=b.o.ja.prototype.Do;b.CoreControls.AnnotationManager.prototype.selectAnnotations=b.o.ja.prototype.rB;
b.CoreControls.AnnotationManager.prototype.deselectAnnotation=b.o.ja.prototype.rq;b.CoreControls.AnnotationManager.prototype.deselectAllAnnotations=b.o.ja.prototype.Od;b.CoreControls.AnnotationManager.prototype.isAnnotationSelected=b.o.ja.prototype.tl;b.CoreControls.AnnotationManager.prototype.getSelectedAnnotations=b.o.ja.prototype.ee;b.CoreControls.AnnotationManager.prototype.updateCopiedAnnotations=b.o.ja.prototype.aW;b.CoreControls.AnnotationManager.prototype.pasteCopiedAnnotations=b.o.ja.prototype.mT;
b.CoreControls.AnnotationManager.prototype.getAnnotationCopy=b.o.ja.prototype.oz;b.CoreControls.AnnotationManager.prototype.drawAnnotations=b.o.ja.prototype.Pd;b.CoreControls.AnnotationManager.prototype.redrawAnnotation=b.o.ja.prototype.Tb;b.CoreControls.AnnotationManager.prototype.drawAnnotationsFromList=b.o.ja.prototype.$k;b.CoreControls.AnnotationManager.prototype.updateAnnotation=b.o.ja.prototype.gK;b.CoreControls.AnnotationManager.prototype.jumpToAnnotation=b.o.ja.prototype.lS;b.CoreControls.AnnotationManager.prototype.hasAnnotation=
b.o.ja.prototype.Fj;b.CoreControls.AnnotationManager.prototype.getAnnotationsList=b.o.ja.prototype.Ye;b.CoreControls.AnnotationManager.prototype.setNoteContents=b.o.ja.prototype.BB;b.CoreControls.AnnotationManager.prototype.getCurrentUser=b.o.ja.prototype.jl;b.CoreControls.AnnotationManager.prototype.setCurrentUser=b.o.ja.prototype.yB;b.CoreControls.AnnotationManager.prototype.getIsAdminUser=b.o.ja.prototype.mQ;b.CoreControls.AnnotationManager.prototype.setIsAdminUser=b.o.ja.prototype.EU;b.CoreControls.AnnotationManager.prototype.setReadOnly=
b.o.ja.prototype.aV;b.CoreControls.AnnotationManager.prototype.getReadOnly=b.o.ja.prototype.IG;b.CoreControls.AnnotationManager.prototype.canModify=b.o.ja.prototype.Ld;b.CoreControls.AnnotationManager.prototype.canModifyContents=b.o.ja.prototype.oy;b.CoreControls.AnnotationManager.prototype.setPermissionCheckCallback=b.o.ja.prototype.ZU;b.CoreControls.AnnotationManager.prototype.setSubmitFormActionCallback=b.o.ja.prototype.jV;b.CoreControls.AnnotationManager.prototype.getAnnotCommand=b.o.ja.prototype.uu;
b.CoreControls.AnnotationManager.prototype.importAnnotCommand=b.o.ja.prototype.eo;b.CoreControls.AnnotationManager.prototype.exportAnnotations=b.o.ja.prototype.KF;b.CoreControls.AnnotationManager.prototype.importAnnotations=b.o.ja.prototype.ER;b.CoreControls.AnnotationManager.prototype.importAnnotationsAsync=b.o.ja.prototype.hH;b.CoreControls.AnnotationManager.prototype.useFreeTextEditing=b.o.ja.prototype.mW;b.CoreControls.AnnotationManager.prototype.disableFreeTextEditing=b.o.ja.prototype.LO;b.CoreControls.AnnotationManager.prototype.registerAnnotationType=
b.o.ja.prototype.GT;b.CoreControls.AnnotationManager.prototype.deregisterAnnotationType=b.o.ja.prototype.GO;b.CoreControls.AnnotationManager.prototype.getRegisteredAnnotationTypes=b.o.ja.prototype.OQ;b.CoreControls.AnnotationManager.prototype.getAnnotationFromPopup=b.o.ja.prototype.FP;b.CoreControls.AnnotationManager.prototype.getAnnotationByMouseEvent=b.o.ja.prototype.hl;b.CoreControls.AnnotationManager.prototype.getAnnotationById=b.o.ja.prototype.zj;b.CoreControls.AnnotationManager.prototype.getRootAnnotation=
b.o.ja.prototype.Oq;b.CoreControls.AnnotationManager.prototype.createAnnotationReply=b.o.ja.prototype.lO;b.CoreControls.AnnotationManager.prototype.hideAnnotation=b.o.ja.prototype.yR;b.CoreControls.AnnotationManager.prototype.hideAnnotations=b.o.ja.prototype.cH;b.CoreControls.AnnotationManager.prototype.showAnnotation=b.o.ja.prototype.yV;b.CoreControls.AnnotationManager.prototype.showAnnotations=b.o.ja.prototype.LJ;b.CoreControls.AnnotationManager.prototype.setRedrawThrottle=b.o.ja.prototype.bV;b.CoreControls.AnnotationManager.prototype.getFieldManager=
b.o.ja.prototype.nl;b.CoreControls.AnnotationManager.prototype.getEditBoxManager=b.o.ja.prototype.xz;b.CoreControls.AnnotationManager.prototype.setAnnotationStyles=b.o.ja.prototype.qU;b.CoreControls.AnnotationManager.prototype.setAnnotationDisplayAuthorMap=b.o.ja.prototype.gJ;b.CoreControls.AnnotationManager.prototype.getDisplayAuthor=b.o.ja.prototype.WP;b.Actions=b.Actions;b.Actions.GoTo=b.Actions.ef;b.Actions.GoTo.Dest=b.Actions.ef.jp;b.Actions.GoToR=b.Actions.qm;b.Actions.URI=b.Actions.Vi;b.Actions.Named=
b.Actions.vm;b.Actions.JavaScript=b.Actions.sm;b.Actions.ResetForm=b.Actions.rk;b.Actions.SubmitForm=b.Actions.wk;b.Actions.Hide=b.Actions.rm;b.Annotations=b.Annotations;b.Annotations.Color=b.Annotations.Color;b.Annotations.Color.prototype.toHexString=b.Annotations.Color.prototype.toHexString;b.Annotations.Forms=b.Annotations.O;b.Annotations.Forms.FieldManager=b.Annotations.O.ik;b.Annotations.Forms.FieldManager.prototype.getField=b.Annotations.O.ik.prototype.Cb;b.Annotations.Forms.FieldManager.prototype.addField=
b.Annotations.O.ik.prototype.Gt;b.Annotations.Forms.FieldManager.prototype.forEachField=b.Annotations.O.ik.prototype.Fn;b.Annotations.Forms.Field=b.Annotations.O.ga;b.Annotations.Forms.Field.prototype.getValue=b.Annotations.O.ga.prototype.Va;b.Annotations.Forms.Field.prototype.setValue=b.Annotations.O.ga.prototype.Gb;b.Annotations.Forms.Field.prototype.setVisible=b.Annotations.O.ga.prototype.Mf;b.Annotations.Forms.Field.prototype.on=b.Annotations.O.ga.prototype.on;b.Annotations.Forms.Field.prototype.off=
b.Annotations.O.ga.prototype.off;b.Annotations.Forms.Field.prototype.trigger=b.Annotations.O.ga.prototype.trigger;b.Annotations.Forms.Field.prototype.getActions=b.Annotations.O.ga.prototype.xj;b.Annotations.HTMLAnnotation=b.Annotations.HTMLAnnotation;b.Annotations.HTMLAnnotation.prototype.addAction=b.Annotations.HTMLAnnotation.prototype.Rk;b.Annotations.HTMLAnnotation.prototype.getActions=b.Annotations.HTMLAnnotation.prototype.xj;b.Annotations.HTMLAnnotation.prototype.triggerAction=b.Annotations.HTMLAnnotation.prototype.Ie;
b.Annotations.HTMLAnnotation.prototype.getInnerElement=b.Annotations.HTMLAnnotation.prototype.wG;b.Annotations.HTMLAnnotation.prototype.getElement=b.Annotations.HTMLAnnotation.prototype.qG;b.Annotations.WidgetAnnotation=b.Annotations.WidgetAnnotation;b.Annotations.WidgetAnnotation.prototype.setValue=b.Annotations.WidgetAnnotation.prototype.Gb;b.Annotations.WidgetAnnotation.prototype.getValue=b.Annotations.WidgetAnnotation.prototype.Va;b.Annotations.WidgetAnnotation.prototype.addAction=b.Annotations.WidgetAnnotation.prototype.Rk;
b.Annotations.WidgetAnnotation.prototype.getField=b.Annotations.WidgetAnnotation.prototype.Cb;b.Annotations.WidgetAnnotation.prototype.setField=b.Annotations.WidgetAnnotation.prototype.mJ;b.Annotations.WidgetAnnotation.prototype.on=b.Annotations.WidgetAnnotation.prototype.on;b.Annotations.WidgetAnnotation.prototype.off=b.Annotations.WidgetAnnotation.prototype.off;b.Annotations.WidgetAnnotation.prototype.trigger=b.Annotations.WidgetAnnotation.prototype.trigger;b.Annotations.TextWidgetAnnotation=b.Annotations.yk;
b.Annotations.ChoiceWidgetAnnotation=b.Annotations.Gg;b.Annotations.ListWidgetAnnotation=b.Annotations.Ni;b.Annotations.ButtonWidgetAnnotation=b.Annotations.nc;b.Annotations.PushButtonWidgetAnnotation=b.Annotations.Ri;b.Annotations.CheckButtonWidgetAnnotation=b.Annotations.xh;b.Annotations.RadioButtonWidgetAnnotation=b.Annotations.pk;b.Annotations.SignatureWidgetAnnotation=b.Annotations.uk;b.Annotations.Annotation=b.Annotations.Annotation;b.Annotations.Annotation.prototype.getPageNumber=b.Annotations.Annotation.prototype.Mb;
b.Annotations.Annotation.prototype.setPageNumber=b.Annotations.Annotation.prototype.sJ;b.Annotations.Annotation.prototype.getX=b.Annotations.Annotation.prototype.Yn;b.Annotations.Annotation.prototype.setX=b.Annotations.Annotation.prototype.rV;b.Annotations.Annotation.prototype.getY=b.Annotations.Annotation.prototype.Zn;b.Annotations.Annotation.prototype.setY=b.Annotations.Annotation.prototype.sV;b.Annotations.Annotation.prototype.getTop=b.Annotations.Annotation.prototype.Un;b.Annotations.Annotation.prototype.getBottom=
b.Annotations.Annotation.prototype.fG;b.Annotations.Annotation.prototype.getLeft=b.Annotations.Annotation.prototype.Ln;b.Annotations.Annotation.prototype.getRight=b.Annotations.Annotation.prototype.LG;b.Annotations.Annotation.prototype.getWidth=b.Annotations.Annotation.prototype.Ba;b.Annotations.Annotation.prototype.setWidth=b.Annotations.Annotation.prototype.CJ;b.Annotations.Annotation.prototype.getHeight=b.Annotations.Annotation.prototype.xa;b.Annotations.Annotation.prototype.setHeight=b.Annotations.Annotation.prototype.Kr;
b.Annotations.Annotation.prototype.getCustom=b.Annotations.Annotation.prototype.TP;b.Annotations.Annotation.prototype.setCustom=b.Annotations.Annotation.prototype.tU;b.Annotations.Annotation.prototype.draw=b.Annotations.Annotation.prototype.draw;b.Annotations.Annotation.prototype.serialize=b.Annotations.Annotation.prototype.serialize;b.Annotations.Annotation.prototype.deserialize=b.Annotations.Annotation.prototype.deserialize;b.Annotations.Annotation.prototype.setRect=b.Annotations.Annotation.prototype.ug;
b.Annotations.Annotation.prototype.getRect=b.Annotations.Annotation.prototype.Qc;b.Annotations.Annotation.prototype.getRectPadding=b.Annotations.Annotation.prototype.getRectPadding;b.Annotations.Annotation.prototype.adjustRect=b.Annotations.Annotation.prototype.adjustRect;b.Annotations.Annotation.prototype.setContents=b.Annotations.Annotation.prototype.Di;b.Annotations.Annotation.prototype.getContents=b.Annotations.Annotation.prototype.Zg;b.Annotations.Annotation.prototype.isReply=b.Annotations.Annotation.prototype.hi;
b.Annotations.Annotation.prototype.getReplies=b.Annotations.Annotation.prototype.Hu;b.Annotations.Annotation.prototype.isWidget=b.Annotations.Annotation.prototype.Kj;b.Annotations.Annotation.prototype.isVisible=b.Annotations.Annotation.prototype.Al;b.Annotations.Annotation.prototype.getInternal=b.Annotations.Annotation.prototype.lQ;b.Annotations.Annotation.prototype.selectionModel=b.Annotations.Annotation.prototype.selectionModel;b.Annotations.Annotation.prototype.elementName=b.Annotations.Annotation.prototype.elementName;
b.Annotations.Point=b.Annotations.Point;b.Annotations.Quad=b.Annotations.ab;b.Annotations.Border=b.Annotations.cp;b.Annotations.Font=b.Annotations.Ig;b.Annotations.Rect=b.Annotations.Rect;b.Annotations.Rect.prototype.getWidth=b.Annotations.Rect.prototype.Ba;b.Annotations.Rect.prototype.getHeight=b.Annotations.Rect.prototype.xa;b.Annotations.Rect.prototype.translate=b.Annotations.Rect.prototype.translate;b.Annotations.Rect.prototype.fitTo=b.Annotations.Rect.prototype.pu;b.Annotations.Rect.prototype.normalize=
b.Annotations.Rect.prototype.normalize;b.Annotations.Rect.prototype.exportNormalize=b.Annotations.Rect.prototype.LF;b.Annotations.Link=b.Annotations.nd;b.Annotations.PopupAnnotation=b.Annotations.nk;b.Annotations.PopupAnnotation.prototype.isOpen=b.Annotations.nk.prototype.isOpen;b.Annotations.PopupAnnotation.prototype.setOpen=b.Annotations.nk.prototype.rJ;b.Annotations.MarkupAnnotation=b.Annotations.ra;b.Annotations.MarkupAnnotation.prototype.setStyles=b.Annotations.ra.prototype.cc;b.Annotations.MarkupAnnotation.prototype.selectionModel=
b.Annotations.ra.prototype.selectionModel;b.Annotations.MarkupAnnotation.prototype.getPopup=b.Annotations.ra.prototype.GG;b.Annotations.MarkupAnnotation.prototype.setPopup=b.Annotations.ra.prototype.uJ;b.Annotations.IPathAnnotation=b.Annotations.pc;b.Annotations.IPathAnnotation.prototype.addPathPoint=b.Annotations.pc.prototype.hc;b.Annotations.IPathAnnotation.prototype.setPathPoint=b.Annotations.pc.prototype.Lf;b.Annotations.IPathAnnotation.prototype.getPathPoint=b.Annotations.pc.prototype.bi;b.Annotations.IPathAnnotation.prototype.popPath=
b.Annotations.pc.prototype.Uj;b.Annotations.IPathAnnotation.prototype.getPath=b.Annotations.pc.prototype.getPath;b.Annotations.IPathAnnotation.prototype.getMeasureDictionary=b.Annotations.pc.prototype.Fz;b.Annotations.IPathAnnotation.prototype.setScale=b.Annotations.pc.prototype.Cc;b.Annotations.IPathAnnotation.prototype.setPrecision=b.Annotations.pc.prototype.Uc;b.Annotations.LineAnnotation=b.Annotations.md;b.Annotations.LineAnnotation.prototype.setStartPoint=b.Annotations.md.prototype.EB;b.Annotations.LineAnnotation.prototype.getStartPoint=
b.Annotations.md.prototype.TQ;b.Annotations.LineAnnotation.prototype.setEndPoint=b.Annotations.md.prototype.setEndPoint;b.Annotations.LineAnnotation.prototype.getEndPoint=b.Annotations.md.prototype.ZP;b.Annotations.LineAnnotation.prototype.setStartStyle=b.Annotations.md.prototype.Fi;b.Annotations.LineAnnotation.prototype.getStartStyle=b.Annotations.md.prototype.Ze;b.Annotations.LineAnnotation.prototype.setEndStyle=b.Annotations.md.prototype.Io;b.Annotations.LineAnnotation.prototype.getEndStyle=b.Annotations.md.prototype.bh;
b.Annotations.LineAnnotation.prototype.getMeasureDictionary=b.Annotations.md.prototype.Fz;b.Annotations.LineAnnotation.prototype.setScale=b.Annotations.md.prototype.Cc;b.Annotations.LineAnnotation.prototype.setPrecision=b.Annotations.md.prototype.Uc;b.Annotations.RectangleAnnotation=b.Annotations.qk;b.Annotations.EllipseAnnotation=b.Annotations.lm;b.Annotations.FreeHandAnnotation=b.Annotations.FreeHandAnnotation;b.Annotations.FreeHandAnnotation.prototype.addPathPoint=b.Annotations.FreeHandAnnotation.prototype.hc;
b.Annotations.FreeHandAnnotation.prototype.setPathPoint=b.Annotations.FreeHandAnnotation.prototype.Lf;b.Annotations.FreeHandAnnotation.prototype.getPathPoint=b.Annotations.FreeHandAnnotation.prototype.bi;b.Annotations.FreeHandAnnotation.prototype.popPath=b.Annotations.FreeHandAnnotation.prototype.Uj;b.Annotations.FreeHandAnnotation.prototype.getPath=b.Annotations.FreeHandAnnotation.prototype.getPath;b.Annotations.FreeHandAnnotation.prototype.setPath=b.Annotations.FreeHandAnnotation.prototype.setPath;
b.Annotations.FreeHandAnnotation.prototype.getPaths=b.Annotations.FreeHandAnnotation.prototype.Dj;b.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath=b.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath;b.Annotations.TextMarkupAnnotation=b.Annotations.wb;b.Annotations.TextMarkupAnnotation.prototype.setQuads=b.Annotations.wb.prototype.hw;b.Annotations.TextMarkupAnnotation.prototype.getQuads=b.Annotations.wb.prototype.ce;b.Annotations.TextMarkupAnnotation.SurroundingTexts=b.Annotations.wb.lX;
b.Annotations.TextMarkupAnnotation.TextIndices=b.Annotations.wb.mX;b.Annotations.TextHighlightAnnotation=b.Annotations.Fh;b.Annotations.TextUnderlineAnnotation=b.Annotations.Fm;b.Annotations.TextStrikeoutAnnotation=b.Annotations.Em;b.Annotations.TextSquigglyAnnotation=b.Annotations.Dm;b.Annotations.CaretAnnotation=b.Annotations.gp;b.Annotations.StickyAnnotation=b.Annotations.Eh;b.Annotations.StampAnnotation=b.Annotations.vk;b.Annotations.RedactionAnnotation=b.Annotations.qe;b.Annotations.RedactionAnnotation.prototype.setRect=
b.Annotations.qe.prototype.ug;b.Annotations.PolylineAnnotation=b.Annotations.xm;b.Annotations.PolygonAnnotation=b.Annotations.Qi;b.Annotations.FreeTextAnnotation=b.Annotations.Ja;b.Annotations.FreeTextAnnotation.prototype.getPadding=b.Annotations.Ja.prototype.Kz;b.Annotations.FreeTextAnnotation.prototype.setPadding=b.Annotations.Ja.prototype.Lo;b.Annotations.FreeTextAnnotation.prototype.getIntent=b.Annotations.Ja.prototype.Zh;b.Annotations.FreeTextAnnotation.prototype.setIntent=b.Annotations.Ja.prototype.Jo;
b.Annotations.FreeTextAnnotation.prototype.addPathPoint=b.Annotations.Ja.prototype.hc;b.Annotations.FreeTextAnnotation.prototype.setStartStyle=b.Annotations.Ja.prototype.Fi;b.Annotations.FreeTextAnnotation.prototype.getStartStyle=b.Annotations.Ja.prototype.Ze;b.Annotations.FreeTextAnnotation.Intent=b.Annotations.Ja.qc;b.Annotations.ControlHandle=b.Annotations.ControlHandle;b.Annotations.ControlHandle.prototype.testSelection=b.Annotations.ControlHandle.prototype.testSelection;b.Annotations.BoxControlHandle=
b.Annotations.Me;b.Annotations.LineControlHandle=b.Annotations.um;b.Annotations.PathControlHandle=b.Annotations.Kg;b.Annotations.TextControlHandle=b.Annotations.xk;b.Annotations.SelectionModel=b.Annotations.SelectionModel;b.Annotations.SelectionModel.prototype.testSelection=b.Annotations.SelectionModel.prototype.testSelection;b.Annotations.SelectionModel.prototype.testControlHandles=b.Annotations.SelectionModel.prototype.Pr;b.Annotations.SelectionModel.prototype.getControlHandles=b.Annotations.SelectionModel.prototype.SP;
b.Annotations.SelectionModel.prototype.canModify=b.Annotations.SelectionModel.prototype.Ld;b.Annotations.SelectionModel.prototype.draw=b.Annotations.SelectionModel.prototype.draw;b.Annotations.BoxSelectionModel=b.Annotations.pa;b.Annotations.LineSelectionModel=b.Annotations.pp;b.Annotations.PathSelectionModel=b.Annotations.wm;b.Annotations.RedactionSelectionModel=b.Annotations.vs;b.Annotations.TextSelectionModel=b.Annotations.Ui;b.Annotations.StickySelectionModel=b.Annotations.Ap;b.Annotations.XfdfUtils=
b.Annotations.ba;b.Annotations.XfdfUtils.serializePoint=b.Annotations.ba.$v;b.Annotations.XfdfUtils.deserializePoint=b.Annotations.ba.$v;b.Annotations.XfdfUtils.serializePointArray=b.Annotations.ba.Ho;b.Annotations.XfdfUtils.deserializePointArray=b.Annotations.ba.Yk;b.Annotations.XfdfUtils.serializeRect=b.Annotations.ba.vB;b.Annotations.XfdfUtils.deserializeRect=b.Annotations.ba.cu;b.Annotations.XfdfUtils.serializeFringeRect=b.Annotations.ba.tB;b.Annotations.XfdfUtils.deserializeFringeRect=b.Annotations.ba.oF;
b.Annotations.XfdfUtils.serializeMeasure=b.Annotations.ba.Zv;b.Annotations.XfdfUtils.deserializeMeasure=b.Annotations.ba.bu;b.Annotations.XfdfUtils.toXmlDate=b.Annotations.ba.TB;b.Annotations.SelectionAlgorithm=b.Annotations.Vb;b.Annotations.SelectionAlgorithm.boundingRectTest=b.Annotations.Vb.Vk;b.Annotations.SelectionAlgorithm.canvasVisibilityTest=b.Annotations.Vb.kq;b.Annotations.SelectionAlgorithm.textQuadTest=b.Annotations.Vb.PB;b.Annotations.Utilities=b.Annotations.ha;b.Annotations.Utilities.setExtraSelectors=
b.Annotations.ha.yU;b.Annotations.Utilities.setAnnotationSubjectHandler=b.Annotations.ha.rU;b.Tool=b.Tool;b.Tools=b.ca;b.Tools.Tool=b.ca.Tool;b.Tools.Tool.prototype.getDocumentViewer=b.ca.Tool.prototype.ah;b.Tools.Tool.prototype.getMouseLocation=b.ca.Tool.prototype.ig;b.Tools.Tool.prototype.setStyles=b.ca.Tool.prototype.cc;b.Tools.Tool.prototype.setName=b.ca.Tool.prototype.LU;b.Tools.AnnotationSelectTool=b.ca.AnnotationSelectTool;b.Tools.TextTool=b.ca.Wb;b.Tools.GenericAnnotationCreateTool=b.ca.gb;
b.Tools.PanTool=b.ca.tp;b.Tools.TextSelectTool=b.ca.Cm;b.Tools.AnnotationEditTool=b.ca.fk;b.Tools.LineCreateTool=b.ca.Ah;b.Tools.ArrowCreateTool=b.ca.Jw;b.Tools.DistanceMeasurementCreateTool=b.ca.lp;b.Tools.DistanceMeasurementCreateTool.prototype.setScale=b.ca.lp.prototype.Cc;b.Tools.DistanceMeasurementCreateTool.prototype.setPrecision=b.ca.lp.prototype.Uc;b.Tools.PerimeterMeasurementCreateTool=b.ca.vp;b.Tools.PerimeterMeasurementCreateTool.prototype.setScale=b.ca.vp.prototype.Cc;b.Tools.PerimeterMeasurementCreateTool.prototype.setPrecision=
b.ca.vp.prototype.Uc;b.Tools.AreaMeasurementCreateTool=b.ca.bp;b.Tools.AreaMeasurementCreateTool.prototype.setScale=b.ca.bp.prototype.Cc;b.Tools.AreaMeasurementCreateTool.prototype.setPrecision=b.ca.bp.prototype.Uc;b.Tools.RectangleCreateTool=b.ca.bx;b.Tools.RedactionCreateTool=b.ca.yp;b.Tools.EllipseCreateTool=b.ca.Tw;b.Tools.FreeHandCreateTool=b.ca.FreeHandCreateTool;b.Tools.SignatureCreateTool=b.ca.SignatureCreateTool;b.Tools.SignatureCreateTool.setTextHandler=b.ca.SignatureCreateTool.FB;b.Tools.SignatureCreateTool.prototype.setSignatureCanvas=
b.ca.SignatureCreateTool.prototype.hV;b.Tools.SignatureCreateTool.prototype.clearSignatureCanvas=b.ca.SignatureCreateTool.prototype.cO;b.Tools.SignatureCreateTool.prototype.initDefaultSignature=b.ca.SignatureCreateTool.prototype.iH;b.Tools.SignatureCreateTool.prototype.hasDefaultSignature=b.ca.SignatureCreateTool.prototype.oR;b.Tools.SignatureCreateTool.prototype.addDefaultSignature=b.ca.SignatureCreateTool.prototype.cN;b.Tools.SignatureCreateTool.prototype.openSignature=b.ca.SignatureCreateTool.prototype.$S;
b.Tools.SignatureCreateTool.prototype.addSignature=b.ca.SignatureCreateTool.prototype.rE;b.Tools.SignatureCreateTool.prototype.isEmptySignature=b.ca.SignatureCreateTool.prototype.rH;b.Tools.StickyCreateTool=b.ca.jx;b.Tools.TextAnnotationCreateTool=b.ca.Ec;b.Tools.TextHighlightCreateTool=b.ca.mx;b.Tools.TextUnderlineCreateTool=b.ca.px;b.Tools.TextStrikeoutCreateTool=b.ca.ox;b.Tools.TextSquigglyCreateTool=b.ca.nx;b.Tools.PolylineCreateTool=b.ca.Ch;b.Tools.PolygonCreateTool=b.ca.Lg;b.Tools.PolygonCloudCreateTool=
b.ca.xp;b.Tools.CalloutCreateTool=b.ca.CalloutCreateTool;b.Tools.FreeTextCreateTool=b.ca.pm;b.Tools.FreeTextCreateTool.setTextHandler=b.ca.pm.FB;b.Tools.StampCreateTool=b.ca.zp})(window);
(function(){function b(b,c,a){function d(a,b){var c=b<<1;return 128>b?a*(c+(a*(255-c)>>8))>>8:a*(511-c)+Math.sqrt(a<<8)*(c-255)>>8}function g(a,b){return 128>a?a*b>>7:255-((255-b)*(255-a)>>7)}function l(a,b){return 255==b&&0==a?255:Math.min(255,(a<<8)/(255-b))}function h(a,b){return 255==b&&0==a?0:255-Math.min(255,(255-a<<8)/b)}function k(a,b,c){return{r:.299*a+.587*b+.114*c,g:-.1687*a-.3313*b+.5*c,b:.5*a-.4187*b-.0813*c}}function m(a,b,c){return{r:a+1.402*c,g:a-.3441*b-.7141*c,b:a+1.772*b}}function n(a,
b,c){a=k(a,b,c);return{Df:Math.atan2(a.g,a.b),s:Math.sqrt(a.g*a.g+a.b*a.b),mK:a.r}}function r(a,b,c){return m(c,b*Math.sin(a),b*Math.cos(a))}var p={},u;for(u in f)f.hasOwnProperty(u)&&(p[u]=a&&a[u]||f[u]);"auto"==p.width&&(p.width=this.canvas.width);"auto"==p.height&&(p.height=this.canvas.height);p.width=Math.min(p.width,this.canvas.width-p.OJ,b.canvas.width-p.x);p.height=Math.min(p.height,this.canvas.height-p.PJ,b.canvas.height-p.y);u=this.getImageData(p.OJ,p.PJ,p.width,p.height);a=b.getImageData(p.x,
p.y,p.width,p.height);u=u.data;for(var q=a.data,v,x,A=q.length,B,z,y,w,E,I,D,H,M,G,L,F,N,O,K=0;K<A;K+=4)if(v=u[K+3]/255,x=q[K+3]/255,D=v+x-v*x,q[K+3]=255*D,0!=v)if(0==x)q[K]=u[K],q[K+1]=u[K+1],q[K+2]=u[K+2];else{H=q[K];M=q[K+1];G=q[K+2];L=u[K];F=u[K+1];N=u[K+2];B=L/255*v;w=H/255*x;z=F/255*v;E=M/255*x;y=N/255*v;I=G/255*x;O=255/D;D=x*v;var C=x-D,Q=v-D;switch(c){case "normal":case "src-over":q[K]=(B+w-w*v)*O;q[K+1]=(z+E-E*v)*O;q[K+2]=(y+I-I*v)*O;break;case "screen":q[K]=(B+w-B*w)*O;q[K+1]=(z+E-z*E)*
O;q[K+2]=(y+I-y*I)*O;break;case "multiply":q[K]=(B*w+B*(1-x)+w*(1-v))*O;q[K+1]=(z*E+z*(1-x)+E*(1-v))*O;q[K+2]=(y*I+y*(1-x)+I*(1-v))*O;break;case "difference":q[K]=(B+w-2*Math.min(B*x,w*v))*O;q[K+1]=(z+E-2*Math.min(z*x,E*v))*O;q[K+2]=(y+I-2*Math.min(y*x,I*v))*O;break;case "src-in":D=v*x;O=255/D;q[K]=B*x*O;q[K+1]=z*x*O;q[K+2]=y*x*O;q[K+3]=255*D;break;case "plus":case "add":q[K]=Math.min(B+w,1)*O;q[K+1]=Math.min(z+E,1)*O;q[K+2]=Math.min(y+I,1)*O;break;case "overlay":q[K]=D*g(H,L)+C*H+Q*L;q[K+1]=D*g(M,
F)+C*M+Q*F;q[K+2]=D*g(G,N)+C*G+Q*N;break;case "hard-light":q[K]=D*g(L,H)+C*H+Q*L;q[K+1]=D*g(F,M)+C*M+Q*F;q[K+2]=D*g(N,G)+C*G+Q*N;break;case "color-dodge":case "dodge":q[K]=D*l(H,L)+C*H+Q*L;q[K+1]=D*l(M,F)+C*M+Q*F;q[K+2]=D*l(G,N)+C*G+Q*N;break;case "color-burn":case "burn":q[K]=D*h(H,L)+C*H+Q*L;q[K+1]=D*h(M,F)+C*M+Q*F;q[K+2]=D*h(G,N)+C*G+Q*N;break;case "darken":case "darker":q[K]=D*(H<L?H:L)+C*H+Q*L;q[K+1]=D*(M<F?M:F)+C*M+Q*F;q[K+2]=D*(G<N?G:N)+C*G+Q*N;break;case "lighten":case "lighter":q[K]=(B<w?
w:B)*O;q[K+1]=(z<E?E:z)*O;q[K+2]=(y<I?I:y)*O;break;case "exclusion":q[K]=(w+B-2*w*B)*O;q[K+1]=(E+z-2*E*z)*O;q[K+2]=(I+y-2*I*y)*O;break;case "soft-light":q[K]=D*d(H,L)+C*H+Q*L;q[K+1]=D*d(M,F)+C*M+Q*F;q[K+2]=D*d(G,N)+C*G+Q*N;break;case "luminosity":v=k(H,M,G);x=k(L,F,N);v=m(x.r,v.g,v.b);q[K]=D*v.r+C*H+Q*L;q[K+1]=D*v.g+C*M+Q*F;q[K+2]=D*v.b+C*G+Q*N;break;case "color":v=k(H,M,G);x=k(L,F,N);v=m(v.r,x.g,x.b);q[K]=D*v.r+C*H+Q*L;q[K+1]=D*v.g+C*M+Q*F;q[K+2]=D*v.b+C*G+Q*N;break;case "hue":v=n(H,M,G);x=n(L,F,
N);v=r(x.Df,v.s,v.mK);q[K]=D*v.r+C*H+Q*L;q[K+1]=D*v.g+C*M+Q*F;q[K+2]=D*v.b+C*G+Q*N;break;case "saturation":v=n(H,M,G);x=n(L,F,N);v=r(v.Df,x.s,v.mK);q[K]=D*v.r+C*H+Q*L;q[K+1]=D*v.g+C*M+Q*F;q[K+2]=D*v.b+C*G+Q*N;break;case "lighter-color":v=0<2.623*(H-L)+5.15*(M-F)+G-N?{r:H,g:M,b:G}:{r:L,g:F,b:N};q[K]=D*v.r+C*H+Q*L;q[K+1]=D*v.g+C*M+Q*F;q[K+2]=D*v.b+C*G+Q*N;break;case "darker-color":v=0>2.623*(H-L)+5.15*(M-F)+G-N?{r:H,g:M,b:G}:{r:L,g:F,b:N};q[K]=D*v.r+C*H+Q*L;q[K+1]=D*v.g+C*M+Q*F;q[K+2]=D*v.b+C*G+Q*N;
break;default:H=K/4%this.canvas.width,M=Math.floor(K/4/this.canvas.width),H=4>H%8&&4>M%8||3<H%8&&3<M%8,q[K]=q[K+3]=255,q[K+1]=H?255:0,q[K+2]=H?0:255}}b.putImageData(a,p.x,p.y)}var f={x:0,y:0,OJ:0,PJ:0,width:"auto",height:"auto"};(function(e){if(!e||"function"!==typeof e.getImageData)return console.error("context blender called without a valid context prototype");Object.defineProperty(e,"bO",{value:b});for(var c=b.NZ="normal src-over screen multiply difference src-in plus add overlay hardlight colordodge dodge colorburn burn darken darker lighten lighter exclusion softlight luminosity color hue saturation lightercolor darkercolor".split(" "),
a=b.supports={},d=c.length;d--;)a[c[d]]=!0;b.PX={"src-over":"normal",uo:"add",uY:"colordodge",TX:"colorburn",oY:"darken",cZ:"lighten"};return e})(CanvasRenderingContext2D&&CanvasRenderingContext2D.prototype)})();("undefined"===typeof window?this:window).xY=0;
(function(b){b.os=function(f,e){this.name=f;this.nn=e;this.MN=1;this.Ol=!0;this.Ph={};var c=this.Dt={};this.$M={};this.nv=null;c.console_log=[function(a){b.utils.log(a)}];c.console_error=[function(a){b.utils.error(a)}];c.workerLoaded=[function(){}];e.addEventListener("message",this.XG.bind(this))};b.os.prototype={on:function(f,e,c){var a=this.Dt;a[f]&&b.utils.error('There is already an actionName called "'+f+'"');a[f]=[e,c]},replace:function(b,e,c){this.Dt[b]=[e,c]},send:function(b,e){this.postMessage({action:b,
data:e})},Lq:function(){return this.MN++},Ta:function(b,e,c){var a=this.Lq();b={action:b,data:e,callbackId:a,priority:c};e=createPromiseCapability();this.Ph[a]=e;try{this.postMessage(b)}catch(d){e.reject(d)}return e.promise},Yv:function(b,e,c){var a=this.Lq();b={action:b,data:e,callbackId:a,priority:c};e=createPromiseCapability();this.Ph[a]=e;try{this.postMessage(b)}catch(d){e.reject(d)}return{promise:e.promise,LN:a}},sB:function(b,e){if(b.message||b.oP){b.message&&b.message.message&&(b.message=b.message.message);
var c=b.oP;b={type:b.type?b.type:"JavascriptError",message:b.message};if(c)for(var a in c)c.hasOwnProperty(a)&&(b[a]=c[a])}this.postMessage({isReply:!0,callbackId:e,error:b})},Qz:function(f){if(f in this.Ph)return this.Ph[f];b.utils.error("Cannot get promise for callback "+f)},JE:function(f){if(f in this.Ph){var e=this.Ph[f];delete this.Ph[f];e.reject({type:"Cancelled",message:"Request has been cancelled."});this.postMessage({action:"actionCancel",data:{callbackId:f}})}else b.utils.warn("Cannot cancel callback "+
f)},postMessage:function(b){if(this.Ol){var e=this.aR(b);this.nn.postMessage(b,e)}else this.nn.postMessage(b)},BG:function(b,e){if("object"===typeof b)if(b instanceof Uint8Array)e.push(b.buffer);else if(b instanceof ArrayBuffer)e.push(b);else for(var c in b)b.hasOwnProperty(c)&&this.BG(b[c],e)},aR:function(b){var e=[];this.BG(b,e);return 0===e.length?void 0:e},XG:function(f){var e=this,c=f.data,a=this.Dt,d=this.$M;f=this.Ph;var g;c.isReply?(a=c.callbackId,a in f?(d=f[a],delete f[a],"error"in c?d.reject(c.error):
d.resolve(c.data)):b.utils.warn("Cannot resolve callback "+a)):c.action in a?(g=a[c.action],c.callbackId?Promise.resolve().then(function(){return g[0].call(g[1],c.data)}).then(function(a){e.postMessage({isReply:!0,callbackId:c.callbackId,data:a})},function(a){e.sB(a,c.callbackId)}):g[0].call(g[1],c.data)):c.action in d?(g=d[c.action],c.callbackId?g[0].call(g[1],c).then(function(a){e.postMessage({isReply:!0,callbackId:c.callbackId,data:a});e.nv()},function(a){e.sB(a,c.callbackId);e.nv()}):g[0].call(g[1],
c).then(function(){e.nv()},function(){e.nv()})):b.utils.error("Unknown action from worker: "+c.action)}}})("undefined"===typeof window?this:window);var na=this;
na.bM=function(){function b(b,e,c){var a=this;this.Qj=[];this.Cn={};this.An={};createPromiseCapability();this.YB=new Promise(function(d,g){if("undefined"!==typeof Worker)try{var l=new na.os("main",b);l.Ol=e;a.qa=l;l.on("test",function(b){b&&b.supportTypedArray?(b.supportTransfers||(l.Ol=!1),a.uV(l),d()):g(new na.zk("Typed arrays are not supported. Can't start a worker.","error.WorkerInitError"))});var h={array:new Uint8Array([255])};try{h.options=c?c:{},h.options.chunkMax=na.JK,l.send("test",h)}catch(k){na.utils.log("Cannot use postMessage transfers"),
l.Ol=!1,h.array[0]=0,l.send("test",h)}return}catch(k){g(new na.zk("The worker has been disabled. This may be the result of using PNaCl on an unsupported browser.","error.PNaClSupportError"))}g(new na.zk("Can't start a worker","error.WorkerInitError"))})}b.prototype={yo:0,YJ:1,gd:2,lg:3,uV:function(b){this.qa=b;b.on("event",this.YI,this)},YI:function(b){var e=b.docId;if(this.Cn[e])this.Cn[e](b);else e in this.An?this.An[e].push(b):this.An[e]=[b]},addEventListener:function(b,e){if(this.Cn[b])na.utils.error("Event listener already set for "+
b);else if(this.Cn[b]=e,b in this.An){for(var c=this.An[b],a=0;a<c.length;++a)this.YI(c[a]);delete this.An[b]}},WN:function(b){delete this.Cn[b]},pP:function(b){return this.qa.Ta("NewDoc",b,this.lg)},xS:function(b,e){var c={array:b,workerPath:na.o.Ej()};e&&(c.l=e);return this.qa.Ta("LoadRes",c,this.lg)},yS:function(b,e){var c={path:b};e&&(c.l=e);return this.qa.Ta("LoadResFromPath",c,this.lg)},MP:function(b,e,c,a,d,g,l,h){return"undefined"===typeof h?this.qa.Yv("GetCanvas",{docId:b,pageIndex:e,width:c,
height:a,rotation:d,layers:g,overprintMode:l},this.yo):this.qa.Yv("GetCanvasPartial",{docId:b,pageIndex:e,width:c,height:a,rotation:d,layers:g,bbox:[h.x1,h.y1,h.x2,h.y2],overprintMode:l},this.yo)},NP:function(b,e,c,a,d,g,l,h,k){return"undefined"===typeof h?this.qa.Yv("GetCanvas",{docId:b,pageIndex:e,width:c,height:a,rotation:d,layers:g,filePath:k,overprintMode:l},this.yo):this.qa.Yv("GetCanvasPartial",{docId:b,pageIndex:e,width:c,height:a,rotation:d,layers:g,bbox:[h.x1,h.y1,h.x2,h.y2],filePath:k,
overprintMode:l},this.yo)},iG:function(b,e){return"undefined"!==typeof e?this.qa.Ta("GetCanvasProgressive",{callbackId:b,filePath:e},this.yo):this.qa.Ta("GetCanvasProgressive",{callbackId:b},this.yo)},lh:function(b,e){return this.qa.Ta("LoadText",{docId:b,pageIndex:e},this.YJ)},sS:function(b){return this.qa.Ta("LoadBookmarks",{docId:b},this.lg)},qS:function(b,e){var c={docId:b};e&&(c.pages=e);return this.qa.Ta("LoadAnnotations",c,this.lg)},kr:function(b,e){return this.qa.Ta("MergeXFDF",{docId:b,xfdf:e},
this.gd)},eU:function(b){return this.qa.Ta("SaveDoc",b,this.gd)},dU:function(b){return this.qa.Ta("SaveDocFromFixedElements",b,this.gd)},fU:function(b){return this.qa.Ta("SaveDocAs",b,this.gd)},fW:function(b,e){return this.qa.Ta("UpdatePassword",{docId:b,password:e},this.lg)},Vq:function(b,e,c,a){return this.qa.Ta("InsertBlankPages",{docId:b,width:c,height:a,pageArray:e},this.gd)},fo:function(b,e,c,a,d){return this.qa.Ta("InsertPages",{docId:b,doc:e,pageArray:c,destPos:a,insertBookmarks:d},this.gd)},
lr:function(b,e,c){return this.qa.Ta("MovePages",{docId:b,pageArray:e,destPos:c},this.gd)},wo:function(b,e){return this.qa.Ta("RemovePages",{docId:b,pageArray:e},this.gd)},Ao:function(b,e,c){return this.qa.Ta("RotatePages",{docId:b,pageArray:e,rotation:c},this.gd)},ol:function(b){return this.qa.Ta("GetPDFDoc",{docId:b},this.gd)},En:function(b,e,c){return this.qa.Ta("ExtractPages",{docId:b,pageArray:e,xfdfString:c},this.gd)},tn:function(b,e,c,a,d,g){return this.qa.Ta("CropPages",{docId:b,pageArray:e,
topMargin:c,botMargin:a,leftMargin:d,rightMargin:g},this.gd)},Tl:function(b,e){return this.qa.Ta("DownloaderHint",{docId:b,hint:e},this.gd)},WR:function(b){return this.qa.Ta("IsLinearized",{docId:b},this.gd)},Kn:function(b){return this.qa.Ta("GetLayers",{docId:b},this.gd)},Dn:function(b,e){return this.qa.Ta("ExtractPDFNetLayersContext",{docId:b,layers:e},this.gd)},Lq:function(){return this.qa.Lq()},Ly:function(b){return this.qa.Ta("DeleteDocument",{docId:b},this.gd)},xB:function(b){return this.qa.Ta("SetColorManagement",
{value:b},this.lg)},aw:function(b){return this.qa.Ta("SetCustomFontURL",{fontURL:b},this.lg)},getWorkerType:function(){return this.qa.nn&&"function"===typeof this.qa.nn.getWorkerType?this.qa.nn.getWorkerType():na.cL(this.qa.nn)?"ems":"pnacl"},Ql:function(b,e){return this.qa.Ta("RequirePage",{docId:b,pageNum:e},this.lg)},sendWithPromise:function(b,e,c){return this.qa.Ta(b,e,c)},Rt:function(b){this.qa.JE(b)},wu:function(b,e){return this.qa.Ta("GetAnnotationAppearances",{docId:b,references:e},this.YJ)}};
return b}();
(function(b){function f(){var a=document.createElement("embed");a.type="application/pdf";a.style.position="fixed";a.style.width="9px";a.style.height="9px";a.style.top="-9990px;";a.style.left="-999px";return a}function e(a,b){for(var c=!1,e=0,f=navigator.plugins;e<f.length;++e){var k=f[e].name;if("Chrome PDF Viewer"===k||"Chromium PDF Viewer"===k){c=!0;break}}c?a():b()}var c;b.isPDFiumSupported=function(){c||(c=new Promise(function(a){e(function(){a(!0)},function(){a(!1)})}));return c};b.pdfiumPrint=
function(a){var b={Bn:null,Fv:"",handleEvent:function(){var a=b;window.removeEventListener("focus",a);a.Bn&&a.Bn.remove();a.Fv&&URL.revokeObjectURL(a.Fv)}};b.Fv=URL.createObjectURL(a);b.Bn=f();b.Bn.src=b.Fv;b.Bn.addEventListener("message",function(){console.log("I actually got a message")});document.body.appendChild(b.Bn);window.addEventListener("focus",b)}})(window);
(function(b){function f(e,c){b.os.call(this,e,c);this.Wh={};this.Fr={};this.si=[]}f.prototype={Ht:function(b){this.si.push(b)},ay:function(b,c){b in this.Wh?this.Wh[b].push(c):this.Wh[b]=[c];b in this.Fr&&delete this.Fr[b]},Ov:function(b){b in this.Wh&&delete this.Wh[b];this.Fr[b]=b;this.si=[]},XG:function(e){var c=this,a=e.data,d=this.Dt;e=this.Ph;if("object"===typeof a){if("type"in a&&0<this.si.length&&"onloaddocument"===a.type)for(;0<this.si.length;)this.ay(a.data.docId,this.si.shift());if("callbackId"in
a)if(d=a.callbackId,d in e){var f=e[d];delete e[d];"type"in a&&"error"===a.type?f.reject(a):f.resolve(a.data)}else b.utils.warn("Cannot resolve callback "+d);else if(a.action in d){var l=d[a.action];a.callbackId?Promise.resolve().then(function(){return l[0].call(l[1],a.data)}).then(function(b){c.postMessage({isReply:!0,callbackId:a.callbackId,data:b})},function(a){c.sB(a)}):l[0].call(l[1],a.data)}else if(a.type)if("page"===a.type)e=a.meta.docId,this.Wh[e]?this.Wh[e].forEach(function(b){b(a)}):0<this.si.length&&
!(e in this.Fr)?this.si.forEach(function(b){b(a)}):b.utils.warn("load","No doc listeners for this docId: "+JSON.stringify(a));else{if("documentComplete"===a.type||"error"===a.type)e=a.docId,this.Wh[e]?this.Wh[e].forEach(function(b){b(a)}):0<this.si.length&&!(e in this.Fr)?this.si.forEach(function(b){b(a)}):b.utils.warn("load","No doc listeners for this docId: "+JSON.stringify(a))}else b.utils.error("Unknown action from worker: "+a.action)}}};f.prototype=$.extend(Object.create(b.os.prototype),f.prototype);
b.oL=f})("undefined"===typeof window?this:window);
(function(b){function f(e,c,a){var d=this;this.Qj=[];this.Cn={};createPromiseCapability();this.YB=new Promise(function(f,l){if("undefined"!==typeof Worker)try{if(d.qa)f();else{var h=new b.oL("main",e);h.Ol=c;d.qa=h;h.on("test",function(a){if(a.ready){var c=a&&a.supportTypedArray;a&&a.info&&b.utils.log("load","Office worker info: "+a.info);c?(a.supportTransfers||(h.Ol=!1),f()):l(new b.zk("Typed arrays are not supported. Can't start a worker.","error.WorkerInitError"))}else l("License Key Error: "+a.license)});
var k={array:new Uint8Array([255])};try{a&&(k=$.extend({},k,a)),h.send("test",k)}catch(m){h.Ol=!1,k.array[0]=0,h.send("test",k)}}return}catch(m){l(new b.zk("The worker has been disabled. This may be the result of using PNaCl on an unsupported browser.","error.PNaClSupportError"))}l(new b.zk("Can't start a worker","error.WorkerInitError"))})}f.prototype={IH:function(b){return this.qa.Ta("loadDocument",b,this.lg)},Ht:function(b){this.qa.Ht(b)},ay:function(b,c){this.qa.ay(b,c)},Ov:function(b){this.qa.Ov(b)},
Ly:function(b){this.qa.Ov(b);return this.qa.Ta("unloadDocument",{docId:b},this.gd)},Rt:function(b){this.qa.JE(b)},XP:function(b){return this.qa.Ta("getDocBuffer",{docId:b},this.lg)}};b.o.pL=f})("undefined"===typeof window?this:window);
(function(b){function f(a){this.sv=!1;this.tb=[];this.Qr={};this.Nt={};this.$t={};this.tu=[];this.Cq={};this.Sa={};this.De=a}function e(){}function c(a,b){this.Hf=a;this.Sa={};this.rb=null;this.La=b}e.prototype={aG:function(a){var b=this;b.functions=[];a.forEach(function(a){b.functions.push(new Function("c","t",a))});this.index=0},run:function(a,b,c){var e=this.functions[this.index];c&&this.index++;return e?(e(a,b),!1):!0},clone:function(){var a=new e;a.functions=this.functions;a.index=0;return a},
sr:function(){return Promise.resolve()},cancel:function(){}};f.prototype={Yz:function(a,b){var c=a+1;if(c in this.tb){var c=this.tb[c],f=$.extend({},c);if(!c.rb){var h=new e;h.aG(c.ar);c.rb=h}f.rb=c.rb.clone();b(null,f)}else b(Error("The page "+c+" does not exist yet."))},Mz:function(a,c,f){a+=1;if(a in this.tb){c=this.tb[a];a=$.extend({},c);if(!c.rb){var l=new e;l.aG(c.ar);c.rb=l}a.rb=c.rb.clone();a.Sa=$.extend(!0,{},a.Sa);for(var h in a.Sa)if(c=a.Sa[h],"jpg"===c.type)a.Sa[h].data=b.o.Hz(c.data.type,
c.data.data);else{if(b.Bq)l=b.o.Hz(c.data.type,c.data.data),l=new b.df.FontFace(c.name,"","sfnt",l);else{for(var l="",k=new Uint8Array(c.data.data),m=k.byteLength,n=0;n<m;n++)l+=String.fromCharCode(k[n]);l=new b.df.FontFace(c.name,l,"sfnt",void 0)}this.De.tA(c.name)||l.insert();a.Sa[h].data=l}f(null,a)}else f(Error("The page "+a+" does not exist yet."))},hN:function(a){var b=a.meta.page,e=new c(b,this),f=a.img,h=a.text_structure,k={},m="",n;for(m in f)f[m]&&f[m].data?(n={data:f[m],type:"jpg",name:m},
k[m]=n,this.Sa[m]=n):k[m]=this.Sa[m];f=a.embeddedFonts;for(m in f)(n=f[m])&&n.data?(n={data:n,type:"font",name:m},k[m]=n,this.Sa[m]=n):k[m]=this.Sa[m];e.ar=a.js;e.Sa=k;e.text=h;this.tb[b]=e},jq:function(){}};_(f.prototype).extend(Backbone.Events);b.o.nL=f})(window);
(function(b){function f(){}var e=b.o;e.ts=function(c){this.uf=[];this.Md=[];this.ge={};this.J=[];this.Bv={};this.ei={};this.oe={};this.Aq={};this.la=null;this.Xm=new b.gf.ws;this.id=c;this.KA=[]};e.ts.prototype=Object.create(e.Pe.prototype);e.ts.prototype.constructor=e.Bh;e.Document.Cr("office",e.ts);$.extend(e.ts.prototype,{fN:function(c){this.La.hN(c);var a=new b.mk(c.meta.width,c.meta.height);a.cb=new XODText.za;a.cb.Fa(1,0,0,-1,0,c.meta.height);a.rotation=0;this.J.push(a);this.jr=this.iq();c=
c.fonts;for(var d in c){var e=c[d];d in this.Aq?a=this.Aq[d]:(a=new XODText.Ig,a.Kr(-e.ascent,e.descent),a.AJ(500),this.Aq[d]=a);for(var e=e.charX,f=e.length,h=0;h<f;h+=3)a.Ft(e[h],e[h+1],e[h+2])}},loadAsync:function(c,a,d){var f=this;this.Ua=c;this.J=[];f.ge={};var l=d.annotsLoadedCallback;f.kc=new Promise(function(a){f.bind("documentComplete",function(){f.unbind("documentComplete");a()})});var h=d.workerTransportPromise;c.getFileData(function(d){f.bind("documentReady",a);var m={outputFormat:"canvasCommands"};
c.file?(m.type="file",m.value={bytes:d.buffer,name:c.file.name},f.ou=c.file.name):c.url?(m.type="file",m.value={bytes:d.buffer,name:c.filename||c.url},f.ou=m.value.name):(m.type="array",m.value=d.buffer,f.ou="");f.La=new e.nL(f.Xm);var n=!1;h.then(function(c){f.Ca=c;b.utils.log("load","Worker Initialized");f.Ca.Ht(function(c){switch(c.type){case "page":var d=150,e=function(){var a;13<f.Nj.length?a=f.Nj.splice(0,13):(a=f.Nj,f.Nj=[]);return a},h=function(){for(var c=e(),k=0;k<c.length;++k)b.utils.log("load",
"page "+c[k].meta.page+": "+c[k].meta.elapsedTime+"ms"),f.fN(c[k]);for(k=0;k<c.length;++k)if(c[k].cg)for(var m=0;m<c[k].cg.length;++m){var p=c[k].cg[m],p=new Annotations.nd({actions:{U:[{name:"URI",uri:p.Vi}]},rect:{x1:parseInt(p.x1,10),y1:parseInt(p.y1,10),x2:parseInt(p.x2,10),y2:parseInt(p.y2,10)}});p.PageNumber=c[k].gZ.page;f.KA.push(p)}f.kc.then(function(a){f.wj({type:"officeAnnotationsUpdated",data:a})}.bind(null,f.KA));f.KA=[];n||(n=!0,a(),l&&l('<?xml version="1.0" encoding="UTF-8"?><xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">  <pdf-info version="2" xmlns="http://www.pdftron.com/pdfinfo" /></xfdf>'));
f.wj({type:"pagesUpdated",data:f.J.slice()});b.utils.log("load","processed "+c.length+" pages, "+f.Nj.length+" remaining");0<f.Nj.length?(f.ao=setTimeout(h,d),d=30):(f.ao=null,f.RO&&f.trigger("documentComplete"))};f.Nj?(f.Nj.push(c),f.ao||(f.ao=setTimeout(h,d),d=30)):(b.utils.log("load","Received first page data"),f.Nj=[c],h());break;case "error":n?console.error(c.message):a(c);break;case "documentComplete":f.ao?f.RO=!0:f.trigger("documentComplete")}});f.Ca.IH(m).then(function(a){f.la=a.docId;b.utils.log("load",
"Document initialized")})["catch"](function(b){a(b)})})})},loadTextData:function(b,a){var d=this;this.J[b].text?a(this.J[b].text):this.La.Yz(b,function(e,f){if(!e&&"undefined"!==typeof f.text){var h=new XODText.te,k=new XODText.za;k.Fa(1,0,0,1,0,0);var m=new XODText.Bm(d.Aq),n=f.rb.clone(),r=!1;try{do r=n.run(m,k,!0);while(!r)}catch(p){console.warn("Custom Canvas has encountered an error: "+p.message);return}h.hO(f.text,m);d.J[b].text=h;a(h)}})},yl:function(){return!1},sl:f,Ro:f,Jj:function(){return!1},
extractXFDF:function(){return{xfdfString:'<?xml version="1.0" encoding="UTF-8"?><xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">  <pdf-info version="2" xmlns="http://www.pdftron.com/pdfinfo" /></xfdf>',pages:_.range(1,this.J.length+1)}},kn:f,Nn:function(){return!1},Ko:f,MB:f,Mn:function(){return[]},Db:function(){return this.J.length},zc:function(b){var a={};a.width=this.J[b].width;a.height=this.J[b].height;return a},dc:function(){e.Pe.prototype.dc.call(this);clearTimeout(this.ao);this.La=
this.ao=null;this.Ca&&this.la&&this.Ca.Ly(this.la)},Ns:function(){},Nw:function(c){var a=new b.mk(c.width,c.height);a.cb=new XODText.za;c=c.matrix;a.cb.Fa(c[0],c[1],c[2],c[3],c[4],c[5]);c=this.nj(a.cb);a.cb=this.nB({w:a.width,Df:a.height});a.rotation=c;return a},getBookmarks:function(){return Promise.resolve([])},YM:function(){var b=this,a={outputFormat:"binaryStream"};b.ou?(a.type="file",a.value={bytes:null,name:b.ou}):(a.type="array",a.value=null);var d=0,e=[];return new Promise(function(f,h){b.kc.then(function(){b.Ca.Ov(b.la);
b.Ca.Ht(function(a){switch(a.type){case "page":"binaryStream"===a.format&&a.bytes||h("Expected binaryStream data");e.push(new Uint8Array(a.bytes));d+=a.bytes.byteLength;break;case "error":console.error(a.message);h(a.message);break;case "documentComplete":a=new Uint8Array(d);for(var b=0,c=0;c<e.length;++c)a.set(e[c],b),b+=e[c].length,e[c]=null;f(a);break;default:h("Unable to export data")}});b.Ca.IH(a).then(function(a){b.la=a.docId})})})},getFileData:function(b){var a="pdf"===b.downloadType;if(this.Ca&&
this.la){var d=this.la;return a?(a=e.Qu(e.uz(),{}),Promise.all([a,this.YM()]).then(function(a){var d=a[0];b.bytes=a[1].buffer;return d.dU(b).then(function(a){return a.fileData&&0!==a.fileData.byteLength?Promise.resolve(a.fileData):Promise.reject("Failed to convert document to PDF")},function(a){console.error(a);return Promise.resolve(a)})})):this.Ca.XP(this.la).then(function(a){return a&&"array"===a.type&&d===a.docId?a.value:Promise.reject()})}return Promise.reject()},Ij:function(){return!1},FG:function(b){return this.J[b].links},
Xj:function(){return!0}})})(window);
(function(b){function f(b){return new Promise(function(a,d){var e=indexedDB.open("wasm-cache",b);e.onerror=d.bind(null,"Error opening wasm cache database");e.onsuccess=function(){a(e.result)};e.onupgradeneeded=function(a){var b=e.result;b.objectStoreNames.contains("wasm-cache")&&(console.log("Clearing out version "+a.oldVersion+" wasm cache"),b.deleteObjectStore("wasm-cache"));console.log("Creating version "+a.newVersion+" wasm cache");b.createObjectStore("wasm-cache")}})}function e(b,a){return new Promise(function(d,
e){var f=b.transaction(["wasm-cache"]).objectStore("wasm-cache").get(a);f.onsuccess=function(){f.result?d(f.result):e("Module "+a+" was not found in wasm cache")};f.onerror=e.bind(null,"Error getting wasm module "+a)})}b.gS=function(b){return f(b).then(function(a){return e(a,"PDFNetCWasm.wasm").then(function(){return!0})})["catch"](function(){return!1})};b.UY=function(c,a,d,g){function l(b,c){var d=b.transaction(["wasm-cache"],"readwrite").objectStore("wasm-cache").put(c,a);d.onerror=function(a){console.log("Failed to store in wasm cache: "+
a)};d.onsuccess=function(){console.log("Successfully stored "+a+" in wasm cache")}}function h(c){m=m||Date.now();return c?(b.utils.log("load","Try instantiateStreaming"),WebAssembly.PR(fetch(b.AY(a)),d)["catch"](function(c){b.utils.log("load","instantiateStreaming Failed "+a+" message "+c.message);return h(!1)})):b.dZ(a,g,!0,!0).then(function(a){k=Date.now();b.utils.log("load","Request took "+(k-m)+" ms");return WebAssembly.oA(a,d)})}var k,m;return f(c).then(function(c){return e(c,a).then(function(c){b.utils.log("Found "+
a+" in wasm cache");return WebAssembly.oA(c,d)},function(a){b.utils.log(a);return h(!!WebAssembly.PR).then(function(a){try{b.utils.log("load","WASM compilation took "+(Date.now()-(k||m))+" ms"),l(c,a.jZ)}catch(d){}return a.instance})})},function(a){console.log(a);return h().then(function(a){return a.instance})})}})(this);
(function(b){function f(){this.vr=this.gi=null;this.zoom=0;this.DR=!0;this.tv=0;this.vh=null}function e(a,b){this.Hf=a;this.Sa={};this.text=this.rb=null;this.La=b;this.Zl=this.gi=null}function c(a,b,c,d){this.w=b;this.Df=c;this.Fb=a;this.Gi=d;this.ap={}}function a(a,b){var c=b.split(".").slice(-2,-1)[0].split("_");return{url:b,Gi:a,Qv:(5<c.length?parseInt(c[5],10):1)/parseInt(c[0],10),vK:parseInt(c[1],10),yK:parseInt(c[2],10),uK:parseInt(c[3],10),xK:parseInt(c[4],10),getName:function(){return"tile_"+
b.substring(b.lastIndexOf("/")+1)},zF:function(a){var b=this.Qv*this.Gi*this.uK,c=this.Qv*this.Gi*this.xK,d=this.Qv*this.vK,e=this.Qv*this.yK,f=this.getName();a.tW=!0;a.PS=!0;a.QS=!0;a.CR="high";a.BR=!0;window.ci[f]&&a.I(window.ci[f],0,0,this.vK,this.yK,b,c,d,e)}}}function d(){}e.prototype={clone:function(){var a=new e(this.Hf,this.La);a.Sa=JSON.parse(JSON.stringify(this.Sa));a.rb=this.rb.clone();a.Zl=this.Zl;return a}};c.prototype={dO:function(){this.ap={}},lN:function(a,b){var c=Math.ceil(1*this.w*
b/this.Gi)|0;this.ap[b]=this.ap[b]||[];for(var d=this.ap[b],e=0;e<a.length;e++)d[a[e].xK*c+a[e].uK]=a[e]},ZQ:function(a,b){var c=Math.max(Math.min(30,Math.round(3*b)|0),1),d=c/b,e=Math.ceil(1*this.w*c/this.Gi)|0,f;if(!(c in this.ap))return null;var g=[],l={tiles:g,p:this.Fb,z:c,missing:0},v=Math.floor(a[0]*d/this.Gi)|0,x=Math.ceil(a[2]*d/this.Gi)|0,A=Math.ceil(a[3]*d/this.Gi)|0,c=this.ap[c];for(f=Math.floor(a[1]*d/this.Gi)|0;f<A;f++)for(d=v;d<x;d++)c[f*e+d]?g.push(c[f*e+d]):l.missing+=1;return l}};
f.prototype={create:function(a,b,c,d,e){this.gi=b;this.vr=c;this.Fb=a;this.Rr=d;this.er=e;this.rr=this.vh;this.tv=this.zoom;this.El=this.vh=null;this.vl=!1},nV:function(a){this.vh=a},run:function(a,b){var c=this;if(c.vl)return!0;this.zoom=b.m_a;var d=0,e=this.zoom.toFixed(5)===this.tv.toFixed(5);if(!c.vh){a.S();a.tW=!0;a.PS=!0;a.QS=!0;a.CR="high";a.BR=!0;a.I(window.ci[this.gi],0,0,this.vr.width,this.vr.height);a.r();if(this.rr)for(d=0;d<this.rr.length;d++)this.rr[d].zF(a,b,e?"rgba(0, 0, 255, 0.5)":
"rgba(255, 0, 0, 0.5)");if(d=this.Rr&&this.er){var e=[-b.m_h,-b.m_v,a.canvas.width-b.m_h,a.canvas.height-b.m_v],f=c.er,g=c.Rr;c.er=null;c.Rr=null;this.El=createPromiseCapability();var l=function(){c.vl||c.El&&c.El.resolve()};g(c.Fb,c.zoom,e,960).then(function(a){!c.vl&&a&&f(a,c,l)})}return!d}if(this.vh&&this.vh.length)for(d=0;d<this.vh.length;d++)this.vh[d].zF(a,b,"rgba(0, 255, 0, 0.5)");return!0},clone:function(){var a=new f;a.gi=this.gi;a.vr=this.vr;a.Fb=this.Fb;a.Rr=this.Rr;a.er=this.er;a.vh=this.vh;
a.rr=this.rr;a.zoom=this.zoom;a.tv=this.tv;return a},sr:function(){return this.El?this.El.promise:Promise.resolve()},cancel:function(){this.vl=!0;this.El&&this.El.resolve()}};var g=b.o;g.bs=function(a){this.uf=[];this.Md={};this.ge={};this.Bv={};this.ei={};this.oe={};this.Aq={};this.la=null;this.Xm=this.De=new b.gf.ws;this.id=a;this.La=this;this.tb=[];this.RB=[];this.xg={};this.qI=this.J=[];this.page=[];this.od=null;this.Pj={};this.Wr=createPromiseCapability();this.Dv=createPromiseCapability();this.po=
null;this.Gv=[];this.qq=null;this.qw=this.pw=!0;this.nS=0;this.QV=1;this.bq=null;this.vF=this.NB=!1;this.Rv=[]};g.bs.prototype=Object.create(g.Pe.prototype);g.bs.prototype.constructor=g.Bh;g.Document.Cr("blackbox",g.bs);var l={Md:!0,dc:!0,loadThumbnailAsync:!0,oj:!0,Sn:!0,Eq:!0,getFileData:!0,extractXFDF:!0,Po:!0,gl:!0,Qn:!0,Mq:!0};$.extend(g.bs.prototype,{vR:function(a){return a.WG().then(function(a){return Promise.resolve(!!a.url)})},sO:function(a){return a.RT()},oj:function(a){2===this.xg[a]?(delete this.xg[a],
this.jq(0,a)):this.xg[a]&&delete this.xg[a]},loadThumbnailAsync:function(a,b){if(!this.J||this.J.length<a)throw Error("Document is not initialized!");var c=this,d=c,e,f=null;c.RB[a]?f=Promise.resolve(c.RB[a]):this.rj||(f=c.od.Tv(a));f?(e=c.aF(),d.xg[e]=1,f.then(function(f){var g=new Image;c.RB[a]=f;g.onload=function(){URL.revokeObjectURL(f.url);d.xg[e]&&(b(g),delete d.xg[e]);g=g.onload=null};g.src=f.url})):(c=this.rj,f=c.J[a],e=c.loadCanvasAsync({pageIndex:a,zoom:f.width>f.height?450/f.width:450/
f.height,drawComplete:function(a){a.style.backgroundColor="white";d.xg[e]&&(c.To(e),b(a),delete d.xg[e])},pageCanvas:!0}),d.xg[e]=2);return e},JB:function(){return this.qw&&(b.utils.ie||!this.pw||b.utils.isMobileDevice)},NN:function(){return!b.utils.isMobileDevice},UJ:function(a){function c(g){l[g]||("function"===typeof a[g]?(b.utils.log("load","Redirected function name "+g),p[g]=f(g)):(b.utils.log("load","Redirected property name "+g),Object.defineProperty(p,g,{get:d(g),set:e(g)})))}function d(a){return function(){return p.rj[a]}}
function e(a){return function(b){p.rj[a]=b}}function f(a){return function(){return p.rj[a].apply(p.rj,arguments)}}if(null===a)return b.utils.log("load","Not switching backends because the server gave us nothing to use"),!1;var p=this,u=this.JB();b.utils.log("load","Switching backend XOD: "+u);var q=u?g.Pe.prototype:g.Bh.prototype;p.NB=u;if(p.po&&p.NB&&(u=p.po.ah().Bb().Ye())){p.qI=p.J;p.Gv=[];for(var v=0;v<u.length;++v)p.Gv.push(u[v])}p.rj=a;for(var x in a)(a.hasOwnProperty(x)||q.hasOwnProperty(x))&&
c(x);p.ww();a.aT=a.$A;a.$A=function(b){if("pagesUpdated"===b.type){var c=b.data.pageDimensions;Object.keys(c).forEach(function(a){var b=parseInt(a,10)-1;a=c[a];a.id=""+b;a.contentChanged&=!p.Rv[b];p.Rv[b]=0})}a.aT(b)};a.nu=p.nu;try{localStorage.setItem("isCached",!0)}catch(A){b.utils.log("load","Couldn't add the loaded marker to localStorage")}return!0},VZ:function(){return Promise.resolve(b.WebAssembly?b.gS(b.gR()):!0)},xV:function(a){return this.JB()?this.vR(a):a.lG().then(function(a){return Promise.resolve(a.unhealthy)})},
YE:function(a,c,d){function e(a,b){return new Promise(function(c,e){b.loadAsync(a,function(a){a?e(a):c(b)},d)})}var f=c.VP(),l={withCredentials:c.Xn(),useDownloader:!0};if(this.JB()){var u=function(c){if(c.flat||!c.url)return Promise.resolve(null);c=new b.o.V.jk(c.url,l);c.Ul(f);var d=new g.Pe(a);return e(c,d)};return d.aH?u(d.aH):this.sO(c).then(u)}if(!this.NN())return Promise.resolve(null);var q=g.vz().then(function(a){return g.Qu(a,d.workerHandlers?d.workerHandlers:{},d.l)});return Promise.all([c.RI(),
q]).then(function(a){a=new g.V.ls(a[0].url,l);a.Ul(f);var b=new g.Bh;d.workerTransportPromise=q;d.extension="pdf";return e(a,b)})},iN:function(a){if(0!==a.length){for(var b=0;b<a.length;++b)for(var c=a[b],d=Math.min(this.J.length,c.i-1),e=c.i+c.n-2;e>=d;--e){var f=this.Nw(c);this.J[e]=f}this.jr=this.iq();this.wj({type:"pagesUpdated",data:this.J.slice()})}},bN:function(a){function b(a){var c=[];a.children.forEach(function(a){c.push(b(a))});return new g.cf(c,a.name,a.pageNumber,a.parent,a.verticalOffset,
a.horizontalOffset,a.url)}for(var c=0;c<a.length;++c)this.uf.push(b(a[c]))},loadAsync:function(a,c,d){var e=this;e.od=e.Ua=a;e.J=[];e.La=e;b.utils.log("load","Request Document");e.od.IU(function(){e.QR()},null);e.od.lG().then(function(f){e.pw&=f.hasPDF;e.qw&=f.hasXOD;"tileScale"in f&&(e.QV=f.tileScale);e.od.jW().then(function(){e.od.Pl(d.extension).then(function(f){b.utils.log("load","Document response received.");f&&("pages"in f&&e.iN(f.pages),"bookmarks"in f&&(e.uf=[],e.bN(f.bookmarks)));e.bq=e.od.dG();
e.xV(a).then(function(f){b.utils.log("load","Should we use client side rendering? "+f);if(f)"object"===typeof f&&(d.aH=f),e.YE(e.id,a,d).then(function(a){e.UJ(a);e.ww().then(function(){e.po=c();e.Dv.resolve(e.po)})});else{e.ww().then(function(){e.po=c();e.Dv.resolve(e.po)});if(e.pw||e.qw)b.utils.log("load","Load client side document"),e.Wr.resolve(!0),e.Wr.promise.then(function(){e.YE(e.id,a,d).then(function(a){var b=e.J[0].height,c;e.UJ(a)&&e.Dv.promise.then(function(a){if(a=a.ah()){for(var d=0;d<
e.J.length;d++)e.J[d].tg(a);for(var f=!1,g=(e.J[0].height|0)===(b|0),h=b/e.J[0].height,k=a.N.Ae(),d=0;d<k.length;d++)!g&&a.N.wQ(k[d].Qa-1)&&(f=!0,a.N.fw(k[d].Qa-1,k[d].zoom*h),a.il(k[d].Qa-1)),(c=a.Ea.Nc(k[d].id))&&c.zd&&(c.zd=null);g||a.N.Ei(a.N.kg*h);f||g||(a.yi(),a.fa.yg());a.trigger("backendSwitch")}})})});e.kc=new Promise(function(a){e.bind("documentComplete",function(){e.unbind("documentComplete");a()})})}})},function(a){c(a)})})},function(a){c(a)})},loadTextData:function(a,b){a in this.tb&&
this.tb[a].text?b(this.tb[a].text):this.Yz(a,b)},Vh:function(a){return a},Mz:function(d,g,l){if(d in this.J){var n=this;n.nS=d;this.tb[d]=this.tb[d]||new e(d,this);var r=this.tb[d],p=null,u=null;r.rb?p=Promise.resolve(r):(b.utils.log("load","blackbox(pgi: "+d+") request image"),p=(0!==d?n.Wr.promise.then(function(){return n.od.Tv(d)}):n.od.Tv(d)).then(function(a){r.Zl=new c(d,n.J[d].width,n.J[d].height,960);n.J[d].gi=a.name;r.rb=new f;r.Sa[n.J[d].gi]={data:a.url,type:"jpg",name:n.J[d].gi};return r},
function(a){u=a;b.utils.log("load","blackbox(pgi "+d+") error requesting image: "+a);r.Sa.img_error={data:"",type:"jpg",name:"img_error"};r.rb=new f;r.rb.create(d,"img_error",n.J[d],null,null);return r}));var q=function(b,c,d,e){var f=r.Zl.ZQ(d,c);return f&&0===f.missing?Promise.resolve(f):n.od?n.od.QT(b,c,d,e).then(function(b){for(var c=b.tiles,d=0;d<c.length;d++)c[d]=a(b.size,c[d]);return Promise.resolve(b)}):Promise.resolve(null)};p.then(function(a){b.utils.log("load","blackbox(pg "+d+") has image URL");
var c=null,e=n.Rv[d];n.Rv[d]=e?e+1:1;a.rb.create(d,n.J[d].gi,n.J[d],q,function(d,e,f){if(g in n.Md&&!a.rb.vl){var h,l,m=d.tiles,p=n.Md[g].Gf,q=!("missing"in d),r=[],u=0;for(;u<m.length;u++)l=m[u],h=l.getName(),c.Sa[h]||(l={data:l.url,type:"jpg",name:h},r.push(l),c.Sa[h]=l);q&&a.Zl.lN(m,d.z);a.Sa=JSON.parse(JSON.stringify(c.Sa));e.nV(m);a.rb=e.clone();p.EA(function(){n.Wr.resolve();f()},r,!0);q&&b.utils.log("load","Server took "+d.runTime+"ms to generate "+m.length+" tiles")}});c=a.clone();n.Pj[g]=
c.rb;b.utils.log("load","blackbox(pg "+d+") calling resource load callback");l(u,c)},function(a){console.warn("Error creating resources for page: "+a);l(a)})}else l(Error("The page "+(d+1)+" does not exist."))},Yz:function(a,b){var c=this;if(a in this.J){this.tb[a]=this.tb[a]||new e(a,this);var d=this.tb[a],f=null,f=d.text?Promise.resolve(d):c.od.PT(a).then(function(b){var e=new XODText.te;e.xr({m_Struct:b.struct,m_Str:b.str,m_Offsets:b.offsets,m_Quads:b.quads,m_Ready:!0});c.J[a].text=e;c.correctQuadsForPageRotation(a,
e);d.text=e;return d},function(b){console.warn("Error retrieving text for page: "+b);b=new XODText.te;b.xr({m_Struct:[],m_Str:"",m_Offsets:[],m_Quads:[],m_Ready:!0});c.J[a].text=b;d.text=b;return d});f.then(function(a){b(a.text)})}else b(Error("The page "+(a+1)+" does not exist."))},jq:function(a,b){b in this.Pj&&(this.Wr.resolve(),this.Pj[b].cancel(),delete this.Pj[b])},VX:function(){for(var a=_.keys(this.Pj),b=0;b<a.length;b++)this.jq(0,a[b])},QR:function(){this.tb&&_.each(this.tb,function(a){a.Zl&&
a.Zl.dO()})},yl:function(){return!1},sl:d,Ro:d,Jj:function(){return!1},extractXFDF:function(){var a=this;return a.ww().then(function(){return a.bq.then(function(b){return{xfdfString:b,pages:_.range(1,a.J.length+1)}})})},ww:function(){var a=this;a.bq||(a.bq=a.od.dG());return a.bq.then(function(c){if(a.NB&&!a.vF){c=b.Annotations.ba.Sq(c);a.FD(c);var d=[];a.Gv.forEach(function(b){var c=b.IsModified,e=b.Mb()-1;if(!d[e]){var f=a.qI[e].cb;d[e]=new XODText.za;d[e].rl(a.J[e].cb);d[e].concat(f.inverse())}b.wh(d[e]);
b.IsModified=c});a.Gv=[];a.vF=!0}})},kn:d,Nn:function(){return!1},Ko:d,MB:d,Mn:function(){return[]},Db:function(){return this.J.length},zc:function(a){var b={};b.width=this.J[a].width;b.height=this.J[a].height;return b},pj:function(a){a in this.Md&&this.Md[a]&&delete this.Md[a];a in this.Pj&&delete this.Pj[a]},dc:function(){var a=this,c;for(c in b.ci)(c.startsWith("tile_t")||c.startsWith("pageimg"))&&delete b.ci[c];g.Pe.prototype.dc.call(this);return a.od&&a.od.SE().then(function(){a.tb=[];a.xg={};
a.Pj={};a.La=null;a.rj&&a.rj.dc()})},Ns:function(){},Nw:function(a){var c=new b.mk(a.w,a.h),d=a.mtx;c.cb=new XODText.za;c.cb.Fa(d[0],d[1],d[2],d[3],d[4],d[5]);var e=this.nj(c.cb);c.cb=this.UV(d,{w:a.w,Df:a.h});c.rotation=e;return c},UV:function(a,b){var c=new XODText.za;c.Fa(a[0],a[1],a[2],a[3],a[4],a[5]);var d=this.jn(c,b);c.Fa(1,0,0,-1,-d.x1,d.y2);return c},getBookmarks:function(){return Promise.resolve(this.uf)},getFileData:function(a){if(this.qq)return this.qq.promise;var b=this.qq=createPromiseCapability(),
c=this,d={};a.xfdfString&&(d.annots=a.xfdfString);this.wz(d).then(function(a){var d=new XMLHttpRequest;d.open("GET",a.url,!0);d.withCredentials=!0;d.responseType="arraybuffer";d.setRequestHeader("Cache-Control","no-cache");d.setRequestHeader("X-Requested-With","XMLHttpRequest");d.onreadystatechange=function(){if(4===d.readyState){c.qq=null;try{200===d.status?b.resolve(d.response):b.reject("Unable to download PDF data: "+d.status)}catch(a){b.reject("Unable to download PDF data: "+a)}}};d.send()},function(a){b.reject("Unable to download PDF data: "+
a)});return b.promise},Sn:function(){return this.wz({print:!0})},Eq:function(a){a=a||{};return this.wz(a).then(function(b){var c=a.downloadName||a.filename,d=b.url.lastIndexOf(".pdf");b.url=b.url.substring(0,0<d?d:b.url.length)+"?attach=pdf"+(c?"&dlname="+encodeURIComponent(c):"");return Promise.resolve(b)})},gl:function(a){a=a.length;for(var b=Array(a),c=0;c<a;++c)b[c]=Promise.reject("BlackBoxDocument does not support appearances");return b},wz:function(a){var b=this;return this.Dv.promise.then(function(c){var d=
c.ah();return d.TG().then(function(e){var f=createPromiseCapability(),g=createPromiseCapability();if(e){e=c.zc(0);var l=document.createElement("canvas");l.width=e.width;l.height=e.height;var v=l.getContext("2d");v.rect(0,0,e.width,e.height);v.fillStyle="rgba(255, 255, 255, 0.0);";v.fill();b.Zy(l,0);l.OZ(function(a){f.resolve(a)})}else f.resolve(null);e=d.Bb();e=a.annots||(e?e.KF():null);a.annots=null;g.resolve(e);return Promise.all([g.promise,f.promise]).then(function(c){var d=JSON.parse(JSON.stringify(a||
{}));d.annots=c[0];d.watermark=c[1];return b.od.zG(d)})})})},mw:function(a){a=JSON.parse(JSON.stringify(a||{}));a.redactions=a.redactPart;return this.od.zG(a)},Ij:function(){return!1},FG:function(a){return this.J[a].links},Xj:function(){return!0}})})(window);}).call(window);
